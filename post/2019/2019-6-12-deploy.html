<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/192.png"><link rel="mask-icon" href="/192.png" color="#00aba9"><meta name="msapplication-TileColor" content="#00aba9"><meta name="theme-color" content="#ffffff"><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" async="" crossorigin="" src="/assets/app.1a850f28.js"></script><style>@charset "UTF-8";.nav{padding:0 20px;height:80px;width:100vw;background:var(--primary-bg);backdrop-filter:saturate(180%) blur(20px);position:fixed;top:0;left:0;transform:translateZ(0);z-index:9;display:flex;align-items:center;justify-content:center;color:var(--c-text);transition:transform .3s;box-shadow:0 0 10px #0000001a}.nav nav{display:flex;align-items:center;justify-content:space-between;max-width:1200px;flex:1}.nav .logo{padding:20px;font-family:Josefin Sans,serif}.nav .menu{display:flex;align-items:center;justify-content:center}.nav .menu li{padding:20px;cursor:pointer}pre[class*=language-]::-webkit-scrollbar-thumb{background:var(--3b7ca6b3)}.icon{font-size:2em;color:#00aba9;cursor:pointer;position:fixed;bottom:2em;right:2em}.el-drawer{background-color:var(--c-bg)}@media screen and (max-width:768px){.el-drawer{width:100%!important}}.el-drawer__header{box-shadow:0 0 10px #0000001a;padding-bottom:32px;margin-bottom:0}:root{--main-bg-color:#fff;--main-text-color:#888888;--index-bg:radial-gradient(#eaf0ec, #c7d5cc);--clock-shadow:0 -15px 15px rgba(255, 255, 255, .05),inset 0 -15px 15px rgba(255, 255, 255, .05),0 15px 15px rgba(0, 0, 0, .1),inset 0 15px 15px rgba(0, 0, 0, .1);--card-bg:hsla(0, 0%, 100%, .5)}:root{--faded-yellow:#fdf9d3;--faded-green:#e4ffee;--faded-purple:#d2d6e9;--faded-red:#f8e8e5;--faded-blue:#eff7fa}*,:after,:before{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}body{margin:0;line-height:inherit}h1,h2,h3,h4{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}strong{font-weight:bolder}code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button{font-family:inherit;font-size:100%;line-height:inherit;color:inherit;margin:0;padding:0}button{text-transform:none}[type=button],button{-webkit-appearance:button;background-color:transparent;background-image:none}blockquote,figure,h1,h2,h3,h4,p,pre{margin:0}ol,ul{list-style:none;margin:0;padding:0}button{cursor:pointer}img,svg{display:block;vertical-align:middle}img{max-width:100%;height:auto}:root{--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary-rgb:64,158,255;--el-color-success-rgb:103,194,58;--el-color-warning-rgb:230,162,60;--el-color-danger-rgb:245,108,108;--el-color-error-rgb:245,108,108;--el-color-info-rgb:144,147,153;--el-font-size-extra-large:20px;--el-font-size-large:18px;--el-font-size-medium:16px;--el-font-size-base:14px;--el-font-size-small:13px;--el-font-size-extra-small:12px;--el-font-family:"Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","\5fae\8f6f\96c5\9ed1",Arial,sans-serif;--el-font-weight-primary:500;--el-font-line-height-primary:24px;--el-index-normal:1;--el-index-top:1000;--el-index-popper:2000;--el-border-radius-base:4px;--el-border-radius-small:2px;--el-border-radius-round:20px;--el-border-radius-circle:100%;--el-transition-duration:.3s;--el-transition-duration-fast:.2s;--el-transition-function-ease-in-out-bezier:cubic-bezier(.645, .045, .355, 1);--el-transition-function-fast-bezier:cubic-bezier(.23, 1, .32, 1);--el-transition-all:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);--el-transition-fade:opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-md-fade:transform var(--el-transition-duration) var(--el-transition-function-fast-bezier),opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-fade-linear:opacity var(--el-transition-duration-fast) linear;--el-transition-border:border-color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-box-shadow:box-shadow var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-color:color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-component-size-large:40px;--el-component-size:32px;--el-component-size-small:24px}:root{color-scheme:light;--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary:#409eff;--el-color-primary-light-3:#79bbff;--el-color-primary-light-5:#a0cfff;--el-color-primary-light-7:#c6e2ff;--el-color-primary-light-8:#d9ecff;--el-color-primary-light-9:#ecf5ff;--el-color-primary-dark-2:#337ecc;--el-color-success:#67c23a;--el-color-success-light-3:#95d475;--el-color-success-light-5:#b3e19d;--el-color-success-light-7:#d1edc4;--el-color-success-light-8:#e1f3d8;--el-color-success-light-9:#f0f9eb;--el-color-success-dark-2:#529b2e;--el-color-warning:#e6a23c;--el-color-warning-light-3:#eebe77;--el-color-warning-light-5:#f3d19e;--el-color-warning-light-7:#f8e3c5;--el-color-warning-light-8:#faecd8;--el-color-warning-light-9:#fdf6ec;--el-color-warning-dark-2:#b88230;--el-color-danger:#f56c6c;--el-color-danger-light-3:#f89898;--el-color-danger-light-5:#fab6b6;--el-color-danger-light-7:#fcd3d3;--el-color-danger-light-8:#fde2e2;--el-color-danger-light-9:#fef0f0;--el-color-danger-dark-2:#c45656;--el-color-error:#f56c6c;--el-color-error-light-3:#f89898;--el-color-error-light-5:#fab6b6;--el-color-error-light-7:#fcd3d3;--el-color-error-light-8:#fde2e2;--el-color-error-light-9:#fef0f0;--el-color-error-dark-2:#c45656;--el-color-info:#909399;--el-color-info-light-3:#b1b3b8;--el-color-info-light-5:#c8c9cc;--el-color-info-light-7:#dedfe0;--el-color-info-light-8:#e9e9eb;--el-color-info-light-9:#f4f4f5;--el-color-info-dark-2:#73767a;--el-bg-color:#ffffff;--el-bg-color-page:#f2f3f5;--el-bg-color-overlay:#ffffff;--el-text-color-primary:#303133;--el-text-color-regular:#606266;--el-text-color-secondary:#909399;--el-text-color-placeholder:#a8abb2;--el-text-color-disabled:#c0c4cc;--el-border-color:#dcdfe6;--el-border-color-light:#e4e7ed;--el-border-color-lighter:#ebeef5;--el-border-color-extra-light:#f2f6fc;--el-border-color-dark:#d4d7de;--el-border-color-darker:#cdd0d6;--el-fill-color:#f0f2f5;--el-fill-color-light:#f5f7fa;--el-fill-color-lighter:#fafafa;--el-fill-color-extra-light:#fafcff;--el-fill-color-dark:#ebedf0;--el-fill-color-darker:#e6e8eb;--el-fill-color-blank:#ffffff;--el-box-shadow:0px 12px 32px 4px rgba(0, 0, 0, .04),0px 8px 20px rgba(0, 0, 0, .08);--el-box-shadow-light:0px 0px 12px rgba(0, 0, 0, .12);--el-box-shadow-lighter:0px 0px 6px rgba(0, 0, 0, .12);--el-box-shadow-dark:0px 16px 48px 16px rgba(0, 0, 0, .08),0px 12px 32px rgba(0, 0, 0, .12),0px 8px 16px -8px rgba(0, 0, 0, .16);--el-disabled-bg-color:var(--el-fill-color-light);--el-disabled-text-color:var(--el-text-color-placeholder);--el-disabled-border-color:var(--el-border-color-light);--el-overlay-color:rgba(0, 0, 0, .8);--el-overlay-color-light:rgba(0, 0, 0, .7);--el-overlay-color-lighter:rgba(0, 0, 0, .5);--el-mask-color:rgba(255, 255, 255, .9);--el-mask-color-extra-light:rgba(255, 255, 255, .3);--el-border-width:1px;--el-border-style:solid;--el-border-color-hover:var(--el-text-color-disabled);--el-border:var(--el-border-width) var(--el-border-style) var(--el-border-color);--el-svg-monochrome-grey:var(--el-border-color)}@-webkit-keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.el-icon{--color:inherit;height:1em;width:1em;line-height:1em;display:inline-flex;justify-content:center;align-items:center;position:relative;fill:currentColor;color:var(--color);font-size:inherit}.el-icon svg{height:1em;width:1em}:root{--el-popup-modal-bg-color:var(--el-color-black);--el-popup-modal-opacity:.5}@-webkit-keyframes v-modal-in{0%{opacity:0}}@-webkit-keyframes v-modal-out{to{opacity:0}}@-webkit-keyframes dialog-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@-webkit-keyframes dialog-fade-out{0%{transform:translateZ(0);opacity:1}to{transform:translate3d(0,-20px,0);opacity:0}}@-webkit-keyframes modal-fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes modal-fade-out{0%{opacity:1}to{opacity:0}}.el-drawer{--el-drawer-bg-color:var(--el-dialog-bg-color, var(--el-bg-color));--el-drawer-padding-primary:var(--el-dialog-padding-primary, 20px)}.el-drawer{position:absolute;box-sizing:border-box;background-color:var(--el-drawer-bg-color);display:flex;flex-direction:column;box-shadow:var(--el-box-shadow-dark);overflow:hidden;transition:all var(--el-transition-duration)}.el-drawer__sr-focus:focus{outline:0!important}.el-drawer__header{align-items:center;color:#72767b;display:flex;margin-bottom:32px;padding:var(--el-drawer-padding-primary);padding-bottom:0}.el-drawer__header>:first-child{flex:1}.el-drawer__title{margin:0;flex:1;line-height:inherit;font-size:1rem}.el-drawer__close-btn{border:none;cursor:pointer;font-size:var(--el-font-size-extra-large);color:inherit;background-color:transparent;outline:0}.el-drawer__close-btn:focus i,.el-drawer__close-btn:hover i{color:var(--el-color-primary)}.el-drawer__close-btn .el-icon{font-size:inherit;vertical-align:text-bottom}.el-drawer.rtl{height:100%;top:0;bottom:0}.el-drawer.rtl{right:0}@-webkit-keyframes viewer-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@-webkit-keyframes viewer-fade-out{0%{transform:translateZ(0);opacity:1}to{transform:translate3d(0,-20px,0);opacity:0}}:root{--el-loading-spinner-size:42px;--el-loading-fullscreen-spinner-size:50px}@-webkit-keyframes loading-rotate{to{transform:rotate(360deg)}}@-webkit-keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}to{stroke-dasharray:90,150;stroke-dashoffset:-120px}}:root{--el-menu-active-color:var(--el-color-primary);--el-menu-text-color:var(--el-text-color-primary);--el-menu-hover-text-color:var(--el-color-primary);--el-menu-bg-color:var(--el-fill-color-blank);--el-menu-hover-bg-color:var(--el-color-primary-light-9);--el-menu-item-height:56px;--el-menu-sub-item-height:calc(var(--el-menu-item-height) - 6px);--el-menu-horizontal-sub-item-height:36px;--el-menu-item-font-size:var(--el-font-size-base);--el-menu-item-hover-fill:var(--el-color-primary-light-9);--el-menu-border-color:var(--el-border-color);--el-menu-base-level-padding:20px;--el-menu-level-padding:20px;--el-menu-icon-width:24px;--el-menu-icon-transform-closed:none;--el-menu-icon-transform-open:rotateZ(180deg)}@-webkit-keyframes msgbox-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@-webkit-keyframes msgbox-fade-out{0%{transform:translateZ(0);opacity:1}to{transform:translate3d(0,-20px,0);opacity:0}}.el-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2000;height:100%;background-color:var(--el-overlay-color-lighter);overflow:auto}@-webkit-keyframes progress{0%{background-position:0 0}to{background-position:32px 0}}@-webkit-keyframes indeterminate{0%{left:-100%}to{left:100%}}@-webkit-keyframes el-skeleton-loading{0%{background-position:100% 50%}to{background-position:0 50%}}@-webkit-keyframes rotate{to{transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}@-webkit-keyframes slideInRight-enter{0%{opacity:0;transform-origin:0 0;transform:translate(100%)}to{opacity:1;transform-origin:0 0;transform:translate(0)}}@-webkit-keyframes slideInRight-leave{0%{transform-origin:0 0;transform:translate(0);opacity:1}to{transform-origin:0 0;transform:translate(100%);opacity:0}}@-webkit-keyframes slideInLeft-enter{0%{opacity:0;transform-origin:0 0;transform:translate(-100%)}to{opacity:1;transform-origin:0 0;transform:translate(0)}}@-webkit-keyframes slideInLeft-leave{0%{transform-origin:0 0;transform:translate(0);opacity:1}to{transform-origin:0 0;transform:translate(-100%);opacity:0}}:root{--c-bg:#fafafa;--primary-bg:#fafafabf;--light-shadow:4px 2px 40px rgb(0 0 0 / 10%);--primary-color:#1c6b48;--c-brand:var(--primary-color);--el-color-white:var(--primary-color);--c-brand:#3fb9b8;--c-brand-light:#50e5e5;--c-text:#2c3e50;--c-text-light:#3a5169;--c-text-lighter:#4e6e8e;--c-text-lightest:#6a8bad;--c-text-quote:#999999;--c-bg:#ffffff;--c-bg-light:#f3f4f5;--c-bg-lighter:#eeeeee;--c-bg-navbar:var(--c-bg);--c-bg-sidebar:var(--c-bg);--c-bg-arrow:#cccccc;--c-border:#eaecef;--c-border-dark:#dfe2e5}@font-face{font-family:Josefin Sans;font-style:normal;font-weight:300;src:local("Josefin Sans Light"),local("JosefinSans-Light"),url(/fonts/Josefin-light.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:fallback}@font-face{font-family:Josefin Sans;font-style:normal;font-weight:400;src:local("Josefin Sans Regular"),local("JosefinSans-Regular"),url(/fonts/Josefin.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:fallback}@font-face{font-family:Consolas;font-style:normal;font-weight:400;src:url(/fonts/consola.ttf);font-display:fallback}@font-face{font-family:League Mono;src:url(/fonts/LeagueMono-Regular.woff2);font-display:fallback}.sino{font-size:16px;font-weight:400;line-height:1.5;overflow-wrap:break-word;word-wrap:break-word;hyphens:auto}.sino:after,.sino:before{content:"";display:table}.sino:after{clear:both}.sino>:first-child{margin-block-start:0!important}.sino>:last-child{margin-block-end:0!important}.sino figure{display:block;text-align:center}.sino figure>img{display:block;margin-inline-start:auto;margin-inline-end:auto}.sino h1,.sino h2,.sino h3,.sino h4{position:relative;margin:0;margin-block-start:24px;margin-block-end:12px;font-weight:600}.sino h1{margin-block-end:24px;font-size:1.6em;line-height:48px}.sino h2{font-size:1.3em;line-height:36px}.sino h3{font-size:1.2em;line-height:36px}.sino h4{font-size:1em;line-height:24px}.sino h1,.sino h2,.sino h3{letter-spacing:.05em}.sino h1+h2,.sino h2+h3,.sino h3+h4{margin-block-start:12px}.sino a{text-decoration:none}.sino a:hover{padding-block-end:1px;border-block-end:1px solid currentColor;text-decoration:none}.sino em,.sino strong{font-weight:600}.sino strong{font-weight:600}.sino{font-family:Helvetica Neue,helvetica,arial,Hei,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}:root{--prism-scheme:light;--prism-foreground:#6e6e6e;--prism-background:#f4f4f4;--prism-comment:#a8a8a8;--prism-string:#555555;--prism-literal:#333333;--prism-keyword:#000000;--prism-function:#4f4f4f;--prism-deleted:#333333;--prism-class:#333333;--prism-builtin:#757575;--prism-property:#333333;--prism-namespace:#4f4f4f;--prism-punctuation:#ababab;--prism-decorator:var(--prism-class);--prism-operator:var(--prism-punctuation);--prism-number:var(--prism-literal);--prism-boolean:var(--prism-literal);--prism-variable:var(--prism-literal);--prism-constant:var(--prism-literal);--prism-symbol:var(--prism-literal);--prism-interpolation:var(--prism-literal);--prism-selector:var(--prism-keyword);--prism-keyword-control:var(--prism-keyword);--prism-regex:var(--prism-string);--prism-json-property:var(--prism-property);--prism-inline-background:var(--prism-background);--prism-comment-style:italic;--prism-url-decoration:underline;--prism-line-number:#a5a5a5;--prism-line-number-gutter:#333333;--prism-line-highlight-background:#eeeeee;--prism-selection-background:#aaaaaa;--prism-marker-color:var(--prism-foreground);--prism-marker-opacity:.4;--prism-marker-font-size:.8em;--prism-font-size:1em;--prism-line-height:1.4em;--prism-font-family:monospace;--prism-inline-font-size:var(--prism-font-size);--prism-block-font-size:var(--prism-font-size);--prism-tab-size:2;--prism-block-padding-x:1em;--prism-block-padding-y:1em;--prism-block-margin-x:0;--prism-block-margin-y:.5em;--prism-block-radius:.3em;--prism-inline-padding-x:.3em;--prism-inline-padding-y:.1em;--prism-inline-radius:.3em}code[class*=language-],div[class*=language-],pre[class*=language-]{font-size:var(--prism-font-size);font-family:var(--prism-font-family);direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:var(--prism-line-height);-moz-tab-size:var(--prism-tab-size);-o-tab-size:var(--prism-tab-size);tab-size:var(--prism-tab-size);-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;color:var(--prism-foreground)!important}div[class*=language-],pre[class*=language-]{font-size:var(--prism-block-font-size);padding:var(--prism-block-padding-y) var(--prism-block-padding-x);margin:var(--prism-block-margin-y) var(--prism-block-margin-x);border-radius:var(--prism-block-radius);overflow:auto;background:var(--prism-background)}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:var(--prism-selection-background)}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:var(--prism-selection-background)}.token.comment{color:var(--prism-comment);font-style:var(--prism-comment-style)}.token.string{color:var(--prism-string)}.token.punctuation{color:var(--prism-punctuation)}.token.operator{color:var(--prism-operator)}.token.constant{color:var(--prism-constant)}.token.boolean{color:var(--prism-boolean)}.token.number{color:var(--prism-number)}.token.variable{color:var(--prism-variable)}.token.keyword{color:var(--prism-keyword)}.token.atrule{color:var(--prism-selector)}.token.function{color:var(--prism-function)}.token.important{font-weight:700}.token.class-name{color:var(--prism-class)}.token.builtin{color:var(--prism-builtin)}.token.property{color:var(--prism-property)}:root{--c-tip:#42b983;--c-info:hsl(245deg 100% 60%);--c-info-bg:hsl(210deg 55% 92%);--c-tip-bg:hsl(160deg 100% 40% / 10%);--c-tip-title:var(--c-text);--c-tip-text:var(--c-text);--c-tip-text-accent:var(--c-text-accent);--c-warning:hsl(37deg 100% 50%);--c-warning-bg:hsl(52deg 100% 50% / 25%);--c-warning-text-accent:var(--c-text);--c-danger:#cc0000;--c-danger-bg:#ffe0e0;--c-danger-title:#990000;--c-danger-text:#660000;--c-danger-text-accent:var(--c-text);--c-details-bg:#eeeeee}html:not(.dark){--prism-foreground:#393a34;--prism-background:#fbfbfb;--prism-comment:#a0ada0;--prism-string:#b56959;--prism-literal:#2f8a89;--prism-number:#296aa3;--prism-keyword:#1c6b48;--prism-function:#6c7834;--prism-boolean:#1c6b48;--prism-constant:#a65e2b;--prism-deleted:#a14f55;--prism-class:#2993a3;--prism-builtin:#ab5959;--prism-property:#b58451;--prism-namespace:#b05a78;--prism-punctuation:#8e8f8b;--prism-decorator:#bd8f8f;--prism-regex:#ab5e3f;--prism-json-property:#698c96;--prism-font-family:ui-monospace,SFMono-Regular,SF Mono,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace,"League Mono",Consolas,-apple-system;--rainbow-gradient:linear-gradient(-90deg, #557e6d 0, #1b6787 30%, #81524c 50%, #36673b 70%, #575a31 90%, #345346 100%);--c-text-heading:#0f0f0d}.markdown-body{padding:100px 40px;max-width:52em;font-size:16px;margin:auto;box-sizing:border-box;color:var(--c-text);font-family:var(--font-family)}.markdown-body p{margin:1em 0;line-height:1.75}.markdown-body li{line-height:1.75}.markdown-body h1 .content{position:relative;color:var(--md-text);z-index:2;background-image:var(--rainbow-gradient,#fff);background-size:100%;background-repeat:repeat;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;filter:drop-shadow(0 0 2rem #000);text-shadow:none!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4{color:var(--c-text-heading)}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body a:not(.header-anchor){color:var(--c-brand);padding-block-end:1px;border-block-end:1px solid currentColor}.markdown-body code{color:var(--c-text-lighter)!important;padding:.15rem .5rem;margin:0 .25rem;background-color:var(--c-bg-light);border-radius:3px;overflow-wrap:break-word;transition:background-color var(--t-color);font-size:14px}div[class*=language-].ext-html:before{content:"html  ";position:absolute;top:.6rem;right:4rem;opacity:.5;text-transform:uppercase;font-size:14px}div[class*=language-].code-wrapper{padding:2.5em 0 1em;background-color:var(--prism-background);position:relative;border-radius:12px;overflow:hidden;margin-bottom:1em}div[class*=language-].code-wrapper .code-inner{position:relative;padding-left:2.5em;padding-right:.5em}pre[class*=language-]{position:relative;padding:0 0 0 .5em;margin:0;background:0 0;font-size:14px}pre[class*=language-] code{background-color:transparent;padding:0;margin:0}.line-numbers-wrapper{position:absolute;top:2.5rem;left:0;line-height:1.4;margin:0;text-align:right;padding-right:.5em;border-right:1px solid rgba(95,95,95,.06);width:2.5em;font-size:14px}.line-numbers-wrapper .line-number{display:inline-block;line-height:1.4;opacity:.5}.cbt-traffic_light{position:absolute;top:12px;left:13px;display:flex;align-items:center}.cbt-traffic_light span{margin-right:8px;width:12px;height:12px;border-radius:50%}.cbt-traffic_light span:nth-child(1){background-color:#ff5f56}.cbt-traffic_light span:nth-child(2){background-color:#ffbd2e}.cbt-traffic_light span:nth-child(3){background-color:#27c93f}[class*=language-]>span.copy{position:absolute;top:8px;right:8px;z-index:2;display:block;justify-content:center;align-items:center;border-radius:4px;height:40px;background-color:var(--vp-code-block-bg);cursor:pointer;background-image:var(--vp-icon-copy);background-position:50%;background-size:20px;background-repeat:no-repeat;transition:opacity .25s}[class*=language-]>span.copy:before{content:"\590d\5236\4ee3\7801";padding:2px 8px;border-radius:4px;font-size:10px;background:var(--c-bg-light);color:var(--c-text)}[class*=language-]>span.copy:hover:before{background:var(--c-bg-lighter)}[class*=language-]:hover>span.copy{opacity:1}body,html{--font-family:"League Mono",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif;padding:0;margin:0;background-color:var(--c-bg);transition:background-color var(--t-color);font-family:var(--font-family);display:flex;flex-direction:column;min-height:100vh;width:100%;overflow-x:hidden;color:var(--c-text)}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:16px;color:var(--c-text)}#app{display:flex;flex-direction:column;min-height:100vh;width:100%;overflow-x:hidden}#app main.px-4{flex:1}a{font-weight:500;color:var(--c-text-accent);text-decoration:none;overflow-wrap:break-word}img{position:relative}img:after{position:absolute;width:100%;height:100%;content:"";display:block;top:0;left:0;background-color:var(--c-bg);background-size:100%}.i-ant-design\:comment-outlined{--un-icon:url("data:image/svg+xml;utf8,%3Csvg preserveAspectRatio='xMidYMid meet' viewBox='0 0 1024 1024' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z'/%3E%3Cpath fill='currentColor' d='M894 345c-48.1-66-115.3-110.1-189-130v.1c-17.1-19-36.4-36.5-58-52.1c-163.7-119-393.5-82.7-513 81c-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4c5.3 16.9 23.3 26.2 40.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6c17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5l-99 31l-1-104l-8-9c-84.6-103.2-90.2-251.9-11-361c96.4-132.2 281.2-161.4 413-66c132.2 96.1 161.5 280.6 66 412c-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10l1 104l-98-33l-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1C613.7 788.2 680.7 742.2 729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62c72.6 99.6 68.5 235.2-8 330z'/%3E%3Cpath fill='currentColor' d='M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z'/%3E%3C/svg%3E");mask:var(--un-icon) no-repeat;mask-size:100% 100%;-webkit-mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;background-color:currentColor;width:1.2em;height:1.2em}[i-carbon-dicom-overlay=""]{--un-icon:url("data:image/svg+xml;utf8,%3Csvg preserveAspectRatio='xMidYMid meet' viewBox='0 0 32 32' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath d='M28 6v20H4V6h24m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z' fill='currentColor'/%3E%3Cpath d='M6 8h10v2H6z' fill='currentColor'/%3E%3Cpath d='M6 12h10v2H6z' fill='currentColor'/%3E%3Cpath d='M6 16h6v2H6z' fill='currentColor'/%3E%3C/svg%3E");mask:var(--un-icon) no-repeat;mask-size:100% 100%;-webkit-mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;background-color:currentColor;width:1.2em;height:1.2em}[i-carbon-logo-github=""]{--un-icon:url("data:image/svg+xml;utf8,%3Csvg preserveAspectRatio='xMidYMid meet' viewBox='0 0 32 32' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2Z'/%3E%3C/svg%3E");mask:var(--un-icon) no-repeat;mask-size:100% 100%;-webkit-mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;background-color:currentColor;width:1.2em;height:1.2em}[i-iconoir\:home-simple-door=""]{--un-icon:url("data:image/svg+xml;utf8,%3Csvg preserveAspectRatio='xMidYMid meet' viewBox='0 0 24 24' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M9 21H7a4 4 0 0 1-4-4v-6.292a4 4 0 0 1 1.927-3.421l5-3.03a4 4 0 0 1 4.146 0l5 3.03A4 4 0 0 1 21 10.707V17a4 4 0 0 1-4 4h-2m-6 0v-4a3 3 0 0 1 3-3v0a3 3 0 0 1 3 3v4m-6 0h6'/%3E%3C/svg%3E");mask:var(--un-icon) no-repeat;mask-size:100% 100%;-webkit-mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;background-color:currentColor;width:1.2em;height:1.2em}[i-ph\:image-fill=""]{--un-icon:url("data:image/svg+xml;utf8,%3Csvg preserveAspectRatio='xMidYMid meet' viewBox='0 0 256 256' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M168 100a12 12 0 0 1-12 12a12.3 12.3 0 0 1-8.5-3.5a11.9 11.9 0 0 1-3.5-8.5a12 12 0 0 1 24 0Zm64-44v144a16 16 0 0 1-16 16H40a16 16 0 0 1-16-16V56a16 16 0 0 1 16-16h176a16 16 0 0 1 16 16Zm-16 108.7V56H40v92.7L76.7 112a16.1 16.1 0 0 1 22.6 0l44.7 44.7l20.7-20.7a16.1 16.1 0 0 1 22.6 0Z'/%3E%3C/svg%3E");mask:var(--un-icon) no-repeat;mask-size:100% 100%;-webkit-mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;background-color:currentColor;width:1.2em;height:1.2em}[i~=carbon-sun]{--un-icon:url("data:image/svg+xml;utf8,%3Csvg preserveAspectRatio='xMidYMid meet' viewBox='0 0 32 32' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z'/%3E%3C/svg%3E");mask:var(--un-icon) no-repeat;mask-size:100% 100%;-webkit-mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;background-color:currentColor;width:1.2em;height:1.2em}.icon-btn{display:inline-block;cursor:pointer;user-select:none;opacity:.75;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:150ms;transition-duration:.2s}.icon-btn:hover{--un-text-opacity:1;color:rgba(13,148,136,var(--un-text-opacity));opacity:1}.mx-2{margin-left:.5rem;margin-right:.5rem}[mt-6=""]{margin-top:1.5rem}.flex{display:flex}.justify-between{justify-content:space-between}.px-4{padding-left:1rem;padding-right:1rem}.py-10,[py-10=""]{padding-top:2.5rem;padding-bottom:2.5rem}[pt-10=""]{padding-top:2.5rem}.text-center,[text-center=""]{text-align:center}.text-left{text-align:left}.font-sans{font-family:"DM Sans",ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}[text-xl=""]{font-size:1.25rem;line-height:1.75rem}.text-gray-500{--un-text-opacity:1;color:rgba(107,114,128,var(--un-text-opacity))}.text-gray-700{--un-text-opacity:1;color:rgba(55,65,81,var(--un-text-opacity))}[color~="\#00aba9"]{--un-text-opacity:1;color:rgba(0,171,169,var(--un-text-opacity))}.\!outline-none{outline:2px solid transparent!important;outline-offset:2px!important}[content~="\#00aba9"]{content:"#00aba9"}[content~="\#ffffff"]{content:"#ffffff"}[content~="initial-scale\=1\.0"]{content:"initial-scale=1.0"}[content~="width\=device-width\2c "]{content:"width=device-width,"}:root{--md-text-color:#111827;--md-code-background:rgba(27,31,35,.05);--code-font:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}</style><link rel="preload" href="/assets/app.646ecbe7.css" as="style"><link rel="manifest" href="/manifest.webmanifest"><link rel="modulepreload" crossorigin="" href="/assets/2019-6-12-deploy.6c084120.js"><link rel="preload" href="/assets/2019-6-12-deploy.a00b2061.css" as="style"><title>持续集成与持续部署</title><meta name="description" content="artiely blog"><meta property="og:title" content="持续集成与持续部署"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="head:count" content="3"><link rel="preload" as="font" crossorigin="anonymous" href="/fonts/Josefin-light.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/fonts/Josefin.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/fonts/num.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/fonts/ipix.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/fonts/Nunito.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/fonts/consola.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="/fonts/Artiely.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/fonts/MicrosoftYaqiHeiLight.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="/fonts/LeagueMono-Regular.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/dmmono/v10/aFTU7PB1QTsUX8KYhh0.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/dmsans/v11/rP2Hp2ywxg089UriOZQ.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="https://fonts.gstatic.com/s/dmserifdisplay/v10/-nFnOHM81r4j6k0gjAW3mujVU2B2K_c.ttf"></head><body class="font-sans"><div id="app" data-server-rendered="true"><!--[--><!--[--><nav class="nav show" style="--3b7ca6b3:rgba(92, 110, 130, 0.05)"><nav><div style="display:flex;align-items:center"><a class="logo" href="/">Artiely's Blog </a><button class="icon-btn mx-2 !outline-none" title="Toggle dark mode"><div i="carbon-sun dark:carbon-moon"></div></button></div><div><ul class="menu"><!--[--><li><a href="/" class="">首页</a></li><li><a href="/posts" class="">编码</a></li><li><a href="/bookmark" class="">书签</a></li><li><a href="/about" class="">关于</a></li><li><a href="https://github.com/artiely" target="_blank">Github</a></li><!--]--></ul></div></nav></nav><main class="px-4 py-10 text-center text-gray-700 dark:text-gray-200" style="--3b7ca6b3:rgba(92, 110, 130, 0.05)"><div class="is-blog markdown-body sino text-left"><div><h1 id="%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E4%B8%8E%E6%8C%81%E7%BB%AD%E9%83%A8%E7%BD%B2" tabindex="-1"><span class="prefix"></span><span class="content">持续集成与持续部署</span><span class="suffix"></span></h1><h2 id="%E4%BB%8B%E7%BB%8D" tabindex="-1"><span class="prefix"></span><span class="content">介绍</span><span class="suffix"></span></h2><p>那些大厂们，天天DevOps、持续集成的？到底在讲些什么？给你揭开持续集成与持续部署的面纱！！没有什么难的，盘它！</p><p><strong>传统的开发过程中的坑：</strong></p><ul><li>BUG总是在最后才发现</li><li>越到项目后期，加班越严重</li><li>交付无法保障</li><li>变更频繁导致效率低下</li><li>无效的等待多，用户满足度低</li></ul><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114319.png" alt="img"></figure><p><strong>你有没有想过/用过？当你哪一天…</strong></p><ul><li>不用为开发/测试环境不一致而苦恼</li><li>不用麻烦运维人员帮忙调试环境</li><li>不用手动进行测试，模拟环境中进行自测</li><li>不用手动发布、部署，自动化实现发布部署</li><li>不用管开发/测试环境，只用专注代码的开发？</li></ul><p><strong>持续集成解决了什么问题？</strong></p><ul><li>提高软件质量</li><li>效率迭代</li><li>便捷部署</li><li>快速交付、便于管理</li></ul><p><strong>主要内容：</strong></p><ul><li><p>什么是CI/CD</p></li><li><p>介绍CI/CD流程</p></li><li><p>前端项目：结合CI/CD流程，实现快速迭代</p></li><li><p>Docker的使用，Jenkins+gitlab+nodejs自动化项目</p></li><li><p>持续集成工具介绍：Jenkins、Travis CI、Circle CI</p></li></ul><p><strong>环境准备：</strong></p><ul><li>Linux服务器(Centos 7.6/Ubuntu 16.04LTS)</li><li>VSCode+插件 Dockerfile</li><li>注册github账号</li></ul><h2 id="%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90" tabindex="-1"><span class="prefix"></span><span class="content">持续集成</span><span class="suffix"></span></h2><h3 id="%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5" tabindex="-1"><span class="prefix"></span><span class="content">核心概念</span><span class="suffix"></span></h3><p><strong>集成，就是一些孤立的事物或元素通过某种方式集中在一起，产生联系，从而构成一个有机整体的过程</strong>。知识经济的社会，集成已经成了很重要的一个名词。各行各业基本都会用到集成。比如汽车行业，那么复杂的一台跑车愣是通过一大堆零件组装起来。对于这些传统行业，它们在研发成功以后，可以通过流水线的方法批量生产进行集成。而在软件行业中，集成并不是一个简单的“搬箱子”的过程。因为软件工业是一个知识生产活动，其内在逻辑非常复杂，需求又很难一次性确定，完成的产品与最初的设计往往相差很远。敏捷宣言中就有一条是说响应变化重于遵循计划。而且由于软件行业的迅猛发展，软件变的越来越复杂，单靠个人是根本无法完成。大型软件为了重用及解耦，往往还需要分成好几个模块，这样集成就成了软件开发中不可或缺的一部分。</p><p>持续，不言而喻，就是指<strong>长期的对项目代码进行集成。</strong></p><h4 id="%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90-1" tabindex="-1"><span class="prefix"></span><span class="content">持续集成</span><span class="suffix"></span></h4><p>持续集成（英文：Continuous Integration，简称CI）</p><p>在软件工程中，持续集成是指将所有开发者工作副本每天多次合并到主干的做法。</p><blockquote><p>Grady Booch 在1991年的 Booch method 中首次命名并提出了 CI 的概念，尽管在当时他并不主张每天多次集成。而 XP（Extreme programming，极限编程）采用了 CI 的概念，并提倡每天不止一次集成。</p><p>在《持续集成》一书中，对持续集成的定义如下：<code class="">持续集成</code>是一种软件开发实践。在持续集成中，团队成员频繁集成他们的工作成果，一般每人每天至少集成一次,也可以多次。每次集成会经过自动构建(包括自动测试)的检验，以尽快发现集成错误。自从在团队中引入这样的实践之后，<code class="">Martin Fowler</code>发现这种方法可以显著减少集成引起的问题，并可以加快团队合作软件开发的速度。</p></blockquote><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114320.jpg" alt="img"></figure><p>持续集成强调开发人员提交了新代码之后，立刻进行构建、（单元）测试。根据测试结果，我们可以确定新代码和原有代码能否正确地集成在一起。</p><p>对于一天需要集成多少次数，并没有一个明确的定义。一般就是按照自己项目的实际需要来设置一定的频率，少则可能几次，多则可能达几十次。可以设置按照代码的变更来触发集成，或者设置一个固定时间周期来集成，也可以手工点击集成的按钮来“一键集成”。</p><h4 id="%E6%8C%81%E7%BB%AD%E4%BA%A4%E4%BB%98" tabindex="-1"><span class="prefix"></span><span class="content">持续交付</span><span class="suffix"></span></h4><p>持续交付（英文：Continuous Delivery，简称CD）</p><p>完成 CI 中构建及单元测试和集成测试的自动化流程后，持续交付可自动将已验证的代码发布到存储库。为了实现高效的持续交付流程，务必要确保 CI 已内置于开发管道。持续交付的目标是拥有一个可随时部署到生产环境的代码库。</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114321.jpg" alt="img"></figure><p>在持续交付中，每个阶段（从代码更改的合并，到生产就绪型构建版本的交付）都涉及测试自动化和代码发布自动化。在流程结束时，运维团队可以快速、轻松地将应用部署到生产环境中。</p><p>比如，我们完成单元测试后，可以把代码部署到连接数据库的 Staging 环境中更多的测试。如果代码没有问题，可以继续<code class="">手动</code>部署到生产环境中。</p><h4 id="%E6%8C%81%E7%BB%AD%E9%83%A8%E7%BD%B2" tabindex="-1"><span class="prefix"></span><span class="content">持续部署</span><span class="suffix"></span></h4><p>持续部署（英文：Continuous Deployment，简称CD）</p><p>对于一个成熟的 CI/CD 管道来说，最后的阶段是持续部署。作为持续交付——自动将生产就绪型构建版本发布到代码存储库——的延伸，持续部署可以自动将应用发布到生产环境。由于在生产之前的管道阶段没有手动门控，因此持续部署在很大程度上都得依赖精心设计的测试自动化。</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114322.png" alt="img"></figure><p>实际上，持续部署意味着开发人员对应用的更改在编写后的几分钟内就能生效（假设它通过了自动化测试）。这更加便于持续接收和整合用户反馈。总而言之，所有这些 CI/CD 的关联步骤都有助于降低应用的部署风险，因此更便于以小件的方式（而非一次性）发布对应用的更改。不过，由于还需要编写自动化测试以适应 CI/CD 管道中的各种测试和发布阶段，因此前期投资还是会很大。</p><p>持续部署则是在持续交付的基础上，把部署到生产环境的过程<code class="">自动化</code>。</p><h3 id="%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E7%BB%84%E6%88%90%E8%A6%81%E7%B4%A0" tabindex="-1"><span class="prefix"></span><span class="content">持续集成组成要素</span><span class="suffix"></span></h3><p><strong>一个最小化的持续集成系统需要包含以下几个要素：</strong></p><ol><li>**版本管理系统：**项目的源代码需要托管到适合的版本管理系统中，一般我们使用git作为版本控制库，版本管理软件可以使用github、<code class="">gitlab</code>、stash等。</li><li>**构建脚本&amp;工具：**每个项目都需要有构建脚本来实现对整个项目的自动化构建。比如Java的项目就可以使用gradle作为构建工具。通过构建工具实现对编译、静态扫描、运行测试、样式检查、打包、发布等活动串起来，可以通过命令行自动执行。</li><li>**CI服务器：**CI服务器可以检测项目中的代码变动，并及时的通过构建机器运行构建脚本，并将集成结果通过某种方式反馈给团队成员。</li></ol><h3 id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF" tabindex="-1"><span class="prefix"></span><span class="content">应用场景</span><span class="suffix"></span></h3><ul><li><p>打包平台</p><p>常见的打包，Java应用（Gradle/Maven）、Nodejs前端应用(npm/yarn)</p><p>移动端打包：Android/iOS</p></li><li><p>测试平台</p><p>接口测试</p><p>自动化测试Robotium、Testlink</p><p>单元测试junit</p><p>性能测试Jmeter</p></li><li><p>自动部署</p><p>FTP</p><p>Shell</p><p>Tomcat/Dokcer</p><p>Kubernetes/Rancher/Cluster</p></li><li><p>持续集成</p><p>Git: gitlab github gitee等</p><p>Jenkins/TravisCi/CircleCI</p><p>Docker</p></li></ul><h3 id="%E5%B7%A5%E4%BD%9C%E6%B5%81" tabindex="-1"><span class="prefix"></span><span class="content">工作流</span><span class="suffix"></span></h3><h4 id="%E4%BC%A0%E7%BB%9F%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81" tabindex="-1"><span class="prefix"></span><span class="content">传统的工作流</span><span class="suffix"></span></h4><p>参与人员：开发、项目经理、测试</p><p>主要流程：</p><ul><li>项目一开始是先划分好模块，<code class="">分配模块</code>给相应的开发人员；</li><li>开发人员<code class="">开发好</code>一个模块就进行<code class="">单元测试</code>；</li><li>等所有的模块都开发完成之后，由项目经理对<code class="">所有代码进行集成</code>；</li><li>集成后的项目由项目经理<code class="">部署到测试服务器</code>上，被交由测试人员进行集成测试；</li><li>测试过程中出现 Bug 就提把问题<code class="">记录</code>进行 <code class="">Bug</code> 列表中；</li><li><code class="">项目经理分配 Bug</code> 给相应的责任人进行修改；</li><li>修改完成后，项目经理<code class="">再次</code>对项目进行集成，并<code class="">部署</code>到测试服务器上；</li><li>测试人员在下一次的集成测试中进行<code class="">回归测试</code>；</li><li>通过通过之后就<code class="">部署到生产环境</code>中；</li><li>如果测试不通过，则重复上述“分配 Bug -&gt; 修改 Bug -&gt; 集成代码 -&gt; 部署到测试服务器上 -&gt; 集成测试”工作。</li></ul><blockquote><p>这也是传统的瀑布式开发模型，请参考：<a href="https://www.cnblogs.com/-OYK/archive/2012/10/08/2714669.html" target="_blank" rel="noopener">软件开发模式对比(瀑布、迭代、螺旋、敏捷)</a></p></blockquote><p>带来的问题：</p><ol><li><p><strong>重复性劳动，无效的等待变多</strong></p><p>重复的进行发布部署。</p><p>流程上：有可能开发在等集成其他人的模块；测试人员在等待开发人员修复 Bug；产品经理在等待新版本上线好给客户做演示；项目经理在等待其他人提交代码。不管怎么样，等待意味低效。</p><p>自动化部署工作可以解放了集成、测试、部署等重复性劳动，而且机器集成的频率明显可以比手工的高很多。</p></li><li><p><strong>很晚才发现缺陷，并且难以修复</strong>。</p><p>实践证明，缺陷发现的越晚，需要修复的时间和精力也就越大。从上一个可工作的软件到发现缺陷之间可能存在很多次提交，而要从这些提交中找出问题并修复的成本会很大，因为开发人员需要回忆每个提交的上下文来评估影响点。</p></li><li><p><strong>低品质的软件，软件交付时机无法保障</strong></p><p>由于集成时每次包含的代码很多，所以大家的关注点主要都是如何保证编译通过、自动化测试通过，而往往很容易忽略代码是否遵守了编码规范、是否包含有重复代码、是否有重构的空间等问题。而这些问题又反过来会影响今后的开发和集成，久而久之集成变得越来越困难，软件的质量可想而知。</p></li><li><p><strong>项目缺少可见性</strong></p><p>某些项目，程序会经常需要变更，特别是敏捷开发的实践者。由于产品经理在与客户交流过程中，往往实际的软件就是最好的原型，所以软件会被当作原型作为跟客户交流的工具。当然，客户最希望的当然是客户的想法能够马上反映到原型上，这会导致程序会经常被修改的。那么也就意味着“分配 Bug -&gt; 修改 Bug -&gt; 集成代码 -&gt; 部署到测试服务器上 -&gt; 集成测试”工作无形又爆增了。</p></li></ol><h4 id="%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81" tabindex="-1"><span class="prefix"></span><span class="content">常见的工作流</span><span class="suffix"></span></h4><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114323.png" alt="DevOps"></figure><p>该系统的各个组成部分是按如下顺序来发挥作用的：</p><ol><li><p>开发者检入代码到源代码仓库。</p></li><li><p>CI系统会为每一个项目创建了一个单独的工作区。当预设或请求一次新的构建时，它将把源代码仓库的源码存放到对应的工作区。</p></li><li><p>CI系统会在对应的工作区内执行构建过程。</p></li><li><p>配置如果存在）构建完成后，CI系统会在一个新的构件中执行定义的一套测试。完成后触发通知(Email,RSS等等)给相关的当事人。</p></li><li><p>配置如果存在）如果构建成功，这个构件会被打包并转移到一个部署目标(如应用服务器)或存储为软件仓库中的一个新版本。软件仓库可以是CI系统的一部分，也可以是一个外部的仓库，诸如一个文件服务器或者像Java.net、SourceForge之类的网站。</p></li><li><p>CI系统通常会根据请求发起相应的操作，诸如即时构建、生成报告，或者检索一些构建好的构件。</p></li></ol><blockquote><p>“You build it, you run it”，这是 Amazon 一年可以完成 5000 万次部署，平均每个工程师每天部署超过 50 次的核心秘籍。</p></blockquote><h4 id="%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98" tabindex="-1"><span class="prefix"></span><span class="content">解决的问题</span><span class="suffix"></span></h4><ul><li><p>高效率</p><p>高效率的发布，避免了重复性的劳动；</p><p>更快的修复BUG，更快的交付成果，减少了等待时间。</p></li><li><p>高质量</p><p>只有在完成集成测试、系统测试后，才能得到可用的软件，整个过程中只有最后时刻才能拿到可运行软件。集成活动不一定在一个标准的构建机器上生成，而是在某个开发人员的机器上构建的，那么可能存在在其他机器上无法运行的问题。</p><p>人与机器的一个最大的区别是，在重复性动作上，人容易犯错，而机器犯错的几率几乎为零。所以，当我们搭建完成集成服务器后，以后的事就交给集成服务器来打理吧。</p></li><li><p>高产出</p><p>快速开发和上市一个新产品，并快速取得预期的投资回报是每个企业孜孜以求的目标。</p><p>便捷的部署+项目的可预期，使得团队的开发变成了一种开心的事情。</p><p>持续集成可以让你在任何时间发布可以部署的软件。在外界看来，这是持续集成最明显的好处，对客户来说，可以部署的软件产品是最实际的资产。利用持续集成，你可以经常对源代码进行一些小改动，并将这些改动和其他代码进行集成。</p></li></ul><h4 id="%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" tabindex="-1"><span class="prefix"></span><span class="content">常见问题</span><span class="suffix"></span></h4><ol><li><p>思维转变后，新技术抵触</p><ul><li>无法接受新事物：不管怎么样，求稳心态的人还是多。总是有人认为老的技术代表稳定，新的事物往往会带来问题。</li><li>认为手工集成也没有多少工作量：不是所有的人都参与到了整个持续集成的环节，所以没有办法认识到问题全貌。</li></ul><p><strong>针对这个问题，可以通过设置一定的持续集成技术培训、宣讲得到改观</strong></p></li><li><p>管理层的抵触</p><ul><li>培训持续集成需要投入资金啊，没钱。</li><li>持续集成服务器要增加软硬件成本啊，没钱。</li><li>开发人员领了那么高的工资，多干活多加班应该啊。</li></ul><p><strong>针对这一点，可以从开发人员的成本和持续集成的投入（软硬件）的成本上两者做下估算。</strong></p><blockquote><p>硬件参考：</p><p>Jenkins主服务器一般2C4G，slave服务器根据生产需要进行选购。</p><p>git服务器一般2C4G(10人团队)</p><p>Docker服务器8C32G(Rancher + harbor)</p></blockquote></li><li><p>生产环境的复杂</p><ul><li>比如部署的生成环境是在政务外网，无法从互联网直接访问等。</li><li>构建效率低下，任务多</li></ul><p>目前，这个是最麻烦的，还在研究中。初步设想是让政务外网开辟一个白名单，给持续集成服务器设置一个单独的通道。只是思路，未验证。</p></li></ol><h4 id="%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" tabindex="-1"><span class="prefix"></span><span class="content">最佳实践</span><span class="suffix"></span></h4><p>实施持续集成的开发人员可以尽早并经常提交。这允许他们尽早发现冲突。并且，如果存在任何问题，则使用较小的提交可以更轻松地对代码进行故障排除。每天或甚至更频繁地提交软件对于持续集成是必要的，但还不够。</p><p>要成功使用持续集成，团队必须：</p><ul><li><p>使测试成为开发过程中不可或缺的一部分。应该在创建代码时编写测试。</p><p>公司成功持续整合所需的最重要因素是严格的测试文化。为了将新代码自信地集成到主线中，团队需要确信代码是健全的。这是通过测试来实现的，这应该定期进行。工程师应该在开发每个功能时编写测试。</p></li><li><p>确保测试环境反映生产一致。</p><p>为了支持您严格的测试文化，测试环境必须反映生产环境。否则，您无法保证您正在测试的内容将在生产中起作用。这意味着测试环境应使用相同版本的数据库，Web服务器配置，工件等。</p></li><li><p>使用编码最佳实践，例如结对编程。</p><p>软件开发的另一个最佳实践是在编码期间进行配对。对于更复杂的功能，团队在编写单行代码之前讨论体系结构方法。在将任何代码合并到生产环境之前，其他开发人员始终会检查代码。这有助于确保使用编码最佳实践，代码不会与其他开发人员正在处理的现有代码或代码冲突，并且新功能是可扩展的。</p><blockquote><p><strong>Pair programming</strong> is an <a href="https://en.wikipedia.org/wiki/Agile_software_development" target="_blank" rel="noopener">agile software development</a> technique in which two <a href="https://en.wikipedia.org/wiki/Computer_programmer" target="_blank" rel="noopener">programmers</a> work together at one workstation. One, the <em>driver</em>, writes <a href="https://en.wikipedia.org/wiki/Source_code" target="_blank" rel="noopener">code</a> while the other, the <em>observer</em> or <em>navigator</em>,[<a href="https://en.wikipedia.org/wiki/Pair_programming#cite_note-1" target="_blank" rel="noopener">1]</a> <a href="https://en.wikipedia.org/wiki/Code_review" target="_blank" rel="noopener">reviews</a> each line of code as it is typed in. The two programmers switch roles frequently.</p><p>While reviewing, the observer also considers the “strategic” direction of the work, coming up with ideas for improvements and likely future problems to address. This is intended to free the driver to focus all of their attention on the “tactical” aspects of completing the current task, using the observer as a safety net and guide.</p></blockquote></li><li><p>自动化部署工作流程。</p><p>最后，为确保整个软件开发流程快速高效，构建需要快速，部署工作流程应自动化。代码构建的每一分钟都浪费了一分钟。通过自动化部署工作流程，团队可以更快地将完成的代码生成。因为，毕竟，如果没有接触到客户，那么快速开发软件有什么意义呢？</p></li></ul><h3 id="%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7%E5%AF%B9%E6%AF%94" tabindex="-1"><span class="prefix"></span><span class="content">效率工具对比</span><span class="suffix"></span></h3><p>![img](/Users/Shared/Target/5-4 持续集成与持续部署/resource/assets/CICD-resource.png)</p><p><a href="#%E5%A4%8D%E6%9D%82%E7%9A%84DevOps%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7">点击查看</a>效率工具</p><p><strong>1. Jenkins</strong></p><blockquote><p>Jenkins，原名Hudson，2011年改为现在的名字，它 是一个开源的实现持续集成的软件工具。官方网站：<a href="http://jenkins-ci.org/" target="_blank" rel="noopener">http://jenkins-ci.org/</a>。</p><p>Jenkins 能实时<strong>监控集成中存在的错误</strong>，提供<strong>详细的日志文件和提醒</strong>功能，还能用图表的形式形象地展示<strong>项目构建的趋势和稳定性</strong>。</p></blockquote><p><strong>Jenkins特点:</strong></p><ul><li><strong>易安装</strong>：Jenkins是一个独立的基于Java的程序，随时可以运行，包含Windows，Mac OS X和其他类Unix操作系统的软件包。仅仅一个 java -jar jenkins.war，从官网下载该文件后，直接运行，无需额外的安装，更无需安装数据库；</li><li><strong>易配置</strong>：提供友好的GUI配置界面；</li><li><strong>变更支持</strong>：Jenkins能从代码仓库（Subversion/CVS）中获取并产生代码更新列表并输出到编译输出信息中；</li><li><strong>支持永久链接</strong>：用户是通过web来访问Jenkins的，而这些web页面的链接地址都是永久链接地址，因此，你可以在各种文档中直接使用该链接；</li><li>**集成E-Mail/RSS/IM：**当完成一次集成时，可通过这些工具实时告诉你集成结果（据我所知，构建一次集成需要花费一定时间，有了这个功能，你就可以在等待结果过程中，干别的事情）；</li><li><strong>JUnit/TestNG测试报告</strong>：也就是用以图表等形式提供详细的测试报表功能；</li><li><strong>支持分布式构建</strong>：Jenkins可以把<strong>集成构建等工作分发到多台计算机中完成</strong>；</li><li><strong>文件指纹信息</strong>：Jenkins会保存哪次集成构建产生了哪些jars文件，哪一次集成构建使用了哪个版本的jars文件等构建记录；</li><li><strong>支持第三方插件</strong>：使得 Jenkins 变得越来越强大；凭借更新中心中的数百个插件，Jenkins几乎集成了持续集成和持续交付工具链中的所有工具。</li><li><strong>Rest API</strong> - 可以访问控制您获取的数据量，获取/更新config.xml，删除作业，检索所有构建，获取/更新作业说明，执行构建，禁用/启用作业</li></ul><p><strong>Jenkins优点：</strong></p><ul><li>价格（免费）</li><li>定制</li><li>插件系统</li><li>完全控制系统</li></ul><p><strong>Jenkins缺点：</strong></p><ul><li>需要专用服务器（或多个服务器）。这导致额外的费用。对于服务器本身，DevOps等…</li><li>配置/定制所需的时间</li></ul><p><strong>2. Travis CI</strong></p><p><strong>Travis CI</strong>是一个托管的持续集成服务，用于构建和测试在GitHub上托管的软件项目。</p><blockquote><p><strong>Travis CI</strong> is a hosted continuous integration service used to build and test software projects hosted at GitHub</p></blockquote><p><strong>Travis CI的特点：</strong></p><ul><li><p>基于云：TravisCI是一个<strong>基于云</strong>的系统 - 不需要专用服务器，您无需管理它。</p></li><li><p>支持Docker运行测试</p></li><li><p>使用YAML文件进行配置</p></li><li><p>可选择Linux和Mac OSX上同时运行测试</p></li><li><p>开箱即用的支持的语言</p><p>Android，C，C＃，C ++，Clojure，Crystal，D，Dart，Erlang，Elixir，F＃，Go，Groovy，Haskell，Haxe，Java，JavaScript（使用Node.js），Julia，Objective-C，Perl，Perl6， PHP，Python，R，Ruby，Rust，Scala，Smalltalk，Visual Basic</p></li><li><p><strong>支持多环境构建矩阵</strong>：如Python 2.7 , 3.4, 3.5 + Django 1.8, 1.9, 1.10</p><p>构建矩阵是一种工具，可以使用不同版本的语言和包运行测试。您可以以不同的方式自定义它。例如，某些环境的失败可以触发通知但不会使所有构建失败（这对包的开发版本有帮助）</p></li></ul><p><strong>Travis CI优点：</strong></p><ul><li>开箱即用构建矩阵</li><li>快速启动</li><li>轻量级YAML配置</li><li>开源项目的免费计划</li><li>无需专用服务器</li></ul><p><strong>Travis CI缺点：</strong></p><ul><li>与CircleCI相比，价格更高，没有免费的企业计划</li><li>定制（对于某些你需要第三方的东西）</li></ul><p><strong>3. Circle CI</strong></p><p>在GitHub或Bitbucket上的软件存储库被授权并作为项目添加到<a href="https://circleci.com/" target="_blank" rel="noopener">circleci.com之后</a>，每个代码更改都会在干净的容器或VM中触发自动化测试。</p><p>CircleCI在2017年被Forrester评为持续集成领导者，并被命名为多个最佳DevOps工具列表。CircleCI成立于2011年，总部位于旧金山，拥有全球性的远程员工队伍，由Scale Venture Partners，DFJ，Baseline Ventures，Top Tier Capital，Industry Ventures，Heavybit和Harrison Metal Capital提供风险投资。</p><p><strong>Circle CI的特点：</strong></p><ul><li><strong>云&amp;本地化</strong>：CircleCI是一个<strong>基于云</strong>的系统 - 不需要专用服务器，您无需管理它。 但是，它还<strong>提供了一个本地解决方案</strong>，允许您在私有云或数据中心中运行它。</li><li><strong>商业&amp;免费</strong>：即使是商业帐户，它也<strong>有免费计划</strong></li><li><strong>Rest API</strong> - 您可以访问项目，构建和工件（artifacts）。构建的结果将是工件或工件组。 工件可以是已编译的应用程序或可执行文件（例如，android APK）或元数据（例如，关于测试`成功的信息）</li><li><strong>按需安装</strong>：CircleCI 缓存<strong>必要的安装</strong>（requirements installation）。 它会检查第三方依赖项，而不是持续安装所需的环境</li><li><strong>SSH模式</strong>：您可以触发<strong>SSH模式</strong>访问容器并进行自己的调查（如果出现任何问题）</li><li><strong>最小化配置</strong>：这是一个完整的开箱即用解决方案，需要<strong>最少的配置\调整</strong></li></ul><p><strong>CircleCI优点：</strong></p><ul><li>快速启动</li><li>CircleCI有一个免费的企业项目计划</li><li>这很容易，也很快开始</li><li>轻量级，易读的YAML配置</li><li>您不需要任何专用服务器来运行CircleCI</li></ul><p><strong>CircleCI缺点：</strong></p><ul><li><p>CircleCI仅支持2个版本的Ubuntu免费（12.04和14.04）和MacOS作为付费部分</p></li><li><p>尽管CircleCI可以使用并运行所有语言，但tt仅支持“开箱即用”的以下编程语言：Go（Golang），Haskell，Java，PHP，Python，Ruby / Rails，Scala</p></li><li><p>如果您想进行自定义，可能会出现一些问题：您可能需要一些第三方软件来进行这些调整</p></li><li><p>此外，虽然作为基于云的系统是一方的优势，它也可以停止支持任何软件，你将无法阻止</p></li></ul><p>总结一下：</p><table><thead><tr><th>分类</th><th>Jenkins</th><th>Travis CI</th><th>Circle CI</th></tr></thead><tbody><tr><td>本地部署</td><td>支持</td><td>不支持</td><td>支持</td></tr><tr><td>REST API</td><td>支持</td><td>支持</td><td>支持</td></tr><tr><td>配置</td><td>复杂，高度可配置</td><td>YAML文件</td><td>YAML文件</td></tr><tr><td>按需安装</td><td>是</td><td>否</td><td>是</td></tr><tr><td>跨平台支持</td><td>是</td><td>Linux + MacOS</td><td>Linux + MacOS(付费)</td></tr><tr><td>多服务器</td><td>是</td><td>按需</td><td>否</td></tr><tr><td>快速构建</td><td>手动配置复杂</td><td>快(需要写配置文件)</td><td>最快</td></tr><tr><td>基本环境</td><td>Java</td><td>云环境</td><td>云环境</td></tr><tr><td>费用</td><td>免费</td><td>特定免费(69$/c)</td><td>特定免费(50$/c)</td></tr></tbody></table><p>Travis CI的价格（非常感人）：</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114324.png" alt="image-20190611100501785"></figure><p>CirCle CI的价格：</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114325.png" alt="image-20190611100534676"></figure><p>其他的一些持续集成的工具：CruiseControl，TeamCity，Continuum等</p><ul><li>AnthillPro：商业的构建管理服务器，提供C功能</li><li>Bamboo：商业的CI服务器，对于开源项目免费</li><li>Build Forge：多功能商业构建管理工具，特点：高性能、分布式构建</li><li>Cruise Control：基于java实现的持续集成构建工具</li><li>CruiseControl.NET：基于C#实现的持续集成构建工具</li><li>Lunt build：开源的自动化构建工具</li><li>Para Build：商业的自动化软件构建管理服务器</li></ul><h2 id="jenkins" tabindex="-1"><span class="prefix"></span><span class="content">Jenkins</span><span class="suffix"></span></h2><h3 id="%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B" tabindex="-1"><span class="prefix"></span><span class="content">使用简介</span><span class="suffix"></span></h3><p>Jenkins是开源CI&amp;CD软件领导者， 提供超过1000个插件来支持构建、部署、自动化， 满足任何项目的需要。</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114326.jpg" alt="image-20190611103941326"></figure><p>相关概念：</p><ul><li><p>流水线：<strong>Jenkins Pipeline</strong>（或简称为 “Pipeline”）是一套插件，将持续交付的实现和实施集成到 Jenkins 中。</p><p>Jenkins Pipeline 提供了一套可扩展的工具，用于将“简单到复杂”的交付流程实现为“持续交付即代码”。Jenkins Pipeline 的定义通常被写入到一个文本文件（称为 <code class="">Jenkinsfile</code> ）中，该文件可以被放入项目的源代码控制库中。</p></li><li><p>节点：节点是一个机器，主要用于执行jenkins任务</p></li><li><p>阶段：定义不同的执行任务，比如：构建、测试、发布(部署)</p></li><li><p>步骤：相当于告诉Jenkins现在要做些什么，比如shell命令。</p></li></ul><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114327.png" alt="image-20190611163108298"></figure><p>Jenkins的界面</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114328.png" alt="image-20190611163727975"></figure><p>任务详情页面</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114329.png" alt="image-20190611163855257"></figure><p>Jenkins任务日志</p><h3 id="%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F" tabindex="-1"><span class="prefix"></span><span class="content">安装方式</span><span class="suffix"></span></h3><ol><li><p>环境要求</p><ul><li>机器要求：<ul><li>256 MB 内存，建议大于 512 MB</li><li>10 GB 的硬盘空间（用于 Jenkins 和 Docker 镜像）</li></ul></li><li>需要安装以下软件：<ul><li>Java 8 ( JRE 或者 JDK 都可以)</li><li><a href="https://www.docker.com/" target="_blank" rel="noopener">Docker</a> （导航到网站顶部的Get Docker链接以访问适合您平台的Docker下载）</li></ul></li></ul></li><li><p>常规安装</p><ul><li><p>安装JDK</p><p><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">官方地址</a></p><p>下载对应的操作系统的JDK，然后解压进行安装。以Linux为例：</p><p>下载最新版本，上传到Linux服务器</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># 上传到 /opt/jdk8目录下</span>

<span class="token comment"># tar解压JDK安装包</span>
<span class="token function">mkdir</span> -p /opt/jdk8
<span class="token function">tar</span> zxvf jdk-8u211-linux-x64.tar.gz -C /opt/jdk8 --strip-components <span class="token number">1</span>

<span class="token comment"># vi /etc/profile</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/opt/jdk8
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JRE_HOME</span><span class="token operator">=</span><span class="token variable">${JAVA_HOME}</span>/jre
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">${JAVA_HOME}</span>/lib:<span class="token variable">${JRE_HOME}</span>/lib
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">${JAVA_HOME}</span>/bin:<span class="token environment constant">$PATH</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>安装Jenkins</p><p>下载Jenkins最新的war包：<a href="http://mirrors.jenkins.io/war-stable/latest/jenkins.war" target="_blank" rel="noopener">Latest</a></p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">mkdir</span> -p /opt/jenkins <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> /opt/jenkins

<span class="token function">wget</span> -O /opt/jenkins/jenkins.war http://mirrors.jenkins.io/war-stable/latest/jenkins.war

java -jar jenkins.war --httpPort<span class="token operator">=</span><span class="token number">8080</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>就嗯可以打开，http://localhost:8080了</p><p>注意一段这样的话：</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">*************************************************************
*************************************************************
*************************************************************

Jenkins initial setup is required. An admin user has been created and a password generated.
Please use the following password to proceed to installation:

63196690ae7d47c49506480ee0e1af4a

This may also be found at: /root/.jenkins/secrets/initialAdminPassword

*************************************************************
*************************************************************
*************************************************************
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>这里的<code class="">63196690ae7d47c49506480ee0e1af4a</code>就是初始的安装的管理员密码。</p></li></ul></li><li><p>使用Docker安装</p><ul><li><p>安装Docker</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># From https://get.docker.com:</span>
<span class="token function">curl</span> -fsSL https://get.docker.com -o get-docker.sh
<span class="token function">sh</span> get-docker.sh

<span class="token comment">#From https://test.docker.com:</span>
<span class="token function">curl</span> -fsSL https://test.docker.com -o test-docker.sh
<span class="token function">sh</span> test-docker.sh

<span class="token comment"># From the source repo (This will install latest from the test channel):</span>
<span class="token function">sh</span> install.sh
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>配置Docker镜像加速，使用阿里云<a href="https://cr.console.aliyun.com/?spm=a2c4e.11153940.blogcont29941.9.52027e29w2jv9P" target="_blank" rel="noopener">容器加速服务</a></p><p>左侧的加速器帮助页面就会显示为你独立分配的加速地址</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">例如：
公网Mirror：<span class="token punctuation">[</span>系统分配前缀<span class="token punctuation">]</span>.mirror.aliyuncs.com
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用配置文件 <code class="">/etc/docker/daemon.json</code>（没有时新建该文件）</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token punctuation">{</span>
    <span class="token string">"registry-mirrors"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">"&lt;your accelerate address&gt;"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>重启Docker Daemon就可以了</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">systemctl daemon-reload
systemctl restart <span class="token function">docker</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code class="">docker ps</code> 查看容器运行状态</p><p><code class="">docker logs 容器ID/容器名称</code> 查看管理员初始密码</p></li><li><p>安装Docker-compose.yml文件(可选)</p><p><strong>安装方法：</strong></p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment">#下载</span>
<span class="token function">sudo</span> <span class="token function">curl</span> -L https://github.com/docker/compose/releases/download/1.20.0/docker-compose-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -s<span class="token variable">`</span></span>-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -m<span class="token variable">`</span></span> -o /usr/local/bin/docker-compose
<span class="token comment">#安装</span>
<span class="token function">chmod</span> +x /usr/local/bin/docker-compose
<span class="token comment">#查看版本</span>
<span class="token function">docker-compose</span> --version
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>安装Jenkins</p><p><strong>版本选择：</strong></p><p>Jenkins: <a href="https://hub.docker.com/r/jenkins/jenkins/" target="_blank" rel="noopener">https://hub.docker.com/r/jenkins/jenkins/</a></p><p>Jenkins with Blue Ocean: <a href="https://hub.docker.com/r/jenkinsci/blueocean" target="_blank" rel="noopener">https://hub.docker.com/r/jenkinsci/blueocean</a></p><blockquote><p>Blue Ocean 重新思考Jenkins的用户体验，从头开始设计<a href="https://jenkins.io/zh/doc/book/pipeline/" target="_blank" rel="noopener">Jenkins Pipeline</a>, 但仍然与自由式作业兼容，Blue Ocean减少了混乱而且进一步明确了团队中每个成员 Blue Ocean 的主要特性包括：</p><ul><li>持续交付(CD)Pipeline的 <strong>复杂可视化</strong> ，可以让您快速直观地理解管道状态。</li><li><strong>Pipeline 编辑器</strong> - 引导用户通过直观的、可视化的过程来创建Pipeline，从而使Pipeline的创建变得平易近人。</li><li><strong>个性化</strong> 以适应团队中每个成员不同角色的需求。</li><li>在需要干预和/或出现问题时 <strong>精确定位</strong> 。 Blue Ocean 展示 Pipeline中需要关注的地方， 简化异常处理，提高生产力</li><li><strong>本地集成分支和合并请求</strong>, 在与GitHub 和 Bitbucket中的其他人协作编码时实现最大程度的开发人员生产力。****</li></ul></blockquote><p><strong>安装命令：</strong></p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># Jenkins</span>
<span class="token function">docker</span> run <span class="token punctuation">\</span>
  -itd <span class="token punctuation">\</span>
  -u root <span class="token punctuation">\</span>
  -p <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
  -v jenkins-data:/var/jenkins_home <span class="token punctuation">\</span>
  -v /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\</span>
  -v /usr/bin/docker:/usr/bin/docker <span class="token punctuation">\</span>
  --name jenkins-master <span class="token punctuation">\</span>
  jenkins/jenkins
  
<span class="token comment"># Jenkins blueocean</span>
<span class="token function">docker</span> run <span class="token punctuation">\</span>
  -itd <span class="token punctuation">\</span>
  -u root <span class="token punctuation">\</span>
  -p <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
  -v jenkins-data:/var/jenkins_home <span class="token punctuation">\</span> 
  -v /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\</span>
  -v /usr/bin/docker:/usr/bin/docker <span class="token punctuation">\</span>
  --name jenkins-master <span class="token punctuation">\</span>
  jenkinsci/blueocean
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li></ul></li><li><p>配置Jenkins插件加速</p><p>进入jenkins系统管理-&gt;插件管理中-&gt;高级选项卡-&gt;升级站点，使用清华源：</p><div class="language-html ext-html code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-html line-numbers-mode"><code class="language-html">https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/current/update-center.json
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114330.png" alt="ç³»ç»ç®¡ç"></figure><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114331.jpeg" alt="æä»¶ç®¡ç"></figure><p>关于官方所有的镜像列表：</p><p><a href="http://mirrors.jenkins-ci.org/status.html" target="_blank" rel="noopener">http://mirrors.jenkins-ci.org/status.html</a></p></li><li><p>环境配置</p><ul><li>Jenkins 的URL路径</li><li>全局工具的配置：Docker, JDK(JAVA)…</li></ul></li><li><p>用户权限配置</p><ul><li>矩阵权限的配置</li><li>添加管理员用户所有的权限</li><li>添加<a href="https://wiki.jenkins-ci.org/display/JENKINS/Authorize+Project+plugin" target="_blank" rel="noopener">Authorize Project</a>插件，并且在系统管理中进行配置。配置逻辑，就给用户当前项目的矩阵权限！</li></ul></li><li><p>与gitlab进行联接</p><ul><li>设置一个SSH Key，方便Jenkins去拉取Gitlab中的项目</li><li>GItlab项目中去配置SSH Key的Deploy权限。<code class="">Settings -&gt; Repository -&gt; Deploy keys -&gt; Public Deploy Keys</code></li><li>Jenkins添加SSH的私钥</li></ul><p>这样就完成了Jenkins可以访问gitlab的联接的过程。</p><p>Jenkins层面，需要去安装Gitlab相关插件。</p></li></ol><h3 id="%E6%8F%92%E4%BB%B6%E4%BB%8B%E7%BB%8D" tabindex="-1"><span class="prefix"></span><span class="content">插件介绍</span><span class="suffix"></span></h3><ul><li><p>Publish over SSH</p><p>这个是一个远程Shell工具，可以远程去执行一些shell命令</p></li><li><p>HTTP Request Plugin</p><p>跨平台调用，在构建前后可以通过该插件以http形式调用各种api接口实现和内部系统的联动</p></li><li><p>Publish Over FTP</p><p>用于远程使用FTP发布，比较合适于静态资源的发布。</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114332.jpg" alt="img"></figure></li><li><p>Performance Plugin</p></li></ul><p>​ 该插件可以读取和解析测试框架输出的报告，并且在 Jenkins 上绘制性能和稳定性相关的图表。Performance Plugin 支持的测试框架有 JUnit、JMeter, Twitter 的 Lago 和 Taurus。下图是该插件输出的示例图：</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114333.png" alt="img"></figure><p>​ <a href="https://plugins.jenkins.io/performance" target="_blank" rel="noopener">https://plugins.jenkins.io/performance</a></p><ul><li>Gitlab Merge Request Builder Plugin</li></ul><p>​ Gitlab Merge Request Builder Plugin 可以方便的自动发起代码审查，它在创建 pull request 的时候，会自动带上关联任务的运行结果，以方便代码审查着确认改动的正确性。</p><p>​ 同时，这款插件还支持自动合并，既在代码审查通过后自动合并该 pull request 内容。</p><p>​ <a href="https://github.com/timols/jenkins-gitlab-merge-request-builder-plugin" target="_blank" rel="noopener">https://github.com/timols/jenkins-gitlab-merge-request-builder-plugin</a></p><ul><li>JIRA Plugin</li></ul><p>​ JIRA Plugin 可以让 Jenkins 任务和 JIRA 集成起来，这样项目管理者可以通过 JIRA 了解项目进度，开发者也可以通过该插件直接更改 JIRA 上的 issue 状态。</p><p>​ <a href="https://plugins.jenkins.io/jira" target="_blank" rel="noopener">https://plugins.jenkins.io/jira</a></p><ul><li>Kubernetes Plugin</li></ul><p>​ 和最近大热的容器编排框架 Kubernetes 集成当然不能落下了。另外，Jenkins 对执行机的管理一直比较弱，无法做到快速的扩容和缩容。Kubernetes Plugin 通过引入 Kubernetes 的容器编排能力，让 Jenkins 执行机运行在 Kubernetes 环境中。</p><p>​ <a href="https://github.com/jenkinsci/kubernetes-plugin" target="_blank" rel="noopener">https://github.com/jenkinsci/kubernetes-plugin</a></p><ul><li>Build Pipeline plugin</li></ul><p>​ 对一个系统的持续集成会包含很多个方面，如果将它们都杂糅在一个 Jenkins 任务中，会提高排查成本，也不利于整个持续集成的运作。Build Pipeline plugin 可以让项目管理员针对系统持续集成步骤设置一系列关联的任务，任务之间可以设置不同的触发条件，以确认何时需要人工介入。该插件可以让整个持续集成流程变得非常直观：</p><figure><img src="https://oscimg.oschina.net/oscnet/abf7ec185c847b72cd61181562f940557a2.jpg" alt="img"></figure><p>​ <a href="https://github.com/jenkinsci/build-pipeline-plugin" target="_blank" rel="noopener">https://github.com/jenkinsci/build-pipeline-plugin</a></p><h3 id="%E9%85%8D%E7%BD%AE%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%BB%E5%8A%A1" tabindex="-1"><span class="prefix"></span><span class="content">配置自动化任务</span><span class="suffix"></span></h3><p>两种执行方法：</p><ol><li>配置自由风格的项目</li><li>配置Pipeline使用Jenkinsfile</li></ol><p>需要注意的地方</p><ul><li><p>SSH插件：</p><p>SSH</p><p>SSH Agent</p><p>SSH Pipeline Steps</p><p>Publish Over SSH</p></li><li><p>git相关插件：</p><p>Gitlab</p><p>Github</p></li><li><p>管理员界面配置：</p><p><code class="">Settings -&gt; network -&gt; Outbound requests</code></p><p>Allow requests to the local network from hooks and services 进行勾选</p></li></ul><p>其他的一些用法：</p><ul><li>使用Jenkins配合Docker Hub，把前端代码打包成镜像，再远程部署</li><li>Jenkins配合自建Docker容器服务，把前端代码打包，使用Kubernetes进行发布。</li><li>使用Docker进行远程发布(远程服务器上有Docker服务，并且设置了远程连接)</li></ul><blockquote><p>把构建、打包的工作放在Docker容器里面，用于应对不同的开发环境需求(node8，node10等)</p></blockquote><h3 id="%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8" tabindex="-1"><span class="prefix"></span><span class="content">前端项目中的应用</span><span class="suffix"></span></h3><p>插件推荐：</p><ul><li><p>nodejs插件</p><p>主要是用于不同版本的Node打包</p><p>特别需要注意的是，使用<code class="">jenkinsci/blueocean</code>镜像的，需要重新运行新的容器，以便nodejs插件生效。</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">docker</span> run <span class="token punctuation">\</span>
  -itd <span class="token punctuation">\</span>
  -u root <span class="token punctuation">\</span>
  -p <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
  -v /var/jenkins_home:/var/jenkins_home <span class="token punctuation">\</span>
  -v /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\</span>
  -v /usr/bin/docker:/usr/bin/docker <span class="token punctuation">\</span>
  --name jenkins-master <span class="token punctuation">\</span>
  jenkins/jenkins
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>注意：<code class="">docker stop 容器名称</code> 去停止之前的容器！</p></li><li><p>Publish Over SSH</p><p>用于构建完成之后，推送到远程的web服务器</p></li></ul><p>Jenkins发布到Nginx Docker容器：</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># !bin/bash</span>
<span class="token function">node</span> -v
cnpm <span class="token function">install</span>
<span class="token function">npm</span> run build
<span class="token function">ls</span> -la
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> inspect -f <span class="token string">'{{.State.Running}}'</span> nginx<span class="token variable">)</span></span>"</span> <span class="token operator">=</span> <span class="token string">"true"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">docker</span> stop nginx <span class="token operator">&amp;&amp;</span> <span class="token function">docker</span> <span class="token function">rm</span> nginx<span class="token punctuation">;</span>
<span class="token keyword">fi</span>

<span class="token function">docker</span> run -itd --name nginx -v <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">pwd</span><span class="token variable">`</span></span>/dist:/usr/share/nginx/html -p <span class="token number">20000</span>:80 nginx
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Pipleline演示：</p><div class="language-yaml ext-yaml code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-yaml line-numbers-mode"><code class="language-yaml">pipeline <span class="token punctuation">{</span>
agent <span class="token punctuation">{</span>
docker <span class="token punctuation">{</span>
image 'node<span class="token punctuation">:</span>10'
args '<span class="token punctuation">-</span>p 20000<span class="token punctuation">:</span>8080'
<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
stages <span class="token punctuation">{</span>
stage('Build') <span class="token punctuation">{</span>
steps <span class="token punctuation">{</span>
sh 'yarn install'
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
stage('Deploy') <span class="token punctuation">{</span>
steps <span class="token punctuation">{</span>
sh './scripts/deploy.sh'
input 'Finished using the web site<span class="token punctuation">?</span> (Click "Proceed" to continue)'
sh './scripts/kill.sh'
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><code class="">deploy.sh</code>文件</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token shebang important">#!/usr/bin/env sh</span>
<span class="token builtin class-name">set</span> -x
<span class="token function">npm</span> run serve <span class="token operator">&amp;</span>
<span class="token function">sleep</span> <span class="token number">1</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$!</span> <span class="token operator">&gt;</span> .pidfile
<span class="token builtin class-name">set</span> +x

<span class="token builtin class-name">echo</span> <span class="token string">'Now...'</span>
<span class="token builtin class-name">echo</span> <span class="token string">'Visit http://localhost:8080 to see your Node.js/Vue application in action.'</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>set命令用法：</p><p>set指令能设置所使用shell的执行方式，可依照不同的需求来做设置 　<code class="">-a</code> 　标示已修改的变量，以供输出至环境变量。 　<code class="">-b</code> 　使被中止的后台程序立刻回报执行状态。 　<code class="">-C</code> 　转向所产生的文件无法覆盖已存在的文件。 　<code class="">-d</code> 　Shell预设会用杂凑表记忆使用过的指令，以加速指令的执行。使用-d参数可取消。 　<code class="">-e</code> 　若指令传回值不等于0，则立即退出shell。　　 　<code class="">-f</code>　 　取消使用通配符。 　<code class="">-h</code> 　自动记录函数的所在位置。 　<code class="">-H</code> Shell 　可利用"!"加&lt;指令编号&gt;的方式来执行history中记录的指令。 　<code class="">-k</code> 　指令所给的参数都会被视为此指令的环境变量。 　<code class="">-l</code> 　记录for循环的变量名称。 　<code class="">-m</code> 　使用监视模式。 　<code class="">-n</code> 　只读取指令，而不实际执行。 　<code class="">-p</code> 　启动优先顺序模式。 　<code class="">-P</code> 　启动-P参数后，执行指令时，会以实际的文件或目录来取代符号连接。 　<code class="">-t</code> 　执行完随后的指令，即退出shell。 　<code class="">-u</code> 　当执行时使用到未定义过的变量，则显示错误信息。 　<code class="">-v</code> 　显示shell所读取的输入值。 　<code class="">-x</code> 　执行指令后，会先显示该指令及所下的参数。</p><blockquote><p><code class="">+&lt;参数&gt;</code> 　取消某个set曾启动的参数。</p></blockquote><p><code class="">kill.sh</code>文件：</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token builtin class-name">echo</span> <span class="token string">'The following command terminates the "npm run serve" process using its PID'</span>
<span class="token builtin class-name">echo</span> <span class="token string">'(written to ".pidfile"), all of which were conducted when "deloy.sh"'</span>
<span class="token builtin class-name">echo</span> <span class="token string">'was executed.'</span>
<span class="token builtin class-name">set</span> -x
<span class="token function">kill</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> .pidfile<span class="token variable">)</span></span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>思路：</p><ol><li>使用一台单独的Nginx服务器发布，使用Publish Over SSH插件上传</li><li>使用Docker在本地发布或者远程发布</li><li>使用Dockerfile进行镜像内的构建，使用docker镜像进行发布</li></ol><h2 id="travisci" tabindex="-1"><span class="prefix"></span><span class="content">TravisCI</span><span class="suffix"></span></h2><h3 id="%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B-1" tabindex="-1"><span class="prefix"></span><span class="content">使用简介</span><span class="suffix"></span></h3><p>Travis CI 只支持 Github，不支持其他代码托管服务。这意味着，你必须满足以下条件，才能使用 Travis CI。</p><blockquote><ul><li>拥有 GitHub 帐号</li><li>该帐号下面有一个项目</li><li>该项目里面有可运行的代码</li><li>该项目还包含构建或测试脚本</li></ul></blockquote><p>Travis简单的使用步骤:</p><ul><li>github授权及面板</li><li>获取github的Tokens</li><li>配置项目.travis.yml<ul><li>Node项目</li><li>Script脚本</li><li>部署到github pages</li><li>钩子用法</li></ul></li><li>其他</li></ul><p><strong>github授权及面板</strong></p><p>首先，访问官方网站 <a href="https://travis-ci.org/" target="_blank" rel="noopener">travis-ci.org</a>，点击右上角的个人头像，使用 Github 账户登入 Travis CI。</p><p>会进入到授权页面，这里跟微博、QQ是一回事，主要是读取你的用户信息。</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114334.png" alt="image-20190612205411602"></figure><p>这里第二步在，<code class="">Dashboard</code>这个选项卡中，点击<code class="">Activate</code>这个按钮</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114335.png" alt="image-20190612212459194"></figure><p>完了之后，Dashboard会列出所有Github中有<code class="">.travis.yml</code>配置文件的仓库：</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114336.png" alt="image-20190612212731186"></figure><p>Travis 会列出 Github 上面你的所有仓库，以及你所属于的组织。此时，选择你需要 Travis 帮你构建的仓库，打开仓库旁边的开关。一旦激活了一个仓库，Travis 会监听这个仓库的所有变化。</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114337.png" alt="image-20190612213022380"></figure><ul><li><p><code class="">Settings</code>中用于配置项目的构建条件</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114338.png" alt="image-20190612214434173"></figure></li><li><p><code class="">Requests</code>可以查看构建记录</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114339.png" alt="image-20190612214519926"></figure></li><li><p><code class="">Caches</code>主要是缓存文件</p></li><li><p><code class="">Trigger build</code>手动触发构建</p></li></ul><p><strong>获取github的token</strong></p><p>在settings-&gt;Developer settings-&gt;Personal access tokens-&gt;Generate new token</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114340.png" alt="image-20190612225000955"></figure><p><strong>配置项目的.travis.yml文件</strong></p><ul><li><p>设置项目语言</p><div class="language-yaml ext-yaml code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-yaml line-numbers-mode"><code class="language-yaml"><span class="token key atrule">language</span><span class="token punctuation">:</span> node_js
<span class="token key atrule">node_js</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">'10'</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>Script脚本</p><p>Travis 的运行流程很简单，任何项目都会经过两个阶段。</p><blockquote><ul><li>install 阶段：安装依赖</li><li>script 阶段：运行脚本</li></ul></blockquote><p>配置文件：</p><div class="language-yaml ext-yaml code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-yaml line-numbers-mode"><code class="language-yaml"><span class="token comment"># S: Build Lifecycle</span>
<span class="token key atrule">install</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> yarn install

// 钩子方法
<span class="token key atrule">before_script</span><span class="token punctuation">:</span>

<span class="token comment"># 无其他依赖项所以执行npm run build 构建就行了</span>
<span class="token key atrule">script</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> npm run build
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>如果不需要安装，即跳过安装阶段，就直接设为<code class="">true</code>。</p><div class="language-javascript ext-javascript code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-javascript line-numbers-mode"><code class="language-javascript"><span class="token literal-property property">install</span><span class="token operator">:</span> <span class="token boolean">true</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code class="">script</code>字段用来指定构建或测试脚本。</p><div class="language-javascript ext-javascript code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-javascript line-numbers-mode"><code class="language-javascript"><span class="token literal-property property">script</span><span class="token operator">:</span> bundle exec thor build
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果有多个脚本，可以写成下面的形式。</p><div class="language-javascript ext-javascript code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-javascript line-numbers-mode"><code class="language-javascript"><span class="token literal-property property">script</span><span class="token operator">:</span>
  <span class="token operator">-</span> command1
  <span class="token operator">-</span> command2
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>部署到github pages</p><div class="language-yaml ext-yaml code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-yaml line-numbers-mode"><code class="language-yaml"><span class="token key atrule">deploy</span><span class="token punctuation">:</span>
	<span class="token comment"># 其他的一些配置项，可以参考：https://docs.travis-ci.com/user/deployment/pages/</span>
  <span class="token key atrule">provider</span><span class="token punctuation">:</span> pages
  <span class="token key atrule">skip_cleanup</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">local_dir</span><span class="token punctuation">:</span> dist/
  <span class="token key atrule">github_token</span><span class="token punctuation">:</span> $GITHUB_TOKEN <span class="token comment"># Set in the settings page of your repository, as a secure variable</span>
  <span class="token key atrule">keep_history</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">on</span><span class="token punctuation">:</span>
    <span class="token key atrule">branch</span><span class="token punctuation">:</span> master
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>钩子用法</p><p>Travis 为上面这些阶段提供了7个钩子。</p><ul><li>before_install：install 阶段之前执行</li><li>before_script：script 阶段之前执行</li><li>after_failure：script 阶段失败时执行</li><li>after_success：script 阶段成功时执行</li><li>before_deploy：deploy 步骤之前执行</li><li>after_deploy：deploy 步骤之后执行</li><li>after_script：script 阶段之后执行</li></ul><p>完整的生命周期，从开始到结束是下面的流程。</p><ol><li>before_install</li><li>install</li><li>before_script</li><li>script</li><li>after<em>success or after</em>failure</li><li>[OPTIONAL] before_deploy</li><li>[OPTIONAL] deploy</li><li>[OPTIONAL] after_deploy</li><li>after_script</li></ol></li></ul><p>参考资料：</p><ul><li><a href="https://gist.github.com/domenic/ec8b0fc8ab45f39403dd" target="_blank" rel="noopener">Auto-deploying built products to gh-pages with Travis</a></li><li><a href="https://oncletom.io/2016/travis-ssh-deploy/" target="_blank" rel="noopener">SSH deploys with Travis CI</a></li><li><a href="http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html" target="_blank" rel="noopener">持续集成服务 Travis CI 教程</a></li></ul><h3 id="%E9%85%8D%E7%BD%AEnode.js%E5%BA%94%E7%94%A8" tabindex="-1"><span class="prefix"></span><span class="content">配置Node.js应用</span><span class="suffix"></span></h3><p>配置一个Vue实例并发布到github pages</p><p>.travis.yml文件：</p><div class="language-yaml ext-yaml code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-yaml line-numbers-mode"><code class="language-yaml"><span class="token key atrule">language</span><span class="token punctuation">:</span> node_js
<span class="token key atrule">node_js</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">"10"</span>

<span class="token comment"># Travis-CI Caching</span>
<span class="token key atrule">cache</span><span class="token punctuation">:</span>
  <span class="token key atrule">directories</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> node_modules

<span class="token comment"># S: Build Lifecycle</span>
<span class="token key atrule">install</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> yarn install

<span class="token key atrule">before_script</span><span class="token punctuation">:</span>

<span class="token comment"># 无其他依赖项所以执行npm run build 构建就行了</span>
<span class="token key atrule">script</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> npm run build

<span class="token key atrule">deploy</span><span class="token punctuation">:</span>
	<span class="token comment"># 其他的一些配置项，可以参考：https://docs.travis-ci.com/user/deployment/pages/</span>
  <span class="token key atrule">provider</span><span class="token punctuation">:</span> pages
  <span class="token key atrule">skip_cleanup</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">local_dir</span><span class="token punctuation">:</span> dist/
  <span class="token key atrule">github_token</span><span class="token punctuation">:</span> $GITHUB_TOKEN <span class="token comment"># Set in the settings page of your repository, as a secure variable</span>
  <span class="token key atrule">keep_history</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">on</span><span class="token punctuation">:</span>
    <span class="token key atrule">branch</span><span class="token punctuation">:</span> master
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="circleci" tabindex="-1"><span class="prefix"></span><span class="content">CircleCI</span><span class="suffix"></span></h2><h3 id="%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B-2" tabindex="-1"><span class="prefix"></span><span class="content">使用简介</span><span class="suffix"></span></h3><ol><li><p>注册 CircleCI</p><p>打开 <a href="https://circleci.com/" target="_blank" rel="noopener">CircleCI</a> 官方网站，使用您的GitHub帐户登录。</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114341.png" alt="image-20190613093550553"></figure><p>进行授权：</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114342.png" alt="image-20190613093732415"></figure></li><li><p>启动存储库</p></li></ol><p>检查要在 CircleCI 上管理的存储库的开关按钮。</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114343.png" alt="image-20190613094115350"></figure><ol start="3"><li><p>编写 config.yml</p><div class="language-yaml ext-yaml code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-yaml line-numbers-mode"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token key atrule">docker</span><span class="token punctuation">:</span>
      <span class="token punctuation">...</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">...</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">...</span>
		<span class="token key atrule">environment</span><span class="token punctuation">:</span>
			<span class="token punctuation">...</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>官方参考文档：<a href="https://circleci.com/docs/2.0/configuration-reference/#version" target="_blank" rel="noopener">https://circleci.com/docs/2.0/configuration-reference/#version</a></p><p>来看一个完事版的配置</p><div class="language-yaml ext-yaml code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-yaml line-numbers-mode"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token key atrule">docker</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">:</span><span class="token number">14.04</span>

      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> mongo<span class="token punctuation">:</span>2.6.8
        <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>mongod<span class="token punctuation">,</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>smallfiles<span class="token punctuation">]</span>

      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> postgres<span class="token punctuation">:</span>9.4.1
        <span class="token comment"># some containers require setting environment variables</span>
        <span class="token key atrule">environment</span><span class="token punctuation">:</span>
          <span class="token key atrule">POSTGRES_USER</span><span class="token punctuation">:</span> root

      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> redis@sha256<span class="token punctuation">:</span>54057dd7e125ca41afe526a877e8bd35ec2cdd33b9217e022ed37bdcf7d09673

      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> rabbitmq<span class="token punctuation">:</span>3.5.4

    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">TEST_REPORTS</span><span class="token punctuation">:</span> /tmp/test<span class="token punctuation">-</span>reports

    <span class="token key atrule">working_directory</span><span class="token punctuation">:</span> ~/my<span class="token punctuation">-</span>project

    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> checkout

      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span>
          <span class="token key atrule">command</span><span class="token punctuation">:</span> echo 127.0.0.1 devhost <span class="token punctuation">|</span> sudo tee <span class="token punctuation">-</span>a /etc/hosts

      <span class="token comment"># Create Postgres users and database</span>
      <span class="token comment"># Note the YAML heredoc '|' for nicer formatting</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          sudo -u root createuser -h localhost --superuser ubuntu &amp;&amp;
          sudo createdb -h localhost test_db</span>

      <span class="token punctuation">-</span> <span class="token key atrule">restore_cache</span><span class="token punctuation">:</span>
          <span class="token key atrule">keys</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> v1<span class="token punctuation">-</span>my<span class="token punctuation">-</span>project<span class="token punctuation">-</span><span class="token punctuation">{</span><span class="token punctuation">{</span> checksum "project.clj" <span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token punctuation">-</span> v1<span class="token punctuation">-</span>my<span class="token punctuation">-</span>project<span class="token punctuation">-</span>

      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span>
          <span class="token key atrule">environment</span><span class="token punctuation">:</span>
            <span class="token key atrule">SSH_TARGET</span><span class="token punctuation">:</span> localhost
            <span class="token key atrule">TEST_ENV</span><span class="token punctuation">:</span> linux
          <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
            set -xu
            mkdir -p ${TEST_REPORTS}
            run-tests.sh
            cp out/tests/*.xml ${TEST_REPORTS}</span>

      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          set -xu
          mkdir -p /tmp/artifacts
          create_jars.sh ${CIRCLE_BUILD_NUM}
          cp *.jar /tmp/artifacts</span>

      <span class="token punctuation">-</span> <span class="token key atrule">save_cache</span><span class="token punctuation">:</span>
          <span class="token key atrule">key</span><span class="token punctuation">:</span> v1<span class="token punctuation">-</span>my<span class="token punctuation">-</span>project<span class="token punctuation">-</span><span class="token punctuation">{</span><span class="token punctuation">{</span> checksum "project.clj" <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">paths</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> ~/.m2

      <span class="token comment"># Save artifacts</span>
      <span class="token punctuation">-</span> <span class="token key atrule">store_artifacts</span><span class="token punctuation">:</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> /tmp/artifacts
          <span class="token key atrule">destination</span><span class="token punctuation">:</span> build

      <span class="token comment"># Upload test results</span>
      <span class="token punctuation">-</span> <span class="token key atrule">store_test_results</span><span class="token punctuation">:</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> /tmp/test<span class="token punctuation">-</span>reports

  <span class="token key atrule">deploy-stage</span><span class="token punctuation">:</span>
    <span class="token key atrule">docker</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">:</span><span class="token number">14.04</span>
    <span class="token key atrule">working_directory</span><span class="token punctuation">:</span> /tmp/my<span class="token punctuation">-</span>project
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy if tests pass and branch is Staging
          <span class="token key atrule">command</span><span class="token punctuation">:</span> ansible<span class="token punctuation">-</span>playbook site.yml <span class="token punctuation">-</span>i staging

  <span class="token key atrule">deploy-prod</span><span class="token punctuation">:</span>
    <span class="token key atrule">docker</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">:</span><span class="token number">14.04</span>
    <span class="token key atrule">working_directory</span><span class="token punctuation">:</span> /tmp/my<span class="token punctuation">-</span>project
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy if tests pass and branch is Master
          <span class="token key atrule">command</span><span class="token punctuation">:</span> ansible<span class="token punctuation">-</span>playbook site.yml <span class="token punctuation">-</span>i production

<span class="token key atrule">workflows</span><span class="token punctuation">:</span>
  <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">2</span>
  <span class="token key atrule">build-deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">jobs</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">build</span><span class="token punctuation">:</span>
          <span class="token key atrule">filters</span><span class="token punctuation">:</span>
            <span class="token key atrule">branches</span><span class="token punctuation">:</span>
              <span class="token key atrule">ignore</span><span class="token punctuation">:</span>
                <span class="token punctuation">-</span> develop
                <span class="token punctuation">-</span> /feature<span class="token punctuation">-</span>.<span class="token important">*/</span>
      <span class="token punctuation">-</span> <span class="token key atrule">deploy-stage</span><span class="token punctuation">:</span>
          <span class="token key atrule">requires</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> build
          <span class="token key atrule">filters</span><span class="token punctuation">:</span>
            <span class="token key atrule">branches</span><span class="token punctuation">:</span>
              <span class="token key atrule">only</span><span class="token punctuation">:</span> staging
      <span class="token punctuation">-</span> <span class="token key atrule">deploy-prod</span><span class="token punctuation">:</span>
          <span class="token key atrule">requires</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> build
          <span class="token key atrule">filters</span><span class="token punctuation">:</span>
            <span class="token key atrule">branches</span><span class="token punctuation">:</span>
              <span class="token key atrule">only</span><span class="token punctuation">:</span> master
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br></div></div></li><li><p>设置/查看任务</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114344.png" alt="image-20190613093327981"></figure></li></ol><h3 id="%E9%85%8D%E7%BD%AEnode.js%E5%BA%94%E7%94%A8-1" tabindex="-1"><span class="prefix"></span><span class="content">配置Node.js应用</span><span class="suffix"></span></h3><p><code class="">.circleci/config.yml</code>配置文件</p><div class="language-yaml ext-yaml code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-yaml line-numbers-mode"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token key atrule">docker</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> circleci/node<span class="token punctuation">:</span><span class="token number">10</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token key atrule">only</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> master
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">add_ssh_keys</span><span class="token punctuation">:</span>
          <span class="token key atrule">fingerprints</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token string">'c5:20:8e:79:81:19:fd:c1:6c:c4:fb:41:58:92:9d:4f'</span>
      <span class="token punctuation">-</span> checkout
      <span class="token punctuation">-</span> <span class="token key atrule">restore_cache</span><span class="token punctuation">:</span>
          <span class="token key atrule">keys</span><span class="token punctuation">:</span>
            <span class="token comment"># fallback to using the latest cache if no exact match is found</span>
            <span class="token punctuation">-</span> dependencies<span class="token punctuation">-</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> Install
          <span class="token key atrule">command</span><span class="token punctuation">:</span> yarn install
      <span class="token punctuation">-</span> <span class="token key atrule">save_cache</span><span class="token punctuation">:</span>
          <span class="token key atrule">paths</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> node_modules
          <span class="token key atrule">key</span><span class="token punctuation">:</span> dependencies<span class="token punctuation">-</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> build github pages
          <span class="token key atrule">command</span><span class="token punctuation">:</span> yarn build
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> Prepare shell commands
          <span class="token key atrule">command</span><span class="token punctuation">:</span> chmod +x scripts/deploy.sh
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> Run deploy scripts
          <span class="token key atrule">command</span><span class="token punctuation">:</span> ./scripts/deploy.sh
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>这里以发布到github page为示例：</p><p>deploy.sh文件的内容：</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span>
<span class="token comment"># ideas used from https://gist.github.com/motemen/8595451</span>

<span class="token comment"># Based on https://github.com/eldarlabs/ghpages-deploy-script/blob/master/scripts/deploy-ghpages.sh</span>
<span class="token comment"># Used with their MIT license https://github.com/eldarlabs/ghpages-deploy-script/blob/master/LICENSE</span>

<span class="token comment"># abort the script if there is a non-zero error</span>
<span class="token builtin class-name">set</span> -e

<span class="token comment"># show where we are on the machine</span>
<span class="token builtin class-name">pwd</span>
<span class="token assign-left variable">remote</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">git</span> config remote.origin.url<span class="token variable">)</span></span>

<span class="token builtin class-name">echo</span> <span class="token string">'remote is: '</span><span class="token variable">$remote</span>

<span class="token comment"># make a directory to put the gp-pages branch</span>
<span class="token function">mkdir</span> gh-pages-branch
<span class="token builtin class-name">cd</span> gh-pages-branch
<span class="token comment"># now lets setup a new repo so we can update the gh-pages branch</span>
<span class="token function">git</span> config --global user.email <span class="token string">"<span class="token variable">$GH_EMAIL</span>"</span> <span class="token operator">&gt;</span> /dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token function">git</span> config --global user.name <span class="token string">"<span class="token variable">$GH_NAME</span>"</span> <span class="token operator">&gt;</span> /dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token function">git</span> init
<span class="token function">git</span> remote <span class="token function">add</span> --fetch origin <span class="token string">"<span class="token variable">$remote</span>"</span>

<span class="token builtin class-name">echo</span> <span class="token string">'email is: '</span><span class="token variable">$GH_EMAIL</span>
<span class="token builtin class-name">echo</span> <span class="token string">'name is: '</span><span class="token variable">$GH_NAME</span>
<span class="token builtin class-name">echo</span> <span class="token string">'sitesource is: '</span><span class="token variable">$siteSource</span>

<span class="token comment"># switch into the the gh-pages branch</span>
<span class="token keyword">if</span> <span class="token function">git</span> rev-parse --verify origin/gh-pages <span class="token operator">&gt;</span> /dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">then</span>
    <span class="token function">git</span> checkout gh-pages
    <span class="token comment"># delete any old site as we are going to replace it</span>
    <span class="token comment"># Note: this explodes if there aren't any, so moving it here for now</span>
    <span class="token function">git</span> <span class="token function">rm</span> -rf <span class="token builtin class-name">.</span>
<span class="token keyword">else</span>
    <span class="token function">git</span> checkout --orphan gh-pages
<span class="token keyword">fi</span>

<span class="token comment"># copy over or recompile the new site</span>
<span class="token function">cp</span> -a <span class="token string">"../<span class="token variable">${siteSource}</span>/."</span> <span class="token builtin class-name">.</span>

<span class="token function">ls</span> -la

<span class="token comment"># stage any changes and new files</span>
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token comment"># now commit, ignoring branch gh-pages doesn't seem to work, so trying skip</span>
<span class="token function">git</span> commit --allow-empty -m <span class="token string">"Deploy to GitHub pages [ci skip]"</span>
<span class="token comment"># and push, but send any output to /dev/null to hide anything sensitive</span>
<span class="token function">git</span> push --force --quiet origin gh-pages
<span class="token comment"># go back to where we started and remove the gh-pages git repo we made and used</span>
<span class="token comment"># for deployment</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token function">rm</span> -rf gh-pages-branch

<span class="token builtin class-name">echo</span> <span class="token string">"Finished Deployment!"</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><p>说明：</p><p><strong>&gt;/dev/null 2&gt;&amp;1的含义</strong></p><p><strong>文件描述符</strong></p><p>当执行shell命令时，会默认打开3个文件，每个文件有对应的文件描述符来方便我们使用：</p><table><thead><tr><th style="text-align:left">类型</th><th style="text-align:left">文件描述符</th><th style="text-align:left">默认情况</th><th style="text-align:left">对应文件句柄位置</th></tr></thead><tbody><tr><td style="text-align:left">标准输入（standard input）</td><td style="text-align:left">0</td><td style="text-align:left">从键盘获得输入</td><td style="text-align:left">/proc/slef/fd/0</td></tr><tr><td style="text-align:left">标准输出（standard output）</td><td style="text-align:left">1</td><td style="text-align:left">输出到屏幕（即控制台）</td><td style="text-align:left">/proc/slef/fd/1</td></tr><tr><td style="text-align:left">错误输出（error output）</td><td style="text-align:left">2</td><td style="text-align:left">输出到屏幕（即控制台）</td><td style="text-align:left">/proc/slef/fd/2</td></tr></tbody></table><p><code class="">&gt;</code> 代表重定向到哪里?</p><p>例如：<code class="">echo "123" &gt; /home/123.txt</code><code class="">1</code> 表示<code class="">stdout</code>标准输出，系统默认值是<code class="">1</code>，所以<code class="">&gt;/dev/null</code>等同于<code class="">1&gt;/dev/null</code><code class="">2</code> 表示<code class="">stderr</code>标准错误 <code class="">&amp;</code> 表示等同于的意思，<code class="">2&gt;&amp;1</code>，表示<code class="">2</code>的输出重定向等同于<code class="">1</code></p><p>参考资料：</p><p><a href="https://www.cnblogs.com/tinywan/p/6025468.html" target="_blank" rel="noopener">Shell脚本———— /dev/null 2&gt;&amp;1详解</a></p><p><a href="https://blog.csdn.net/jackyechina/article/details/54582146" target="_blank" rel="noopener">shell中&gt;/dev/null 2&gt;&amp;1</a></p><p><a href="https://blog.csdn.net/ithomer/article/details/9288353" target="_blank" rel="noopener">Linux Shell 1&gt;/dev/null 2&gt;&amp;1 含义</a></p><h2 id="%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86" tabindex="-1"><span class="prefix"></span><span class="content">扩展知识</span><span class="suffix"></span></h2><h3 id="%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%81%E7%A8%8B%E7%9A%84%E5%8F%91%E5%B1%95%E8%B6%8B%E5%8A%BF" tabindex="-1"><span class="prefix"></span><span class="content">自动化流程的发展趋势</span><span class="suffix"></span></h3><ol><li><p>集中化</p><p>以集群为基础，服务采用Saas方式进行交付。所有折构建、测试、发布全集中进行管理。</p></li><li><p>微服务+无服务的应用模式</p><p>应用程序执行环境的管理被新的编程模型和平台取代后，团队的交付生产率得到了进一步的提升。一方面它免去了很多环境管理的工作，包括设备、网络、主机以及对应的软件和配置工作，使得软件运行时环境更加稳定。另一方面，它大大降低了团队采用DevOps的技术门槛。</p><p>**无服务器风格的架构（Serverless architecture）**把DevOps技术在微服务领域的应用推向极致。当应用程序执行环境的管理被新的编程模型和平台取代后，团队的交付生产率得到了进一步的提升。一方面它免去了很多环境管理的工作，包括设备、网络、主机以及对应的软件和配置工作，使得软件运行时环境更加稳定。另一方面，它大大降低了团队采用DevOps的技术门槛。</p><p>在微服务端到端交付流程上，Netflix开源了自家的<a href="http://www.spinnaker.io/" target="_blank" rel="noopener">Spinnaker</a>，Netflix作为微服务实践的先锋，不断推出新的开源工具来弥补社区中微服务技术和最佳实践的缺失。而<a href="http://projects.spring.io/spring-cloud/" target="_blank" rel="noopener">Spring Cloud</a>则为开发者提供了一系列工具，以便他们在所熟悉的Spring技术栈下使用这些服务协调技术(coordination techniques)，如服务发现、负载均衡、熔断和健康检查。</p></li><li><p>人工智能领域的应用</p><p>DevOps的最早实践来自于互联网企业的Web应用，相应的思想被引入企业级应用并促进了一系列工具的发展。在人工智能领域，<a href="https://www.tensorflow.org/" target="_blank" rel="noopener">TensorFlow</a>就是这样一个例子，它可以有多种DevOps友好的安装和部署方式 ，例如采用Docker进行部署。</p><p>随着Python在大数据、人工智能、区块链、微服务以及Docker中的发展，可以预见Python在日后的领域仍然会发挥重要的作用。</p></li><li><p>安全推动DevOps的发展</p><p>全是DevOps永远绕不开的话题，也往往是新技术在传统行业（例如金融和电信）应用中的最大阻碍。一方面，组织结构的转型迫使企业要打破原先的部门墙，这意味着很多原先的控制流程不再适用。另一方面，由于大量的DevOps技术来源于开源社区，缺乏强大技术实力的企业在应用相关技术时不免会有所担忧。</p></li><li><p>Windows平台下.net的技术潜力巨大</p><p>长期以来，Windows和.NET平台下的DevOps一直都是一个被低估的领域。一方面，社区缺乏对 Windows Server平台的兴趣。另一方面，<a href="https://community.spiceworks.com/networking/articles/2462-server-virtualization-and-os-trends" target="_blank" rel="noopener">Windows Server却有接近90%的市场占用率</a>，在Web服务器领域则有<a href="https://w3techs.com/technologies/overview/operating_system/all" target="_blank" rel="noopener">33.5%的市场占有率</a>。</p></li><li><p>非功能性自动化测试工具逐渐完善</p><p>自动化测试水平往往是衡量DevOps技术能力高低的重要指标，尤其是针对生产环境应用程序的非功能性自动化测试工具。一直以来，技术雷达都在尝试从不同的角度宣扬自动化测试的重要性，从软件的开发阶段延展到了整个应用生命周期甚至整体IT资产的管理上。</p></li></ol><h3 id="%E5%A4%8D%E6%9D%82%E7%9A%84devops%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7" tabindex="-1"><span class="prefix"></span><span class="content">复杂的DevOps相关工具</span><span class="suffix"></span></h3><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200310114345.png" alt="DevOps"></figure><h3 id="jenkins%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF" tabindex="-1"><span class="prefix"></span><span class="content">Jenkins的一些应用场景</span><span class="suffix"></span></h3><p>打包平台：</p><p>使用Jenkins搭建iOS/Android</p><p>测试平台：</p><p>jenkins + python + selenium</p><p>Jmeter+maven+Jenkins构建云性能测试平台</p><p>Jenkins+PMD构建自动化静态代码检测</p><p>使用jenkins+Emma统计</p><p>客户端单元测试覆盖率</p><p>Jenkins+Ant+Java+Junit+SVN执行junit单元测试</p><p>jenkins+ant+jmeter搭建持续集成的接口测试平台</p><p>自动部署：</p><p>Jenkins+GitLab+蒲公英+FTP</p><p>jenkins结合ansible用shell实现自动化部署和回滚</p><p>持续集成：</p><p>Tomcat+Sonar搭建持续集成环境</p><p>Maven+Nexus+Jenkins+git/SVN</p><h3 id="jenkins%E7%9A%84docker-compose.yml%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6" tabindex="-1"><span class="prefix"></span><span class="content">Jenkins的Docker-compose.yml创建文件</span><span class="suffix"></span></h3><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">version: <span class="token string">'3'</span>
services:
  jenkins:
    container_name: <span class="token string">'jenkins'</span>
    image: jenkins/jenkins
    restart: always
    user: jenkins:<span class="token operator">&lt;</span>这里填Docker用户组的ID，见下面<span class="token operator">&gt;</span>
    ports:
    - <span class="token string">"8080:8080"</span>
    - <span class="token string">"50000:50000"</span>
    volumes:
    - /home/jenkins/data:/var/jenkins_home
    - /usr/bin/docker:/usr/bin/docker
    - /var/run/docker.sock:/var/run/docker.sock
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>上面的脚本使用注意：</p><ol><li><p>创建本地jenkins数据目录</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">mkdir</span> -p /home/jenkins
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>查看docker用户组的ID</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">cat</span> /etc/group <span class="token operator">|</span><span class="token function">grep</span> <span class="token function">docker</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>执行<code class="">docker-compose up -d</code></p></li></ol><h3 id="gitlab%E7%9A%84docker%E5%90%AF%E5%8A%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" tabindex="-1"><span class="prefix"></span><span class="content">gitlab的docker启动配置文件</span><span class="suffix"></span></h3><p>项目地址：<a href="https://github.com/sameersbn/docker-gitlab" target="_blank" rel="noopener">https://github.com/sameersbn/docker-gitlab</a></p><div class="language-yaml ext-yaml code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-yaml line-numbers-mode"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'2'</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">image</span><span class="token punctuation">:</span> sameersbn/redis<span class="token punctuation">:</span>4.0.9<span class="token punctuation">-</span><span class="token number">1</span>
    <span class="token key atrule">command</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>loglevel warning
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> /srv/docker/gitlab/redis<span class="token punctuation">:</span>/var/lib/redis<span class="token punctuation">:</span>Z

  <span class="token key atrule">postgresql</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">image</span><span class="token punctuation">:</span> sameersbn/postgresql<span class="token punctuation">:</span><span class="token number">10</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> /srv/docker/gitlab/postgresql<span class="token punctuation">:</span>/var/lib/postgresql<span class="token punctuation">:</span>Z
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> DB_USER=gitlab
    <span class="token punctuation">-</span> DB_PASS=password
    <span class="token punctuation">-</span> DB_NAME=gitlabhq_production
    <span class="token punctuation">-</span> DB_EXTENSION=pg_trgm

  <span class="token key atrule">gitlab</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">image</span><span class="token punctuation">:</span> sameersbn/gitlab<span class="token punctuation">:</span>11.11.2
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> redis
    <span class="token punctuation">-</span> postgresql
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token string">'10080:80'</span>
    <span class="token punctuation">-</span> <span class="token string">'10022:22'</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> /srv/docker/gitlab/gitlab<span class="token punctuation">:</span>/home/git/data<span class="token punctuation">:</span>Z
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> DEBUG=false

    <span class="token punctuation">-</span> DB_ADAPTER=postgresql
    <span class="token punctuation">-</span> DB_HOST=postgresql
    <span class="token punctuation">-</span> DB_PORT=5432
    <span class="token punctuation">-</span> DB_USER=gitlab
    <span class="token punctuation">-</span> DB_PASS=password
    <span class="token punctuation">-</span> DB_NAME=gitlabhq_production

    <span class="token punctuation">-</span> REDIS_HOST=redis
    <span class="token punctuation">-</span> REDIS_PORT=6379

    <span class="token punctuation">-</span> TZ=Asia/Kolkata
    <span class="token punctuation">-</span> GITLAB_TIMEZONE=Kolkata

    <span class="token punctuation">-</span> GITLAB_HTTPS=false
    <span class="token punctuation">-</span> SSL_SELF_SIGNED=false

    <span class="token comment"># 这里修改成服务器的IP或者域名</span>
    <span class="token punctuation">-</span> GITLAB_HOST=localhost
    <span class="token punctuation">-</span> GITLAB_PORT=10080
    <span class="token punctuation">-</span> GITLAB_SSH_PORT=10022
    <span class="token punctuation">-</span> GITLAB_RELATIVE_URL_ROOT=
    <span class="token punctuation">-</span> GITLAB_SECRETS_DB_KEY_BASE=long<span class="token punctuation">-</span>and<span class="token punctuation">-</span>random<span class="token punctuation">-</span>alphanumeric<span class="token punctuation">-</span>string
    <span class="token punctuation">-</span> GITLAB_SECRETS_SECRET_KEY_BASE=long<span class="token punctuation">-</span>and<span class="token punctuation">-</span>random<span class="token punctuation">-</span>alphanumeric<span class="token punctuation">-</span>string
    <span class="token punctuation">-</span> GITLAB_SECRETS_OTP_KEY_BASE=long<span class="token punctuation">-</span>and<span class="token punctuation">-</span>random<span class="token punctuation">-</span>alphanumeric<span class="token punctuation">-</span>string

		<span class="token comment"># 这里给一个长度大于8的密码</span>
    <span class="token punctuation">-</span> GITLAB_ROOT_PASSWORD=12345678
    <span class="token punctuation">-</span> GITLAB_ROOT_EMAIL=demo@demo.cn

    <span class="token punctuation">-</span> GITLAB_NOTIFY_ON_BROKEN_BUILDS=true
    <span class="token punctuation">-</span> GITLAB_NOTIFY_PUSHER=false

    <span class="token punctuation">-</span> GITLAB_EMAIL=notifications@example.com
    <span class="token punctuation">-</span> GITLAB_EMAIL_REPLY_TO=noreply@example.com
    <span class="token punctuation">-</span> GITLAB_INCOMING_EMAIL_ADDRESS=reply@example.com

    <span class="token punctuation">-</span> GITLAB_BACKUP_SCHEDULE=daily
    <span class="token punctuation">-</span> GITLAB_BACKUP_TIME=01<span class="token punctuation">:</span><span class="token number">00</span>

    <span class="token punctuation">-</span> SMTP_ENABLED=false
    <span class="token punctuation">-</span> SMTP_DOMAIN=www.example.com
    <span class="token punctuation">-</span> SMTP_HOST=smtp.gmail.com
    <span class="token punctuation">-</span> SMTP_PORT=587
    <span class="token punctuation">-</span> SMTP_USER=mailer@example.com
    <span class="token punctuation">-</span> SMTP_PASS=password
    <span class="token punctuation">-</span> SMTP_STARTTLS=true
    <span class="token punctuation">-</span> SMTP_AUTHENTICATION=login

    <span class="token punctuation">-</span> IMAP_ENABLED=false
    <span class="token punctuation">-</span> IMAP_HOST=imap.gmail.com
    <span class="token punctuation">-</span> IMAP_PORT=993
    <span class="token punctuation">-</span> IMAP_USER=mailer@example.com
    <span class="token punctuation">-</span> IMAP_PASS=password
    <span class="token punctuation">-</span> IMAP_SSL=true
    <span class="token punctuation">-</span> IMAP_STARTTLS=false

    <span class="token punctuation">-</span> OAUTH_ENABLED=false
    <span class="token punctuation">-</span> OAUTH_AUTO_SIGN_IN_WITH_PROVIDER=
    <span class="token punctuation">-</span> OAUTH_ALLOW_SSO=
    <span class="token punctuation">-</span> OAUTH_BLOCK_AUTO_CREATED_USERS=true
    <span class="token punctuation">-</span> OAUTH_AUTO_LINK_LDAP_USER=false
    <span class="token punctuation">-</span> OAUTH_AUTO_LINK_SAML_USER=false
    <span class="token punctuation">-</span> OAUTH_EXTERNAL_PROVIDERS=

    <span class="token punctuation">-</span> OAUTH_CAS3_LABEL=cas3
    <span class="token punctuation">-</span> OAUTH_CAS3_SERVER=
    <span class="token punctuation">-</span> OAUTH_CAS3_DISABLE_SSL_VERIFICATION=false
    <span class="token punctuation">-</span> OAUTH_CAS3_LOGIN_URL=/cas/login
    <span class="token punctuation">-</span> OAUTH_CAS3_VALIDATE_URL=/cas/p3/serviceValidate
    <span class="token punctuation">-</span> OAUTH_CAS3_LOGOUT_URL=/cas/logout

    <span class="token punctuation">-</span> OAUTH_GOOGLE_API_KEY=
    <span class="token punctuation">-</span> OAUTH_GOOGLE_APP_SECRET=
    <span class="token punctuation">-</span> OAUTH_GOOGLE_RESTRICT_DOMAIN=

    <span class="token punctuation">-</span> OAUTH_FACEBOOK_API_KEY=
    <span class="token punctuation">-</span> OAUTH_FACEBOOK_APP_SECRET=

    <span class="token punctuation">-</span> OAUTH_TWITTER_API_KEY=
    <span class="token punctuation">-</span> OAUTH_TWITTER_APP_SECRET=

    <span class="token punctuation">-</span> OAUTH_GITHUB_API_KEY=
    <span class="token punctuation">-</span> OAUTH_GITHUB_APP_SECRET=
    <span class="token punctuation">-</span> OAUTH_GITHUB_URL=
    <span class="token punctuation">-</span> OAUTH_GITHUB_VERIFY_SSL=

    <span class="token punctuation">-</span> OAUTH_GITLAB_API_KEY=
    <span class="token punctuation">-</span> OAUTH_GITLAB_APP_SECRET=

    <span class="token punctuation">-</span> OAUTH_BITBUCKET_API_KEY=
    <span class="token punctuation">-</span> OAUTH_BITBUCKET_APP_SECRET=

    <span class="token punctuation">-</span> OAUTH_SAML_ASSERTION_CONSUMER_SERVICE_URL=
    <span class="token punctuation">-</span> OAUTH_SAML_IDP_CERT_FINGERPRINT=
    <span class="token punctuation">-</span> OAUTH_SAML_IDP_SSO_TARGET_URL=
    <span class="token punctuation">-</span> OAUTH_SAML_ISSUER=
    <span class="token punctuation">-</span> OAUTH_SAML_LABEL="Our SAML Provider"
    <span class="token punctuation">-</span> OAUTH_SAML_NAME_IDENTIFIER_FORMAT=urn<span class="token punctuation">:</span>oasis<span class="token punctuation">:</span>names<span class="token punctuation">:</span>tc<span class="token punctuation">:</span>SAML<span class="token punctuation">:</span>2.0<span class="token punctuation">:</span>nameid<span class="token punctuation">-</span>format<span class="token punctuation">:</span>transient
    <span class="token punctuation">-</span> OAUTH_SAML_GROUPS_ATTRIBUTE=
    <span class="token punctuation">-</span> OAUTH_SAML_EXTERNAL_GROUPS=
    <span class="token punctuation">-</span> OAUTH_SAML_ATTRIBUTE_STATEMENTS_EMAIL=
    <span class="token punctuation">-</span> OAUTH_SAML_ATTRIBUTE_STATEMENTS_NAME=
    <span class="token punctuation">-</span> OAUTH_SAML_ATTRIBUTE_STATEMENTS_USERNAME=
    <span class="token punctuation">-</span> OAUTH_SAML_ATTRIBUTE_STATEMENTS_FIRST_NAME=
    <span class="token punctuation">-</span> OAUTH_SAML_ATTRIBUTE_STATEMENTS_LAST_NAME=

    <span class="token punctuation">-</span> OAUTH_CROWD_SERVER_URL=
    <span class="token punctuation">-</span> OAUTH_CROWD_APP_NAME=
    <span class="token punctuation">-</span> OAUTH_CROWD_APP_PASSWORD=

    <span class="token punctuation">-</span> OAUTH_AUTH0_CLIENT_ID=
    <span class="token punctuation">-</span> OAUTH_AUTH0_CLIENT_SECRET=
    <span class="token punctuation">-</span> OAUTH_AUTH0_DOMAIN=

    <span class="token punctuation">-</span> OAUTH_AZURE_API_KEY=
    <span class="token punctuation">-</span> OAUTH_AZURE_API_SECRET=
    <span class="token punctuation">-</span> OAUTH_AZURE_TENANT_ID=
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br></div></div></div><div pt-10=""><div class="flex justify-between"><a href="/post/2019/2019-6-19-fontend-performance-optimization" class="text-gray-500"><span class="text-gray-500">上一篇: </span><span class="text-gray-500">前端性能优化</span></a></div><div class="flex justify-between"><a href="/post/2019/2019-6-6-css-fixedleft-autoright" class="text-gray-500"><span class="text-gray-500">下一篇: </span><span class="text-gray-500">css实现左边固定宽右边自适应</span></a></div></div></div></main><nav text-xl="" mt-6="" text-center="" py-10="" class="footer" style="--3b7ca6b3:rgba(92, 110, 130, 0.05)"><a href="/" class="icon-btn mx-2" title="Home"><div i-iconoir:home-simple-door=""></div></a><button class="icon-btn mx-2 !outline-none" title="Toggle dark mode"><div i="carbon-sun dark:carbon-moon"></div></button><a href="/about" class="icon-btn mx-2" title="About"><div i-carbon-dicom-overlay=""></div></a><a href="/pic" class="icon-btn mx-2" title="图集"><div i-ph:image-fill=""></div></a><a class="icon-btn mx-2" rel="noreferrer" href="https://github.com/artiely" target="_blank" title="GitHub"><div i-carbon-logo-github=""></div></a></nav><!--]--><!--teleport start--><div class="el-overlay" style="z-index:3061;display:none"><!--[--><!--[--><div aria-modal="true" aria-label="评论" aria-describedby="el-id-2633-120" class="el-drawer rtl" style="width:620px" role="dialog"><span class="el-drawer__sr-focus" tabindex="-1"></span><header class="el-drawer__header"><!--[--><span id="el-id-2633-121" role="heading" class="el-drawer__title">评论</span><!--]--><button aria-label="Close this dialog" class="el-drawer__close-btn" type="button"><i class="el-icon el-drawer__close" style=""><!--[--><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"></path></svg><!--]--></i></button></header><!--v-if--><!--v-if--></div><!--]--><!--]--></div><!--teleport end--><div class="i-ant-design:comment-outlined icon" title="评论"></div><!--]--></div><script>window.__INITIAL_STATE__='{"pinia":{"data":{"bookmark":[{"version":3,"lists":[{"title":"博客","cards":[{"title":"Hacker News","url":"https://news.ycombinator.com/","favIconUrl":"https://news.ycombinator.com/favicon.ico","customTitle":"","customDescription":""},{"title":"酷壳 – CoolShell.cn","url":"https://coolshell.cn/","favIconUrl":"https://coolshell.cn/favicon.ico","customTitle":"","customDescription":""},{"title":"OurJS 爱我技术 我们的技术-IT文摘 JavaScript社区 Node.JS社区 前端社区 全端论坛 MongoDB html5 CSS3 开源社区 | OurJS","url":"http://ourjs.com/home","favIconUrl":"http://ourjs.com/ourjs/img/favicon.ico","customTitle":"OurJS","customDescription":"OurJS 爱我技术 我们的技术-IT文摘 JavaScript社区 Node.JS社区 前端社区 全端论坛 MongoDB html5 CSS3 开源社区 | OurJS"},{"title":"开始Web自动化测试 · CukeTest帮助文档","url":"http://cuketest.com/zh-cn/web/web_auto.html","favIconUrl":"http://cuketest.com/zh-cn/assets/images/favicon.ico","customTitle":"","customDescription":""},{"title":"好奇猫学院","url":"http://haoduoshipin.com/","favIconUrl":"","customTitle":"","customDescription":""},{"title":"Josh W Comeau","url":"https://www.joshwcomeau.com/","favIconUrl":"https://www.joshwcomeau.com/assets/favicon.png?v=4","customTitle":"","customDescription":""},{"title":"Smashing Magazine — For Web Designers And Developers","url":"https://www.smashingmagazine.com/","favIconUrl":"https://www.smashingmagazine.com/images/favicon/favicon.svg","customTitle":"","customDescription":""},{"title":"CSS-Tricks - Tips, Tricks, and Techniques on using Cascading Style Sheets.","url":"https://css-tricks.com/","favIconUrl":"https://css-tricks.com/favicon.svg","customTitle":"","customDescription":""},{"title":"Medium","url":"https://medium.com/","favIconUrl":"https://miro.medium.com/1*m-R_BkNf1Qjr1YbyOIJY2w.png","customTitle":"","customDescription":""},{"title":"DEV Community 👩‍💻👨‍💻 - Latest posts","url":"https://dev.to/latest","favIconUrl":"https://res.cloudinary.com/practicaldev/image/fetch/s--E8ak4Hr1--/c_limit,f_auto,fl_progressive,q_auto,w_32/https://dev-to.s3.us-east-2.amazonaws.com/favicon.ico","customTitle":"","customDescription":""},{"title":"Blog - JakeArchibald.com","url":"https://jakearchibald.com/","favIconUrl":"https://jakearchibald.com/c/favicon-67801369.png","customTitle":"","customDescription":""},{"title":"Red Stapler | Coding Tutorials and Development Tips","url":"https://redstapler.co/","favIconUrl":"https://redstapler.co/wp-content/uploads/2016/12/cropped-favicon-32x32.png","customTitle":"","customDescription":""},{"title":"阮一峰的网络日志","url":"https://www.ruanyifeng.com/blog/","favIconUrl":"https://www.ruanyifeng.com/favicon.ico","customTitle":"","customDescription":""}],"labels":[{"title":"blog","color":"blue"}]}]},{"version":3,"lists":[{"title":"灵感","cards":[{"title":"Awwwards - Website Awards - Best Web Design Trends","url":"https://www.awwwards.com/","favIconUrl":"https://assets.awwwards.com/assets/images/favicon.svg","customTitle":"","customDescription":""},{"title":"(166) Pinterest","url":"https://www.pinterest.com/","favIconUrl":"https://s.pinimg.com/webapp/favicon-54a5b2af.png","customTitle":"Pinterest","customDescription":"Pinterest"},{"title":"Godly — The Best Web Design Inspiration","url":"https://godly.website/","favIconUrl":"https://godly.website/favicon.png","customTitle":"","customDescription":""},{"title":"OpenProcessing - Creative Coding for the Curious Mind","url":"https://openprocessing.org/","favIconUrl":"https://openprocessing.org/assets/img/logo/favicons/favicon.ico","customTitle":"","customDescription":""},{"title":"No images for this search have been found — Yandex.Images","url":"https://yandex.com/images/search","favIconUrl":"https://yastatic.net/images-thumbs/_/8cS_MbHl6VBweqVjWeI-eNy0tzE.ico","customTitle":"","customDescription":""},{"title":"Dribbble - Discover the World’s Top Designers & Creative Professionals","url":"https://dribbble.com/","favIconUrl":"https://cdn.dribbble.com/assets/favicon-b38525134603b9513174ec887944bde1a869eb6cd414f4d640ee48ab2a15a26b.ico","customTitle":"","customDescription":""},{"title":"Similarsites.com - Easily Explore alternative websites","url":"https://www.similarsites.com/","favIconUrl":"https://www.similarsites.com/static/favicon.png","customTitle":"","customDescription":""}],"labels":[]}]},{"version":3,"lists":[{"title":"学习","cards":[{"title":"Frontend Masters — Learn JavaScript, React, Vue & Angular from Masters of Front-End Development!","url":"https://frontendmasters.com/","favIconUrl":"https://frontendmasters.com/favicon-32x32.png","customTitle":"","customDescription":""},{"title":"Three.js Journey — Learn WebGL with Three.js","url":"https://threejs-journey.com/#","favIconUrl":"https://threejs-journey.com/assets/favicons/favicon.ico","customTitle":"","customDescription":""},{"title":"JavaScript Garden","url":"http://bonsaiden.github.io/JavaScript-Garden/","favIconUrl":"http://bonsaiden.github.io/JavaScript-Garden/favicon.ico?v=2","customTitle":"","customDescription":""},{"title":"The Book of Shaders","url":"https://thebookofshaders.com/?lan=ch","favIconUrl":"https://thebookofshaders.com/favicon.gif","customTitle":"","customDescription":""},{"title":"Creative Coding TW - 互動程式創作台灣站 | 蒐集互動設計案例、教學與業界資源，幫助你一起進入互動程式創作的產業","url":"https://creativecoding.in/?utm_source=youtube&amp%3Butm_medium=weekend-chat&amp%3Butm_campaign=200912","favIconUrl":"https://creativecoding.in/wp-content/uploads/2022/03/cropped-cct-logo-icon-2-32x32.png","customTitle":"","customDescription":""},{"title":"Free JavaScript Resources | Java5cript.com - Learn JavaScript for free","url":"https://www.java5cript.com/","favIconUrl":"https://www.java5cript.com/favicon.ico","customTitle":"","customDescription":""},{"title":"Codrops - 网络专业人士的创意前端资源和灵感","url":"https://tympanus.net/codrops/","favIconUrl":"https://i7x7p5b7.stackpathcdn.com/codrops/wp-content/themes/codropstheme03/favicons/favicon.ico?v=2","customTitle":"","customDescription":""},{"title":"The Modern JavaScript Tutorial","url":"https://javascript.info/","favIconUrl":"https://javascript.info/img/favicon/favicon.png","customTitle":"","customDescription":""},{"title":"lib.d.ts | 深入理解 TypeScript","url":"https://jkchao.github.io/typescript-book-chinese/typings/lib.html#%E4%BF%AE%E6%94%B9%E5%8E%9F%E5%A7%8B%E7%B1%BB%E5%9E%8B","favIconUrl":"https://jkchao.github.io/typescript-book-chinese/logo.png","customTitle":"理解 TypeScript","customDescription":"lib.d.ts | 深入理解 TypeScript"},{"title":"大前端面试宝典 - 图解前端","url":"https://lucifer.ren/fe-interview/#/","favIconUrl":"https://lucifer.ren/favicon.ico","customTitle":"","customDescription":""},{"title":"Learn to Code — For Free — Coding Courses for Busy People","url":"https://www.freecodecamp.org/","favIconUrl":"https://www.freecodecamp.org/favicon-32x32.png?v=6cba562cbd10e31af925a976f3db73f7","customTitle":"","customDescription":""},{"title":"The Complete Flutter Development Bootcamp with Dart | The App Brewery","url":"https://www.appbrewery.co/p/flutter-development-bootcamp-with-dart","favIconUrl":"https://process.fs.teachablecdn.com/ADNupMnWyR7kCWRvm76Laz/resize=width:32,height:32/https://d2vvqscadf4c1f.cloudfront.net/vz7d3KSRSQ6tfzXoQJfE_LABlogoCircularSmall.png","customTitle":"","customDescription":""},{"title":"JavaScript Promise迷你书（中文版）","url":"http://liubin.org/promises-book/","favIconUrl":"http://liubin.org/promises-book/public/img/favicon.ico","customTitle":"","customDescription":""},{"title":"Free JavaScript Resources | Java5cript.com - Learn JavaScript for free","url":"https://www.java5cript.com/","favIconUrl":"https://www.java5cript.com/favicon.ico","customTitle":"","customDescription":""},{"title":"极客时间","url":"https://time.geekbang.org/course/detail/269-193915","favIconUrl":"https://static001.geekbang.org/static/time/icon/favicon-32x32.jpg","customTitle":"","customDescription":""},{"title":"All the tags! | HackerNoon","url":"https://hackernoon.com/tagged","favIconUrl":"https://hackernoon.com/favicon.ico","customTitle":"HackerNoon","customDescription":"All the tags! | HackerNoon"},{"title":"Learn VIM while playing a game - VIM Adventures","url":"https://vim-adventures.com/","favIconUrl":"","customTitle":"","customDescription":""}],"labels":[]}]},{"version":3,"lists":[{"title":"JS工具","cards":[{"title":"regex101: build, test, and debug regex","url":"https://regex101.com/","favIconUrl":"https://regex101.com/static/assets/favicon.ico","customTitle":"regex","customDescription":"创建，测试，调试正则"},{"title":"Three Nebula - A Particle System Engine For ThreeJs","url":"https://three-nebula.org/","favIconUrl":"https://three-nebula.org/favicon/favicon.ico","customTitle":"ThreeJs离子","customDescription":"Three Nebula - A Particle System Engine For ThreeJs"},{"title":"A lightweight Node.js private proxy registry | Verdaccio","url":"https://verdaccio.org/zh-cn/","favIconUrl":"https://verdaccio.org/zh-CN/img/logo/uk/verdaccio-tiny-uk-no-bg.svg","customTitle":"Nodejs Npm私有仓库","customDescription":"A lightweight Node.js private proxy registry | Verdaccio"},{"title":"objkt.com | Tezos 上最大的 NFT 市场","url":"https://objkt.com/","favIconUrl":"https://objkt.com/favicon.ico","customTitle":"Tezos 上最大的 NFT 市场","customDescription":"objkt.com | Tezos 上最大的 NFT 市场"},{"title":"Random User Generator | Home","url":"https://randomuser.me/","favIconUrl":"https://randomuser.me/favicon.ico","customTitle":"Random User Generator","customDescription":"随机用户api"},{"title":"RxMarbles: Interactive diagrams of Rx Observables","url":"https://rxmarbles.com/#every","favIconUrl":"https://rxmarbles.com/favicon.png","customTitle":"Interactive diagrams of Rx Observables","customDescription":"可视化RXjs"},{"title":"RunKit + npm: dayjs | RunKit","url":"https://runkit.com/embed/7q6iei0v6p89","favIconUrl":"https://runkit.com/favicon.ico","customTitle":"RunKit + npm","customDescription":"浏览器中测试你的nodejs包"},{"title":"All – Tiny Helpers","url":"https://tiny-helpers.dev/","favIconUrl":"https://tiny-helpers.dev/favicon-32x32.png","customTitle":"","customDescription":""}],"labels":[]}]},{"version":3,"lists":[{"title":"CSS工具","cards":[{"title":"Gradient Collection: Subtle Backgrounds - Light","url":"https://www.gradientmagic.com/collection/subtlebg_light","favIconUrl":"https://www.gradientmagic.com/favicon/favicon.ico","customTitle":"CSS 背景","customDescription":"Gradient Collection: Subtle Backgrounds - Light"},{"title":"CSSのコピペだけ！おしゃれな見出しのデザイン例まとめ68選","url":"https://saruwakakun.com/html-css/reference/h-design","favIconUrl":"https://saruwakakun.com/wp-content/uploads/2017/03/cropped-favicon-01-32x32.png","customTitle":"CSSのコピペだけ！おしゃれな見出しのデザイン例まとめ68選","customDescription":"CSS标题设计范例"},{"title":"TTF转WOFF2 - 在线转换图像文件","url":"https://www.aconvert.com/cn/image/ttf-to-woff2/","favIconUrl":"https://www.aconvert.com/favicon.ico","customTitle":"","customDescription":""},{"title":"Neumorphism/Soft UI CSS shadow generator","url":"https://neumorphism.io/#e0e0e0","favIconUrl":"https://neumorphism.io/favicon.ico","customTitle":"Neumorphism/Soft UI CSS shadow generator","customDescription":"拟物化UI"},{"title":"outline access time • Google Material Icons • Iconify","url":"https://icon-sets.iconify.design/ic/outline-access-time/","favIconUrl":"https://icon-sets.iconify.design/favicon@32.png","customTitle":"Iconify","customDescription":"icon图标大全"},{"title":"CSS Gradient — Generator, Maker, and Background","url":"https://cssgradient.io/","favIconUrl":"https://cssgradient.io/images/favicon-23859487.png","customTitle":"","customDescription":""},{"title":"SDK、插件-有字库","url":"https://www.webfont.com/sdk/MV95ems/59295bfbf629d81914b80ad4.html","favIconUrl":"https://cdn.res.webfont.com/wwwroot/www/favicon.ico","customTitle":"","customDescription":""},{"title":"Smooth Shadow","url":"https://shadows.brumm.af/","favIconUrl":"https://shadows.brumm.af/favicon.svg","customTitle":"","customDescription":""},{"title":"Fancy Border Radius Generator","url":"https://9elements.github.io/fancy-border-radius/#30.30.43.33--433.433","favIconUrl":"https://9elements.github.io/fancy-border-radius/favicon-32x32.png","customTitle":"","customDescription":""},{"title":"Keyframes","url":"https://keyframes.app/","favIconUrl":"https://keyframes.app/img/icons/favicon-32x32.png","customTitle":"","customDescription":""},{"title":"Interactive CSS Grid Generator | Layoutit Grid","url":"https://grid.layoutit.com/","favIconUrl":"https://grid.layoutit.com/favicon.ico","customTitle":"","customDescription":""},{"title":"Easing Gradients","url":"https://larsenwork.com/easing-gradients/","favIconUrl":"https://larsenwork.com/favicon.ico","customTitle":"","customDescription":""},{"title":"CSS Arrow Please - By Simon Hoejberg - @shojberg","url":"https://cssarrowplease.com/","favIconUrl":"","customTitle":"","customDescription":""},{"title":"CSS Color Gradient Generator: beautiful gradients for free","url":"https://mybrandnewlogo.com/color-gradient-generator","favIconUrl":"https://static.mybrandnewlogo.com/images/icon.svg","customTitle":"","customDescription":""},{"title":"Animista - CSS Animations on Demand","url":"https://animista.net/","favIconUrl":"","customTitle":"","customDescription":""},{"title":"CSS Duotone Generator","url":"https://cssduotone.com/","favIconUrl":"https://cssduotone.com/favicon-32x32.png","customTitle":"","customDescription":""},{"title":"CSS Cuboid Generator w/ React && Prism 😎","url":"https://codepen.io/jh3y/pen/MWJdqBo","favIconUrl":"https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico","customTitle":"","customDescription":""},{"title":"Plaiceholder","url":"https://plaiceholder.co/","favIconUrl":"https://plaiceholder.co/assets/images/favicon/favicon@192px.png","customTitle":"","customDescription":""},{"title":"CSS Grid Generator","url":"https://cssgrid-generator.netlify.app/","favIconUrl":"https://cssgrid-generator.netlify.app/favicon.ico","customTitle":"","customDescription":""},{"title":"<css-doodle />","url":"https://css-doodle.com/","favIconUrl":"https://css-doodle.com/favicon.png","customTitle":"","customDescription":""},{"title":"CSSWAND","url":"https://www.csswand.dev/","favIconUrl":"https://www.csswand.dev/favicon-32x32.png","customTitle":"","customDescription":""},{"title":"Clippy — CSS clip-path maker","url":"https://bennettfeely.com/clippy/","favIconUrl":"https://bennettfeely.com/clippy/pics/favicon.png","customTitle":"","customDescription":""},{"title":"Type Scale - A Visual Calculator","url":"https://type-scale.com/","favIconUrl":"https://type-scale.com/favicon.ico","customTitle":"Type Scale","customDescription":"可视化文本布局调试"},{"title":"1-Line Layouts","url":"https://1linelayouts.glitch.me/","favIconUrl":"","customTitle":"1-Line Layouts","customDescription":"CSS经典布局"},{"title":"Omatsuri","url":"https://omatsuri.app/","favIconUrl":"https://omatsuri.app/assets/favicon.ico","customTitle":"Omatsuri","customDescription":"CSS网页工具"},{"title":"Fluid Typography","url":"https://fluid-typography.netlify.app/","favIconUrl":"","customTitle":"","customDescription":""}],"labels":[]}]},{"version":3,"lists":[{"title":"工具","cards":[{"title":"TinyPNG – Compress WebP, PNG and JPEG images intelligently","url":"https://tinypng.com/","favIconUrl":"https://tinypng.com/images/favicon.ico","customTitle":"TinyPNG","customDescription":"图片压缩webp,png,jpg"},{"title":"Excalidraw","url":"https://excalidraw.com/","favIconUrl":"https://excalidraw.com/favicon.ico","customTitle":"Excalidraw","customDescription":"手绘风流程图"},{"title":"让微信排版变Nice","url":"https://md.guozh.net/","favIconUrl":"https://md.guozh.net/favicon.svg","customTitle":"让微信排版变Nice","customDescription":"让微信排版变Nice 私有仓库"},{"title":"Lorem Picsum","url":"https://picsum.photos/","favIconUrl":"https://picsum.photos/assets/images/favicon/favicon-32x32.png","customTitle":"Lorem Picsum","customDescription":"随机图片"},{"title":"Create a Palette - Coolors","url":"https://coolors.co/ad343e-191308-454b66-677db7-9ca3db","favIconUrl":"https://coolors.co/assets/img/favicon.png","customTitle":"Coolors","customDescription":"调色板"},{"title":"🎁 Emoji cheat sheet for GitHub, Basecamp, Slack & more","url":"https://www.webfx.com/tools/emoji-cheat-sheet/","favIconUrl":"https://www.webfx.com/wp-content/uploads/2021/10/favicon.png","customTitle":"🎁 Emoji cheat sheet for GitHub, Basecamp, Slack & more","customDescription":"🎁 表情符号备忘单"},{"title":"Live2d Cubism 2","url":"https://imuncle.github.io/live2d/","favIconUrl":"https://imuncle.github.io/live2d/avatar.png","customTitle":"","customDescription":""},{"title":"HelloGitHub 第 74 期","url":"https://hellogithub.com/periodical/volume/74/","favIconUrl":"https://img.hellogithub.com/favicon/favicon.ico","customTitle":"HelloGitHub","customDescription":"HelloGitHub 推荐项目集合"},{"title":"过期域名查询 - 国际域名 - 站长工具","url":"http://del.chinaz.com/?kw=&p=0&bl=&el=&ds%5B%5D=1&ds%5B%5D=2&ds%5B%5D=3&pl=&sort=1&suffix%5B%5D=com&dt=1&date=1&pagesize=30&st=1&qq-pf-to=pcqq.c2c","favIconUrl":"http://csstools.chinaz.com/favicon.ico","customTitle":"过期域名查询 ","customDescription":"过期域名查询 - 国际域名 - 站长工具"},{"title":"Github Rank (China)","url":"https://githubrank.com/","favIconUrl":"https://githubrank.com/favicon.ico","customTitle":"","customDescription":""},{"title":"Easing Functions Cheat Sheet","url":"https://easings.net/","favIconUrl":"https://easings.net/96.8aa68ac4.png","customTitle":"Easing Functions Cheat Sheet","customDescription":"缓动函数查询"},{"title":"Shields.io：开源项目的质量元数据徽章","url":"https://shields.io/","favIconUrl":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAABE0lEQVR4AWJkAIKkpCQ7TU3NySIiIlosQMCABejbMWAFf//8YXj77vWn27duZWVGz1nKGBYWZiQkJHSIkZGRmwEPCMxiwAt+/fz3/86VL8EAbuiiAKEoiMLwGcHdCQMBiUAlurDErmJ75tmKP8A3oiJyuF6vAxglws+0C5pv81GJaJdzhlWMMJssaaXM3C0CpmSDLAQtgH3BiCIVB2NRMKWEIoXQMBiLgjHGP9nQ+6ZPLgqGgs9xriDovX8A6Jjgw8ZyIigzn5xz+yZ+6O/tsz7Hy8tb/PLlywPAHMOFT/G3LwRc95fxPyerQCojuKwLDLQAGjoJWIzpAw1mw6bB0guHSYyMDBysnO/5hUTTGvM3rQEAI8qCnLiY3O4AAAAASUVORK5CYII=","customTitle":"Shields.io","customDescription":"开源项目的质量元数据徽章"},{"title":"diagrams.net","url":"https://app.diagrams.net/?tdsourcetag=s_pctim_aiomsg#G1fMS2g_n3fuV8FyS5o3faiOwtPGs-uL24","favIconUrl":"https://app.diagrams.net/favicon.ico","customTitle":"diagrams.net","customDescription":"流程图"},{"title":"Carbon | Create and share beautiful images of your source code","url":"https://carbon.now.sh/?bg=rgba(171%2C%20184%2C%20195%2C%201)&t=seti&wt=none&l=auto&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=56px&ph=56px&ln=false&fm=Hack&fs=14px&lh=133%25&si=false&es=2x&wm=false","favIconUrl":"https://carbon.now.sh/favicon.ico","customTitle":"Carbon","customDescription":"Carbon | Create and share beautiful images of your source code"},{"title":"Free Icons in SVG / PNG + Animated in GIF / APNG · Loading.io","url":"https://loading.io/icon/","favIconUrl":"https://loading.io/favicon.ico","customTitle":"Free Icons in SVG / PNG + Animated in GIF / APNG · Loading.io","customDescription":"带动画SVG"},{"title":"Text to ASCII Art Generator (TAAG)","url":"http://patorjk.com/software/taag/#p=testall&h=2&v=2&f=Bulbhead&t=tanjie","favIconUrl":"","customTitle":"Text to ASCII Art Generator (TAAG)","customDescription":"文字转ASCII"},{"title":"cubic-bezier(.17,.67,.83,.67) ✿ cubic-bezier.com","url":"https://cubic-bezier.com/#.17,.67,.83,.67","favIconUrl":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAtRJREFUWEftll1IU2Ecxp8zt6mtdHObbs2vTNT5QQ7SBHEZYpJG1E3khRdBXhR21U1SsF1U3oQQ3RVCMYT0IgpMVruI3IXL1CWmbmXqtOnMj/mx3ObaFudo4MfOYHK2ddH/7nBe3uf3Ps///SDQoVOBgBpRKb+KQKfOHxXtbdH/ABFzoDolCbr55X1pRwRAnsDDUHUZnkz8wE2jGTubLuwARYmHoa1QUCuXdekj6wBpu6a0ELExLNT0GNG3vBo5AHVBFm7nZeK7w4nWrxa0Tc4G3O2MR0Dm/ag4F0oxH8+mZtE58xOjaw7YXJvhBRBwOWjOy8StnAzYXG5cNgxTltekCNE1t0h71gV1IP1QHC7JkvFmbhHjjo2Ak3BYBOrTJHheWgCX14f7Y5N4YJpCFi8eTdmp0FhsGLCvHQxAKRagMUuGF9M2CmJvnRYL0H6qELL4WLRP29DYPwqn10cNOy8VoTJZgNfWBegXVw4GcITNRp1UiJfWBWz6tib+W+TWqkpJgtG+joa+EZjXf+36z2WxkMhhY8XjgcdHf90EjYDcw6St33bYXykWoK0kH9K4WFwfHEPHzDw15qAVFIC0UWtbwm//1grq0yXQlBagd2kV1/pHYV4P3BehwAQFqJWK0L2d/b3C49S+Vo1M4KHZAveeSEIR3TmWFoBNECgX8fFhwY678mNolmeiVv+Z+mayaAHyE3hU81w4KkZLUTaufhqhOp3pogW4kiaBJI6L1uIc3BkeR4tpimltaj5agIYMKR4rcqlTrOHjl11XKJMktABDZ8soB+TaXixvepjU3DVXQIA6qQivyk/gxqAJTyesYROnjcBQVYIYgoDy/QCcXm/kAewXK9E0aApL1+9dzb4IzkmE6K5QILVLD6vTHdbV74uAANBz5iT4HDaK3hnCLk7bA+Q7YHrDFT2AiChvizD+JgwV/h8A6HirBsFShUrOyHg/1H8AtegvrVPeS60AAAAASUVORK5CYII=","customTitle":"✿ cubic-bezier.com","customDescription":"生成贝塞尔曲线"},{"title":"Epic Spinners","url":"https://epic-spinners.epicmax.co/","favIconUrl":"https://epic-spinners.epicmax.co/favicon.ico","customTitle":"","customDescription":""}],"labels":[]}]},{"version":3,"lists":[{"title":"游戏","cards":[{"title":"Spine: Demos","url":"http://zh.esotericsoftware.com/spine-demos","favIconUrl":"http://zh.esotericsoftware.com/img/favicon/favicon-32x32.png","customTitle":"","customDescription":""},{"title":"Shadertoy BETA","url":"https://www.shadertoy.com/","favIconUrl":"https://www.shadertoy.com/img/favicon.ico","customTitle":"","customDescription":""},{"title":"Metaverse Full-Body Online 3D Avatar Creator | Ready Player Me","url":"https://readyplayer.me/","favIconUrl":"https://readyplayer.me/images/favicon-32x32.png","customTitle":"","customDescription":""},{"title":"Mixamo","url":"https://www.mixamo.com/#/","favIconUrl":"https://www.mixamo.com/favicon.ico","customTitle":"","customDescription":""},{"title":"Explore 3D Models - Sketchfab","url":"https://sketchfab.com/3d-models?features=downloadable&sort_by=-likeCount","favIconUrl":"https://static.sketchfab.com/static/builds/web/dist/static/assets/images/favicon/2f53b6d625305dad5f61e53c5b3d8125-v2.png","customTitle":"","customDescription":""},{"title":"PlayCanvas WebGL Game Engine","url":"https://playcanvas.com/","favIconUrl":"https://playcanvas.com/static-assets/images/icons/favicon.png","customTitle":"","customDescription":""},{"title":"Medieval Town (base) 3D assets | OpenGameArt.org","url":"https://opengameart.org/content/medieval-town-base-3d-assets","favIconUrl":"https://opengameart.org/sites/all/themes/oga/opengameart2_favicon.ico","customTitle":"","customDescription":""},{"title":"Blend Swap | Home","url":"https://blendswap.com/","favIconUrl":"https://blendswap.com/static/img/favicon.ico","customTitle":"","customDescription":""},{"title":"Kaboom","url":"https://kaboomjs.com/","favIconUrl":"https://kaboomjs.com/site/img/k.png","customTitle":"","customDescription":""},{"title":"Unity Asset Collection | All Unity Assets That You Need","url":"https://unityassetcollection.com/","favIconUrl":"","customTitle":"","customDescription":""}],"labels":[]}]}],"books":[{"cover":"/bookmark/2022-06-08-14-43-51.png","name":"《边城》"},{"cover":"/bookmark/2022-05-22-18-58-23.png","name":"《在细雨中呼喊》"},{"cover":"/bookmark/2022-05-22-18-59-43.png","name":"《活着》"},{"cover":"/bookmark/2022-06-08-14-37-35.png","name":"《蛙》"},{"cover":"/bookmark/2022-06-08-14-40-51.png","name":"《丰乳肥臀》"},{"cover":"/bookmark/2022-06-08-14-41-41.png","name":"《天堂蒜薹之歌》"},{"cover":"/bookmark/2022-06-08-14-45-12.png","name":"《人间失格》"}],"skills":[{"name":"JavaScript","cover":"/bookmark/2022-05-23-08-24-51.png"},{"name":"HTML","cover":"/bookmark/2022-05-23-08-26-29.png"},{"name":"CSS","cover":"/bookmark/2022-05-23-08-27-06.png"},{"name":"Vue","cover":"/bookmark/2022-05-23-08-27-44.png"},{"name":"React","cover":"/bookmark/2022-05-23-08-28-52.png"},{"name":"Node","cover":"/bookmark/2022-05-23-08-30-12.png"},{"name":"TypeScript","cover":"/bookmark/2022-05-23-08-31-32.png"}],"tools":[{"name":"VS code","cover":"/bookmark/2022-05-23-17-23-45.png"},{"name":"Unity","cover":"/bookmark/2022-05-23-17-27-18.png"},{"name":"Termius","cover":"/bookmark/2022-05-23-17-28-46.png"},{"name":"Rider","cover":"/bookmark/2022-05-23-17-34-54.png"},{"name":"SourceTree","cover":"/bookmark/2022-05-23-17-36-38.png"},{"name":"Docker","cover":"/bookmark/2022-05-23-17-37-38.png"}]}}}'</script><link rel="stylesheet" href="/assets/2019-6-12-deploy.a00b2061.css"><link rel="stylesheet" href="/assets/app.646ecbe7.css"></body></html>