import{i as a,o as p,c as t,j as n,k as o}from"./app.8f9f5019.js";const e=o(`<h1 id="electron-%E7%B3%BB%E7%BB%9F%E6%89%98%E7%9B%98-%E6%89%98%E7%9B%98%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E3%80%81%E6%89%98-%E7%9B%98%E5%9B%BE%E6%A0%87%E9%97%AA%E7%83%81-%E7%82%B9%E5%87%BB%E5%8F%B3%E4%B8%8A%E8%A7%92%E5%85%B3%E9%97%AD%E6%8C%89%E9%92%AE%E9%9A%90-%E8%97%8F%E5%88%B0%E6%89%98%E7%9B%98" tabindex="-1"><span class="prefix"></span><span class="content">Electron \u7CFB\u7EDF\u6258\u76D8 \u6258\u76D8\u53F3\u952E\u83DC\u5355\u3001\u6258 \u76D8\u56FE\u6807\u95EA\u70C1 \u70B9\u51FB\u53F3\u4E0A\u89D2\u5173\u95ED\u6309\u94AE\u9690 \u85CF\u5230\u6258\u76D8</span><span class="suffix"></span></h1><p><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200308122218.png" alt=""><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200308122259.png" alt=""></p><h2 id="electron-%E5%88%9B%E5%BB%BA%E4%BB%BB%E5%8A%A1%E6%A0%8F%E5%9B%BE%E6%A0%87%E4%BB%A5%E5%8F%8A%E4%BB%BB%E5%8A%A1%E6%A0%8F%E5%9B%BE%E6%A0%87%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95" tabindex="-1"><span class="prefix"></span><span class="content">Electron \u521B\u5EFA\u4EFB\u52A1\u680F\u56FE\u6807\u4EE5\u53CA\u4EFB\u52A1\u680F\u56FE\u6807\u53F3\u952E\u83DC\u5355</span><span class="suffix"></span></h2><div class="language-js ext-js code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-js line-numbers-mode"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Menu<span class="token punctuation">,</span> Tray<span class="token punctuation">,</span> app<span class="token punctuation">,</span> BrowserWindow <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;electron&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> appIcon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tray</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;lover.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> menu <span class="token operator">=</span> Menu<span class="token punctuation">.</span><span class="token function">buildFromTemplate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;\u8BBE\u7F6E&#39;</span><span class="token punctuation">,</span>
    <span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u6253\u5F00\u76F8\u5E94\u9875\u9762</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;\u5E2E\u52A9&#39;</span><span class="token punctuation">,</span> <span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;\u5173\u4E8E&#39;</span><span class="token punctuation">,</span> <span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;\u9000\u51FA&#39;</span><span class="token punctuation">,</span>
    <span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//</span>
      BrowserWindow<span class="token punctuation">.</span><span class="token function">getFocusedWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">webContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;close-main-window&#39;</span><span class="token punctuation">)</span>
      app<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
appIcon<span class="token punctuation">.</span><span class="token function">setToolTip</span><span class="token punctuation">(</span><span class="token string">&#39;my best app&#39;</span><span class="token punctuation">)</span>
appIcon<span class="token punctuation">.</span><span class="token function">setContextMenu</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="%E7%9B%91%E5%90%AC%E4%BB%BB%E5%8A%A1%E6%A0%8F%E5%9B%BE%E6%A0%87%E7%9A%84%E5%8D%95%E5%87%BB%E3%80%81%E5%8F%8C%E5%87%BB%E4%BA%8B%E4%BB%B6" tabindex="-1"><span class="prefix"></span><span class="content">\u76D1\u542C\u4EFB\u52A1\u680F\u56FE\u6807\u7684\u5355\u51FB\u3001\u53CC\u51FB\u4E8B\u4EF6</span><span class="suffix"></span></h2><div class="language-js ext-js code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-js line-numbers-mode"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> Menu<span class="token punctuation">,</span> Tray<span class="token punctuation">,</span> app<span class="token punctuation">,</span> BrowserWindow <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;electron&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> appIcon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tray</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;lover.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
appIcon<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;double-click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>win<span class="token punctuation">)</span>
  win<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="electron-%E7%82%B9%E5%87%BB%E5%8F%B3%E4%B8%8A%E8%A7%92%E5%85%B3%E9%97%AD%E6%8C%89%E9%92%AE%E9%9A%90%E8%97%8F%E4%BB%BB%E5%8A%A1%E6%A0%8F%E5%9B%BE%E6%A0%87" tabindex="-1"><span class="prefix"></span><span class="content">Electron \u70B9\u51FB\u53F3\u4E0A\u89D2\u5173\u95ED\u6309\u94AE\u9690\u85CF\u4EFB\u52A1\u680F\u56FE\u6807</span><span class="suffix"></span></h2><div class="language-js ext-js code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-js line-numbers-mode"><code class="language-js"><span class="token keyword">const</span> win <span class="token operator">=</span> BrowserWindow<span class="token punctuation">.</span><span class="token function">getFocusedWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
win<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;close&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>win<span class="token punctuation">.</span><span class="token function">isFocused</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>win<span class="token punctuation">.</span><span class="token function">isFocused</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    win <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">/* \u963B\u6B62\u5E94\u7528\u9000\u51FA */</span>

    win<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">/* \u9690\u85CF\u5F53\u524D\u7A97\u53E3 */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="electron-%E5%AE%9E%E7%8E%B0%E4%BB%BB%E5%8A%A1%E6%A0%8F%E9%97%AA%E7%83%81%E5%9B%BE%E6%A0%87" tabindex="-1"><span class="prefix"></span><span class="content">Electron \u5B9E\u73B0\u4EFB\u52A1\u680F\u95EA\u70C1\u56FE\u6807</span><span class="suffix"></span></h2><div class="language-js ext-js code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-js line-numbers-mode"><code class="language-js">timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  count<span class="token operator">++</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
    appIcon<span class="token punctuation">.</span><span class="token function">setImage</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;empty.ico&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token keyword">else</span>
    appIcon<span class="token punctuation">.</span><span class="token function">setImage</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;lover.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,10),c=[e],d={title:"Electron \u7CFB\u7EDF\u6258\u76D8 \u6258\u76D8\u53F3\u952E\u83DC\u5355\u3001\u6258 \u76D8\u56FE\u6807\u95EA\u70C1 \u70B9\u51FB\u53F3\u4E0A\u89D2\u5173\u95ED\u6309\u94AE\u9690 \u85CF\u5230\u6258\u76D8",tag:["electron","nodejs"],author:"Artiely",date:"2018-7-9",cover:"/2022-05-14-21-50-40.png",base64:"273a49",tinyCover:"/cover/2022-05-14-21-50-40.png",coverWidth:676,coverHeight:1200,coverPrimary:"040404",coverSecondary:"fbfbfb",meta:[{property:"og:title",content:"Electron \u7CFB\u7EDF\u6258\u76D8 \u6258\u76D8\u53F3\u952E\u83DC\u5355\u3001\u6258 \u76D8\u56FE\u6807\u95EA\u70C1 \u70B9\u51FB\u53F3\u4E0A\u89D2\u5173\u95ED\u6309\u94AE\u9690 \u85CF\u5230\u6258\u76D8"}]},l={__name:"2018-7-9-electron-ico",setup(u,{expose:s}){return a({title:"Electron \u7CFB\u7EDF\u6258\u76D8 \u6258\u76D8\u53F3\u952E\u83DC\u5355\u3001\u6258 \u76D8\u56FE\u6807\u95EA\u70C1 \u70B9\u51FB\u53F3\u4E0A\u89D2\u5173\u95ED\u6309\u94AE\u9690 \u85CF\u5230\u6258\u76D8",meta:[{property:"og:title",content:"Electron \u7CFB\u7EDF\u6258\u76D8 \u6258\u76D8\u53F3\u952E\u83DC\u5355\u3001\u6258 \u76D8\u56FE\u6807\u95EA\u70C1 \u70B9\u51FB\u53F3\u4E0A\u89D2\u5173\u95ED\u6309\u94AE\u9690 \u85CF\u5230\u6258\u76D8"}]}),s({frontmatter:{title:"Electron \u7CFB\u7EDF\u6258\u76D8 \u6258\u76D8\u53F3\u952E\u83DC\u5355\u3001\u6258 \u76D8\u56FE\u6807\u95EA\u70C1 \u70B9\u51FB\u53F3\u4E0A\u89D2\u5173\u95ED\u6309\u94AE\u9690 \u85CF\u5230\u6258\u76D8",tag:["electron","nodejs"],author:"Artiely",date:"2018-7-9",cover:"/2022-05-14-21-50-40.png",base64:"273a49",tinyCover:"/cover/2022-05-14-21-50-40.png",coverWidth:676,coverHeight:1200,coverPrimary:"040404",coverSecondary:"fbfbfb",meta:[{property:"og:title",content:"Electron \u7CFB\u7EDF\u6258\u76D8 \u6258\u76D8\u53F3\u952E\u83DC\u5355\u3001\u6258 \u76D8\u56FE\u6807\u95EA\u70C1 \u70B9\u51FB\u53F3\u4E0A\u89D2\u5173\u95ED\u6309\u94AE\u9690 \u85CF\u5230\u6258\u76D8"}]}}),(r,k)=>(p(),t("div",null,c))}};typeof n=="function"&&n(l);export{l as default,d as frontmatter};
