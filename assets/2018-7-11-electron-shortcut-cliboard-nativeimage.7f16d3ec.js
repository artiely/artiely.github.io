import{i as a,o as t,c as p,j as n,k as o}from"./app.c5010aa7.js";const e=o(`<h2 id="electron-%E6%B3%A8%E5%86%8C%E5%85%A8%E5%B1%80%E5%BF%AB%E6%8D%B7%E9%94%AE%EF%BC%88globalshortcut%EF%BC%89" tabindex="-1"><span class="prefix"></span><span class="content">Electron \u6CE8\u518C\u5168\u5C40\u5FEB\u6377\u952E\uFF08globalShortcut\uFF09</span><span class="suffix"></span></h2><div class="language-js ext-js code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-js line-numbers-mode"><code class="language-js"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> globalShortcut <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;electron&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>globalShortcut
app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;ready&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Register a &#39;ctrl+x&#39; shortcut listener.</span>
  <span class="token keyword">const</span> ret <span class="token operator">=</span> globalShortcut<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&#39;ctrl+x&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ctrl+x is pressed&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ret<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;registration failed&#39;</span><span class="token punctuation">)</span>

  <span class="token comment">// Check whether a shortcut is registered.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>globalShortcut<span class="token punctuation">.</span><span class="token function">isRegistered</span><span class="token punctuation">(</span><span class="token string">&#39;ctrl+x&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;will-quit&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Unregister a shortcut.</span>
  globalShortcut<span class="token punctuation">.</span><span class="token function">unregister</span><span class="token punctuation">(</span><span class="token string">&#39;ctrl+x&#39;</span><span class="token punctuation">)</span>
  <span class="token comment">// Unregister all shortcuts.</span>
  globalShortcut<span class="token punctuation">.</span><span class="token function">unregisterAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="clipboard-%E5%89%AA%E5%88%87%E6%9D%BF%E4%BA%8B%E4%BB%B6-clipboard-%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8A-nativeimage-%E6%A8%A1%E5%9D%97" tabindex="-1"><span class="prefix"></span><span class="content">clipboard \u526A\u5207\u677F\u4E8B\u4EF6 clipboard \u6A21\u5757\u4EE5\u53CA nativeImage \u6A21\u5757</span><span class="suffix"></span></h2><div class="language-js ext-js code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-js line-numbers-mode"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> clipboard<span class="token punctuation">,</span> nativeImage <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;electron&#39;</span><span class="token punctuation">)</span>
clipboard<span class="token punctuation">.</span><span class="token function">writeText</span><span class="token punctuation">(</span><span class="token string">&#39;\u8FD9\u662F\u4E00\u4E2A\u673A\u5668\u7801&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>clipboard<span class="token punctuation">.</span><span class="token function">readText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> img <span class="token operator">=</span> nativeImage<span class="token punctuation">.</span><span class="token function">createFromPath</span><span class="token punctuation">(</span><span class="token string">&#39;static/favicon2.ico&#39;</span><span class="token punctuation">)</span>
clipboard<span class="token punctuation">.</span><span class="token function">writeImage</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
<span class="token keyword">const</span> imgDataURL <span class="token operator">=</span> clipboard<span class="token punctuation">.</span><span class="token function">readImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> img3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
img3<span class="token punctuation">.</span>src <span class="token operator">=</span> imgDataURL
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img3<span class="token punctuation">)</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,4),c=[e],b={title:"Electron\u6CE8\u518C\u5168\u5C40\u5FEB\u6377\u952E\uFF08globalShortcut\uFF09,\u526A\u5207\u677F\uFF08clipboard \uFF09\u4E0EnativeImage \u6A21\u5757",tag:["nodejs","electron"],author:"Artiely",date:"2018-7-11",cover:"/2022-05-14-21-52-25.png",base64:"8c8f8f",tinyCover:"/cover/2022-05-14-21-52-25.png",coverWidth:736,coverHeight:1071,coverPrimary:"171718",coverSecondary:"e8e8e7",meta:[{property:"og:title",content:"Electron\u6CE8\u518C\u5168\u5C40\u5FEB\u6377\u952E\uFF08globalShortcut\uFF09,\u526A\u5207\u677F\uFF08clipboard \uFF09\u4E0EnativeImage \u6A21\u5757"}]},l={__name:"2018-7-11-electron-shortcut-cliboard-nativeimage",setup(r,{expose:s}){return a({title:"Electron\u6CE8\u518C\u5168\u5C40\u5FEB\u6377\u952E\uFF08globalShortcut\uFF09,\u526A\u5207\u677F\uFF08clipboard \uFF09\u4E0EnativeImage \u6A21\u5757",meta:[{property:"og:title",content:"Electron\u6CE8\u518C\u5168\u5C40\u5FEB\u6377\u952E\uFF08globalShortcut\uFF09,\u526A\u5207\u677F\uFF08clipboard \uFF09\u4E0EnativeImage \u6A21\u5757"}]}),s({frontmatter:{title:"Electron\u6CE8\u518C\u5168\u5C40\u5FEB\u6377\u952E\uFF08globalShortcut\uFF09,\u526A\u5207\u677F\uFF08clipboard \uFF09\u4E0EnativeImage \u6A21\u5757",tag:["nodejs","electron"],author:"Artiely",date:"2018-7-11",cover:"/2022-05-14-21-52-25.png",base64:"8c8f8f",tinyCover:"/cover/2022-05-14-21-52-25.png",coverWidth:736,coverHeight:1071,coverPrimary:"171718",coverSecondary:"e8e8e7",meta:[{property:"og:title",content:"Electron\u6CE8\u518C\u5168\u5C40\u5FEB\u6377\u952E\uFF08globalShortcut\uFF09,\u526A\u5207\u677F\uFF08clipboard \uFF09\u4E0EnativeImage \u6A21\u5757"}]}}),(u,k)=>(t(),p("div",null,c))}};typeof n=="function"&&n(l);export{l as default,b as frontmatter};
