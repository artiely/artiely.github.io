import{i as a,o as e,c as p,j as n,k as t}from"./app.8f9f5019.js";const o=t(`<p>\u9996\u5148\u6765\u770B\u4E00\u4E0B\u6211\u4EEC\u5E73\u65F6\u6700\u5E38\u89C1\u7684\u6E05\u9664\u65B9\u5F0F</p><div class="language-js ext-js code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-js line-numbers-mode"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">timer</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u8BE5\u65B9\u6848\u6709\u4E24\u70B9\u4E0D\u597D\u7684\u5730\u65B9\uFF0C\u5F15\u7528\u5C24\u5927\u7684\u8BDD\u6765\u8BF4\u5C31\u662F\uFF1A</p><ul><li>\u5B83\u9700\u8981\u5728\u8FD9\u4E2A\u7EC4\u4EF6\u5B9E\u4F8B\u4E2D\u4FDD\u5B58\u8FD9\u4E2A timer\uFF0C\u5982\u679C\u53EF\u4EE5\u7684\u8BDD\u6700\u597D\u53EA\u6709\u751F\u547D\u5468\u671F\u94A9\u5B50\u53EF\u4EE5\u8BBF\u95EE\u5230\u5B83\u3002\u8FD9\u5E76\u4E0D\u7B97\u4E25\u91CD\u7684\u95EE\u9898\uFF0C\u4F46\u662F\u5B83\u53EF\u4EE5\u88AB\u89C6\u4E3A\u6742\u7269\u3002</li><li>\u6211\u4EEC\u7684\u5EFA\u7ACB\u4EE3\u7801\u72EC\u7ACB\u4E8E\u6211\u4EEC\u7684\u6E05\u7406\u4EE3\u7801\uFF0C\u8FD9\u4F7F\u5F97\u6211\u4EEC\u6BD4\u8F83\u96BE\u4E8E\u7A0B\u5E8F\u5316\u7684\u6E05\u7406\u6211\u4EEC\u5EFA\u7ACB\u7684\u6240\u6709\u4E1C\u897F\u3002</li></ul><p>\u66F4\u597D\u7684\u65B9\u6848</p><p>\u8BE5\u65B9\u6CD5\u662F\u901A\u8FC7<code class="">$once</code>\u8FD9\u4E2A\u4E8B\u4EF6\u4FA6\u542C\u5668\u5668\u5728\u5B9A\u4E49\u5B8C\u5B9A\u65F6\u5668\u4E4B\u540E\u7684\u4F4D\u7F6E\u6765\u6E05\u9664\u5B9A\u65F6\u5668\u3002\u4EE5\u4E0B\u662F\u5B8C\u6574\u4EE3\u7801\uFF1A</p><div class="language-js ext-js code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-js line-numbers-mode"><code class="language-js"><span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u67D0\u4E9B\u5B9A\u65F6\u5668\u64CD\u4F5C</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
<span class="token comment">// \u901A\u8FC7$once\u6765\u76D1\u542C\u5B9A\u65F6\u5668\uFF0C\u5728beforeDestroy\u94A9\u5B50\u53EF\u4EE5\u88AB\u6E05\u9664\u3002</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">&#39;hook:beforeDestroy&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code class="">hook:&lt;\u751F\u547D\u5468\u671F&gt;</code>\u7684\u4F7F\u7528\u65B9\u5F0F\u53C2\u89C1<a href="https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L347" target="_blank" rel="noopener">\u6E90\u7801</a></p>`,8),c=[o],b={title:"vue\u4E2D\u5982\u4F55\u4F18\u96C5\u7684\u6E05\u9664\u5B9A\u65F6\u5668",tag:["vue"],cover:"/2022-05-13-12-15-54.png",date:"2020-4-29",base64:"4ec07b",tinyCover:"/cover/2022-05-13-12-15-54.png",coverWidth:564,coverHeight:1002,coverPrimary:"050d1c",coverSecondary:"faf2e3",meta:[{property:"og:title",content:"vue\u4E2D\u5982\u4F55\u4F18\u96C5\u7684\u6E05\u9664\u5B9A\u65F6\u5668"}]},r={__name:"2020-4-29-vue-hook-lifecycle",setup(l,{expose:s}){return a({title:"vue\u4E2D\u5982\u4F55\u4F18\u96C5\u7684\u6E05\u9664\u5B9A\u65F6\u5668",meta:[{property:"og:title",content:"vue\u4E2D\u5982\u4F55\u4F18\u96C5\u7684\u6E05\u9664\u5B9A\u65F6\u5668"}]}),s({frontmatter:{title:"vue\u4E2D\u5982\u4F55\u4F18\u96C5\u7684\u6E05\u9664\u5B9A\u65F6\u5668",tag:["vue"],cover:"/2022-05-13-12-15-54.png",date:"2020-4-29",base64:"4ec07b",tinyCover:"/cover/2022-05-13-12-15-54.png",coverWidth:564,coverHeight:1002,coverPrimary:"050d1c",coverSecondary:"faf2e3",meta:[{property:"og:title",content:"vue\u4E2D\u5982\u4F55\u4F18\u96C5\u7684\u6E05\u9664\u5B9A\u65F6\u5668"}]}}),(i,k)=>(e(),p("div",null,c))}};typeof n=="function"&&n(r);export{r as default,b as frontmatter};
