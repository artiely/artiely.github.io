import{i as a,o as e,c as p,j as s,k as l}from"./app.519b9fe6.js";const t=l(`<h1 id="linux-%E6%9C%8D%E5%8A%A1%E5%99%A8" tabindex="-1"><span class="prefix"></span><span class="content">Linux \u670D\u52A1\u5668</span><span class="suffix"></span></h1><p><strong>Linux\u662F\u64CD\u4F5C\u7CFB\u7EDF\uFF1A</strong></p><p>Linux\u4F5C\u4E3A<a href="https://zh.wikipedia.org/wiki/%E8%87%AA%E7%94%B1%E8%BD%AF%E4%BB%B6" target="_blank" rel="noopener">\u81EA\u7531\u8F6F\u4EF6</a>\u548C<a href="https://zh.wikipedia.org/wiki/%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81%E8%BD%AF%E4%BB%B6" target="_blank" rel="noopener">\u5F00\u653E\u6E90\u4EE3\u7801\u8F6F\u4EF6</a>\u53D1\u5C55\u4E2D\u6700\u8457\u540D\u7684\u4F8B\u5B50\uFF0C\u80CC\u9760\u793E\u533A\u4E0E\u5546\u4E1A\u5316\u7684\u4F7F\u7528\uFF0C\u4F7F\u5176\u5F97\u5230\u4E86\u5E7F\u6CDB\u7684\u5E94\u7528\u4E0E\u53D1\u5C55\u3002</p><p><strong>Linux\u65E0\u5904\u4E0D\u5728\uFF1A</strong></p><p>\u4E16\u754C\u4E0A500\u4E2A\u6700\u5FEB\u7684\u8D85\u7EA7\u8BA1\u7B97\u673A90\uFF05\u4EE5\u4E0A\u8FD0\u884CLinux\u53D1\u884C\u7248\u6216\u53D8\u79CD\uFF0C\u5305\u62EC\u6700\u5FEB\u7684\u524D10\u540D\u8D85\u7EA7\u8BA1\u7B97\u673A\u8FD0\u884C\u7684\u90FD\u662F\u57FA\u4E8ELinux\u5185\u6838\u7684\u64CD\u4F5C\u7CFB\u7EDF\u3002Linux\u4E5F\u5E7F\u6CDB\u5E94\u7528\u5728\u5D4C\u5165\u5F0F\u7CFB\u7EDF\u4E0A\uFF0C\u5982\u624B\u673A\uFF08Mobile Phone\uFF09\u3001\u5E73\u677F\u7535\u8111\uFF08Tablet\uFF09\u3001\u8DEF\u7531\u5668\uFF08Router\uFF09\u3001\u7535\u89C6\uFF08TV\uFF09\u548C\u7535\u5B50\u6E38\u620F\u673A\u7B49\u3002\u5728\u79FB\u52A8\u8BBE\u5907\u4E0A\u5E7F\u6CDB\u4F7F\u7528\u7684Android\u64CD\u4F5C\u7CFB\u7EDF\u5C31\u662F\u521B\u5EFA\u5728Linux\u5185\u6838\u4E4B\u4E0A\u3002</p><p><strong>\u4E3B\u8981\u76EE\u6807\uFF1A</strong></p><ul><li>\u4E86\u89E3Linux\u64CD\u4F5C\u7CFB\u7EDF(\u7248\u672C\u3001\u76EE\u5F55\u3001\u5B89\u88C5\u7B49)</li><li>\u5B66\u4F1A\u4F7F\u7528Linux\u5E38\u89C1\u7684\u547D\u4EE4</li><li>\u642D\u5EFANginx\u670D\u52A1\uFF0C\u7ED9\u4F60\u7684Web\u5C0F\u7AD9\u4E00\u4E2A\u8FD0\u884C\u73AF\u5883\u5427~~</li><li>\u4ECB\u7ECDHTTP(s)\u53CA\u514D\u8D39\u7533\u8BF7SSL\u8BC1\u4E66</li><li>\u4E91\u670D\u52A1\u5668\u963F\u91CC\u4E91\u3001\u534E\u4E3A\u4E91\uFF08\u4ECB\u7ECD\uFF09\u3001\u4E91\u6570\u636E\u5E93RDS\u4ECB\u7ECD</li><li>\u4EC0\u4E48\u662F\u8D1F\u8F7D\u5747\u8861\uFF1F\u8D1F\u8F7D\u5747\u8861\u6709\u4EC0\u4E48\u7528\uFF1F\u963F\u91CC\u4E91SLB\u4ECB\u7ECD</li></ul><p><strong>\u524D\u7F6E\u51C6\u5907\u3010\u4E0B\u9762\u7684\u65B9\u5F0F\u4EFB\u9009\u5176\u4E00\u3011\uFF1A</strong></p><ul><li>\u4F7F\u7528\u865A\u62DF\u5316\u8F6F\u4EF6(\u672C\u5730\u5B89\u88C5)</li><li>\u8D2D\u4E70\u4E91\u670D\u52A1\u5668</li></ul><p>\u7248\u672C\u51C6\u5907\uFF1Alinux\u64CD\u4F5C\u7CFB\u7EDF(Centos 7.6)</p><p>\u53EF\u9009\uFF1A\u51C6\u5907\u4E00\u4E2A\u57DF\u540D</p><h2 id="linux%E7%AE%80%E4%BB%8B" tabindex="-1"><span class="prefix"></span><span class="content">Linux\u7B80\u4ECB</span><span class="suffix"></span></h2><h3 id="%E7%89%88%E6%9C%AC%E4%BB%8B%E7%BB%8D" tabindex="-1"><span class="prefix"></span><span class="content">\u7248\u672C\u4ECB\u7ECD</span><span class="suffix"></span></h3><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145657.png" alt="Linux\u7B80\u7248\u4ECB\u7ECD"></figure><p>Fedora\u662F\u57FA\u4E8ERHEL\uFF0CCentOS\uFF0CScientific Linux, \u548COracle Linux\u7684\u793E\u533A\u7248\u672C\u3002\u76F8\u6BD4RHEL\uFF0CFedora\u6253\u5305\u4E86\u663E\u8457\u7684\u66F4\u591A\u7684\u8F6F\u4EF6\u5305\u3002\u5176\u4E2D\u4E00\u4E2A\u539F\u56E0\u662F\uFF0C\u591A\u6837\u5316\u7684\u793E\u533A\u53C2\u4E0EFedora\u7684\u5EFA\u8BBE\uFF0C\u5B83\u4E0D\u53EA\u662F\u4E00\u5BB6\u516C\u53F8\u3002\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\uFF0CCentOS\u7528\u4E8E\u6D3B\u52A8\uFF0C\u6F14\u793A\u548C\u5B9E\u9A8C\uFF0C\u56E0\u4E3A\u5B83\u662F\u5BF9\u6700\u7EC8\u7528\u6237\u514D\u8D39\u63D0\u4F9B\u7684\uFF0C\u5E76\u5177\u6709\u6BD4Fedora\u7684\u4E00\u4E2A\u66F4\u957F\u7684\u53D1\u5E03\u5468\u671F(\u901A\u5E38\u6BCF\u9694\u534A\u5E74\u5DE6\u53F3\u53D1\u5E03\u4E00\u4E2A\u65B0\u7248\u672C)\u3002</p><p>Debian\u662F\u5305\u62ECUbuntu\u5728\u5185\u8BB8\u591A\u53D1\u884C\u7248\u7684\u4E0A\u6E38\uFF0C\u800CUbuntu\u53C8\u662FLinux Mint\u53CA\u5176\u4ED6\u53D1\u884C\u7248\u7684\u4E0A\u6E38\u3002Debian\u5728\u670D\u52A1\u5668\u548C\u684C\u9762\u7535\u8111\u9886\u57DF\u90FD\u6709\u7740\u5E7F\u6CDB\u7684\u5E94\u7528\u3002Debian\u662F\u4E00\u4E2A\u7EAF\u5F00\u6E90\u8BA1\u5212\u5E76\u7740\u91CD\u5728\u4E00\u4E2A\u5173\u952E\u70B9\u4E0A\uFF0C\u7A33\u5B9A\u6027\u3002\u5B83\u540C\u65F6\u4E5F\u63D0\u4F9B\u4E86\u6700\u5927\u7684\u548C\u5B8C\u6574\u7684\u8F6F\u4EF6\u4ED3\u5E93\u7ED9\u7528\u6237\u3002</p><p>Linux\u7684\u53D1\u884C\u7248\u672C\u53EF\u4EE5\u5927\u4F53\u5206\u4E3A\u4E24\u7C7B\uFF0C\u4E00\u7C7B\u662F\u5546\u4E1A\u516C\u53F8\u7EF4\u62A4\u7684\u53D1\u884C\u7248\u672C\uFF0C\u5982\uFF1A\u8457\u540D\u7684Redhat(RHEL)\uFF0C\u4E00\u7C7B\u662F\u793E\u533A\u7EC4\u7EC7\u7EF4\u62A4\u7684\u53D1\u884C\u7248\u672C\uFF0C\u5982\uFF1ADebian\u3002\u4E0B\u9762\u4ECB\u7ECD\u4E00\u4E0B\u5404\u4E2A\u53D1\u884C\u7248\u672C\u7684\u7279\u70B9\uFF1A</p><h4 id="centos(redhat)" tabindex="-1"><span class="prefix"></span><span class="content">Centos(Redhat)</span><span class="suffix"></span></h4><p>Redhat\uFF0C\u5E94\u8BE5\u79F0\u4E3ARedhat\u7CFB\u5217\uFF0C\u5305\u62ECRHEL(Redhat Enterprise Linux\uFF0C\u4E5F\u5C31\u662F\u6240\u8C13\u7684Redhat Advance Server\uFF0C\u6536\u8D39\u7248\u672C)\u3001Fedora Core(\u7531\u539F\u6765\u7684Redhat\u684C\u9762\u7248\u672C\u53D1\u5C55\u800C\u6765\uFF0C\u514D\u8D39\u7248\u672C)\u3001CentOS(RHEL\u7684\u793E\u533A\u514B\u9686\u7248\u672C\uFF0C\u514D\u8D39)\u3002</p><p>\u5305\u7BA1\u7406\u65B9\u5F0F\uFF1A\u91C7\u7528\u7684\u662F\u57FA\u4E8E<code class="">rpm</code>\u5305\u7684<code class="">yum</code>\u5305\u7BA1\u7406\u65B9\u5F0F\u3002</p><h4 id="debian" tabindex="-1"><span class="prefix"></span><span class="content">Debian</span><span class="suffix"></span></h4><p>Debian\u662F\u793E\u533A\u7C7BLinux\u7684\u5178\u8303\uFF0C\u662F\u8FC4\u4ECA\u4E3A\u6B62\u6700\u9075\u5FAAGNU\u89C4\u8303 \u7684Linux\u7CFB\u7EDF\u3002Debian\u6700\u65E9\u7531Ian Murdock\u4E8E1993\u5E74\u521B\u5EFA\uFF0C\u5206\u4E3A\u4E09\u4E2A\u7248\u672C\u5206\u652F(branch)\uFF1A <code class="">stable</code>, <code class="">testing</code> \u548C <code class="">unstable</code>\u3002\u5176\u4E2D\uFF0C<code class="">unstable</code>\u4E3A\u6700\u65B0\u7684\u6D4B\u8BD5\u7248\u672C\uFF0C\u5176\u4E2D\u5305\u62EC\u6700\u65B0\u7684\u8F6F\u4EF6\u5305\uFF0C\u4F46\u662F\u4E5F\u6709\u76F8\u5BF9\u8F83\u591A\u7684bug\uFF0C\u9002\u5408\u684C\u9762\u7528\u6237\u3002<code class="">testing</code>\u7684\u7248\u672C\u90FD\u7ECF \u8FC7<code class="">unstable</code>\u4E2D\u7684\u6D4B\u8BD5\uFF0C\u76F8\u5BF9\u8F83\u4E3A\u7A33\u5B9A\uFF0C\u4E5F\u652F\u6301\u4E86\u4E0D\u5C11\u65B0\u6280\u672F(\u6BD4\u5982SMP\u7B49)\u3002\u800C<code class="">stable</code>\u4E00\u822C\u53EA\u7528\u4E8E\u670D\u52A1\u5668\uFF0C\u4E0A\u9762\u7684\u8F6F\u4EF6\u5305\u5927\u90E8\u5206\u90FD\u6BD4\u8F83\u8FC7\u65F6\uFF0C\u4F46\u662F\u7A33\u5B9A\u548C\u5B89\u5168\u6027\u90FD\u975E\u5E38\u7684\u9AD8\u3002</p><p>\u5305\u7BA1\u7406\u65B9\u5F0F\uFF1A\u91C7\u7528\u7684\u662F\u57FA\u4E8E\u662F<code class="">apt-get</code>\u3001<code class="">dpkg</code>\u5305\u7BA1\u7406\u65B9\u5F0F\u3002</p><h4 id="ubuntu" tabindex="-1"><span class="prefix"></span><span class="content">Ubuntu</span><span class="suffix"></span></h4><p>Ubuntu\u4E25\u683C\u6765\u8BF4\u4E0D\u80FD\u7B97\u4E00\u4E2A\u72EC\u7ACB\u7684\u53D1\u884C\u7248\u672C\uFF0CUbuntu\u662F\u57FA\u4E8EDebian\u7684<code class="">unstable</code>\u7248\u672C\u52A0\u5F3A\u800C\u6765\uFF0C\u53EF\u4EE5\u8FD9\u4E48\u8BF4\uFF0CUbuntu\u5C31\u662F \u4E00\u4E2A\u62E5\u6709Debian\u6240\u6709\u7684\u4F18\u70B9\uFF0C\u4EE5\u53CA\u81EA\u5DF1\u6240\u52A0\u5F3A\u7684\u4F18\u70B9\u7684\u8FD1\u4E4E\u5B8C\u7F8E\u7684 Linux\u684C\u9762\u7CFB\u7EDF\u3002\u6839\u636E\u9009\u62E9\u7684\u684C\u9762\u7CFB\u7EDF\u4E0D\u540C\uFF0C\u6709\u4E09\u4E2A\u7248\u672C\u53EF\u4F9B\u9009\u62E9\uFF0C\u57FA\u4E8E<code class="">Gnome</code>\u7684Ubuntu\uFF0C\u57FA\u4E8E<code class="">KDE</code>\u7684Kubuntu\u4EE5\u53CA\u57FA\u4E8E<code class="">Xfc</code>\u7684 Xubuntu\u3002\u7279\u70B9\u662F\u754C\u9762\u975E\u5E38\u53CB\u597D\uFF0C\u5BB9\u6613\u4E0A\u624B\uFF0C\u5BF9\u786C\u4EF6\u7684\u652F\u6301\u975E\u5E38\u5168\u9762\uFF0C\u662F\u6700\u9002\u5408\u505A\u684C\u9762\u7CFB\u7EDF\u7684Linux\u53D1\u884C\u7248\u672C\u3002</p><p>\u5305\u7BA1\u7406\u65B9\u5F0F\uFF1A\u91C7\u7528\u7684\u662F\u57FA\u4E8E\u662F<code class="">apt-get</code>\u3001<code class="">dpkg</code>\u5305\u7BA1\u7406\u65B9\u5F0F\u3002</p><p>\u603B\u7ED3\u5BF9\u6BD4\u4E00\u4E0B\uFF1A</p><table><thead><tr><th>\u5206\u7C7B</th><th>Centos</th><th>Debian</th><th>Ubuntu</th></tr></thead><tbody><tr><td>\u5305\u7BA1\u7406</td><td>yum</td><td>apt-get</td><td>apt-get</td></tr><tr><td>\u684C\u9762\u5E94\u7528</td><td>\u652F\u6301</td><td>\u9700\u8981\u53E6\u88C5</td><td>\u652F\u6301</td></tr><tr><td>\u7CFB\u7EDF\u8D44\u6E90\u5360\u7528</td><td>\u5C0F</td><td>\u975E\u5E38\u5C0F</td><td>\u5927</td></tr><tr><td>\u8D44\u6599</td><td>\u6700\u591A</td><td>\u4F9D\u8D56\u793E\u533A</td><td>\u591A</td></tr><tr><td>\u66F4\u65B0\u9891\u6B21</td><td>\u957F\u8FBE10\u5E74</td><td>1-2\u5E74</td><td>3-5\u5E74</td></tr><tr><td>\u8F6F\u4EF6\u8D44\u6E90</td><td>\u8F83\u65B0</td><td>\u6700\u65B0</td><td>\u65B0</td></tr><tr><td>\u6F0F\u6D1E\u66F4\u65B0</td><td>\u6162</td><td>\u4F9D\u8D56\u793E\u533A</td><td>\u4F9D\u8D56\u793E\u533A</td></tr><tr><td>\u9ED8\u8BA4\u5B89\u88C5</td><td>\u975E\u5E38\u5168</td><td>\u65E0</td><td>\u975E\u5E38\u5168</td></tr><tr><td>\u7A33\u5B9A\u6027</td><td>\u8F83\u7A33\u5B9A</td><td>\u7A33\u5B9A</td><td>\u76F8\u5BF9\u7A33\u5B9A</td></tr><tr><td>\u7CFB\u7EDF\u64CD\u4F5C\u8981\u6C42</td><td>\u8F83\u9AD8</td><td>\u9AD8</td><td>\u4F4E</td></tr><tr><td>\u7EF4\u62A4\u8981\u6C42</td><td>\u4F4E</td><td>\u9AD8</td><td>\u8F83\u9AD8</td></tr><tr><td>\u6613\u7528\u6027</td><td>\u4E00\u822C</td><td>\u5DEE</td><td>\u8F83\u597D</td></tr><tr><td>\u5B9A\u5236\u5316</td><td>\u4E00\u822C</td><td>\u9AD8</td><td>\u5DEE</td></tr></tbody></table><p>CentOS\u662FRHEL\u53D1\u884C\u7248\u5BF9\u5E94\u7684\u5F00\u6E90\u7248\u672C\uFF0C\u901A\u5E38\u5728RedHat\u7684\u53D1\u5E03\u540E\u5C31\u4F1A\u5F88\u5FEB\u53D1\u884C\u3002\u5B83\u65E2\u7A33\u5B9A\uFF0C\u5360\u7528\u8D44\u6E90\u53C8\u5C11\uFF0C\u5728\u7F51\u7EDC\u4E0A\u80FD\u65B9\u4FBF\u641C\u7D22\u5230\u5B89\u88C5\u914D\u7F6E\u7684\u6587\u6863\uFF0C\u81EA\u8EAB\u7684\u5E2E\u52A9\u6587\u6863\u4E5F\u975E\u5E38\u5F3A\u5927\u3002\u6240\u4EE5\uFF0C\u65B0\u4EBA\u5B66\u4E60\u63A8\u8350\uFF1A<strong>Centos</strong></p><blockquote><p>\u672C\u64CD\u4F5C\u4E0E\u6F14\u793A\uFF0C\u5C06\u4F1A\u4F7F\u7528Centos 7.6 64-bit\u7248\u672C\u8FDB\u884C\u6F14\u793A</p></blockquote><p>\u53C2\u8003\u8D44\u6599\uFF1A<a href="https://upload.wikimedia.org/wikipedia/commons/1/1b/Linux_Distribution_Timeline.svg" target="_blank" rel="noopener">Linux\u53D1\u884C\u7248\u53CA\u5E74\u4EFD</a></p><h3 id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF" tabindex="-1"><span class="prefix"></span><span class="content">\u5E94\u7528\u573A\u666F</span><span class="suffix"></span></h3><h4 id="linux-vs-windows" tabindex="-1"><span class="prefix"></span><span class="content">Linux vs Windows</span><span class="suffix"></span></h4><p>\u4E0B\u9762\u6211\u4EECLinux\u4E0EWindows\u4F5C\u4E00\u4E2A\u5BF9\u6BD4\uFF1A</p><p>\u8FD9\u91CCLinux\u662F\u514D\u8D39\u7684\u7248\u672C\uFF0C\u5982Centos, Ubuntu\uFF0C\u800CWindows\u5219\u662FWindows10/8/7</p><table><thead><tr><th>\u5206\u7C7B</th><th>Linux</th><th>Windows</th></tr></thead><tbody><tr><td>\u8D39\u7528</td><td>\u514D\u8D39</td><td>\u4ED8\u8D39</td></tr><tr><td>\u8F6F\u4EF6\u652F\u6301</td><td>\u793E\u533A\uFF0C\u514D\u8D39</td><td>\u5B98\u65B9\u652F\u6301\uFF0C\u6536\u8D39</td></tr><tr><td>\u5B89\u5168\u6027</td><td>\u5F88\u5B89\u5168</td><td>\u5404\u79CD\u6F0F\u6D1E</td></tr><tr><td>\u4F7F\u7528\u4E60\u60EF</td><td>\u547D\u4EE4\u884C\u4E0E\u754C\u9762\u64CD\u4F5C\uFF0C\u9700\u8981\u5B66\u4E60</td><td>\u56FE\u5F62\u754C\u9762\u64CD\u4F5C\uFF0C\u7B80\u5355</td></tr><tr><td>\u53EF\u5B9A\u5236\u6027</td><td>\u9AD8</td><td>\u4F4E</td></tr><tr><td>\u5E94\u7528\u8303\u7574</td><td>\u670D\u52A1\u5668</td><td>\u5DE5\u4F5C\u3001\u5A31\u4E50</td></tr><tr><td>\u66F4\u65B0</td><td>\u4F9D\u8D56\u793E\u533A</td><td>\u5B98\u65B9\u66F4\u65B0</td></tr><tr><td>\u7CFB\u7EDF\u5185\u6838</td><td>\u900F\u660E</td><td>\u5C01\u95ED</td></tr></tbody></table><p>Linux\u7684\u4F18\u52BF\uFF1A</p><ul><li><strong>\u7A33\u5B9A\u7684\u7CFB\u7EDF</strong></li><li>\u5B89\u5168\u6027\u548C\u6F0F\u6D1E\u7684\u5FEB\u901F\u4FEE\u8865</li><li>\u591A\u7528\u6237</li><li>\u7528\u6237\u548C\u7528\u6237\u7EC4\u7684\u89C4\u5212</li><li><strong>\u76F8\u5BF9\u8F83\u5C11\u7684\u7CFB\u7EDF\u8D44\u6E90\u5360\u7528</strong></li><li>\u53EF\u5B9A\u5236\u88C1\u526A\uFF0C\u79FB\u690D\u5230\u5D4C\u5165\u5F0F\u5E73\u53F0\uFF08\u5982\u5B89\u5353\u8BBE\u5907\uFF09</li><li>\u53EF\u9009\u62E9\u7684\u591A\u79CD\u56FE\u5F62\u7528\u6237\u754C\u9762\uFF08\u5982 GNOME\uFF0CKDE\uFF09</li></ul><p>Windows\u7684\u4F18\u52BF\uFF1A</p><ul><li>\u7279\u5B9A\u7684\u652F\u6301\u5382\u5546</li><li><strong>\u8DB3\u591F\u7684\u6E38\u620F\u5A31\u4E50\u652F\u6301\u5EA6</strong></li><li>\u8DB3\u591F\u7684\u4E13\u4E1A\u8F6F\u4EF6\u652F\u6301\u5EA6</li></ul><h4 id="linux%E7%9A%84gui%E7%95%8C%E9%9D%A2" tabindex="-1"><span class="prefix"></span><span class="content">Linux\u7684GUI\u754C\u9762</span><span class="suffix"></span></h4><p>\u8FD9\u91CC\u6211\u4EEC\u9009\u62E9\u51E0\u6B3E\u6BD4\u8F83\u6709\u4EE3\u8868\u6027\u7684\u684C\u9762\u8FDB\u884C\u7B80\u5355\u7684\u4ECB\u7ECD\uFF1A</p><ol><li><p>GNOME<a href="https://www.gnome.org/" target="_blank" rel="noopener">[\u5B98\u65B9\u5730\u5740]</a></p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145658.png" alt="image-20190602081017634"></figure><blockquote><p>centos6.x \u4E0A\u9ED8\u8BA4\u662Fgnome2\uFF0C7.x\u9ED8\u8BA4gnome3</p></blockquote><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145659.jpg" alt="img"></figure><p>\u4E0A\u56FE\u4E3A\uFF1AGNOME3</p></li><li><p>KDE <a href="https://kde.org/" target="_blank" rel="noopener">[\u5B98\u65B9\u5730\u5740]</a></p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145700.jpg" alt="Plasma 5.12"></figure><p>\u4E0A\u56FE\u4E3A\uFF1APlasma 5.12 LTS</p></li><li><p>Unity</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145701.png" alt="preview"></figure><p><strong>Unity</strong>\u662F<a href="https://zh.wikipedia.org/wiki/Canonical%E5%85%AC%E5%8F%B8" target="_blank" rel="noopener">Canonical\u516C\u53F8</a>\u4E3A<a href="https://zh.wikipedia.org/wiki/GNOME" target="_blank" rel="noopener">GNOME</a><a href="https://zh.wikipedia.org/wiki/%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83" target="_blank" rel="noopener">\u684C\u9762\u73AF\u5883</a>\u6240\u5F00\u53D1\u7684<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2" target="_blank" rel="noopener">\u56FE\u5F62\u7528\u6237\u754C\u9762</a>\uFF0C\u7528\u4E8E<a href="https://zh.wikipedia.org/wiki/Ubuntu" target="_blank" rel="noopener">Ubuntu</a><a href="https://zh.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener">\u64CD\u4F5C\u7CFB\u7EDF</a>\u3002</p><blockquote><p>\u76F4\u5230Ubuntu16.04LTS\uFF0C\u4F7F\u7528\u7684\u90FD\u662FUnity\uFF0C\u4ECE Ubuntu 18.04 LTS \u5F00\u59CB\uFF0C\u9ED8\u8BA4\u7684 Ubuntu \u684C\u9762\u5C06\u91CD\u5F52 GNOME\u3002\u4EBA\u4E8B\u8C03\u6574\uFF0C\u4E0E\u94B1\u7684\u95EE\u9898\u2026.\u6709\u5174\u8DA3\u53EF\u4EE5\u770B<a href="https://insights.ubuntu.com/2017/04/05/growing-ubuntu-for-cloud-and-iot-rather-than-phone-and-convergence/" target="_blank" rel="noopener">\u8FD9\u91CC</a></p></blockquote></li></ol><p>\u6211\u4EEC\u6765\u770B\u770B<a href="https://trends.google.com/trends/explore?date=today%205-y&amp;q=GNOME,KDE,%2Fm%2F0dsbk0n" target="_blank" rel="noopener">Google Trends</a></p><p>\u53C2\u8003\u8D44\u6599\uFF1A</p><p><a href="http://www.ubuntu.org.cn/download" target="_blank" rel="noopener">Ubuntu\u5B98\u65B9\u4E0B\u8F7D\u5730\u5740\uFF1A\u83B7\u53D6 Ubuntu</a></p><p><a href="https://blog.csdn.net/zyqblog/article/details/80152016" target="_blank" rel="noopener">Ubuntu18.04\uFF08Gnome\u684C\u9762\uFF09\u4E3B\u9898\u7F8E\u5316</a></p><p><a href="https://blog.csdn.net/ice__snow/article/details/80152068" target="_blank" rel="noopener">Ubuntu 18.04\u914D\u7F6E\u53CA\u7F8E\u5316</a></p><p><a href="https://heliu.io/2018/12/22/Ubuntu18.04%E5%AE%8C%E7%BE%8E%E9%85%8D%E7%BD%AE/#%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88" target="_blank" rel="noopener">Ubuntu18.04\u5B8C\u7F8E\u914D\u7F6E\u4F18\u5316\u7F8E\u5316</a></p><h4 id="%E5%B8%B8%E8%A7%81%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8" tabindex="-1"><span class="prefix"></span><span class="content">\u5E38\u89C1\u8F6F\u4EF6\u5E94\u7528</span><span class="suffix"></span></h4><ul><li>\u6570\u636E\u5E93\uFF1AMySQL\u3001Oracle\u3001 MongoDB\u3001Redis</li><li>web\u670D\u52A1\u5668\uFF1A<code class="">Nginx</code>\u3001Apache</li><li>\u6D4F\u89C8\u5668\uFF1AChromium(Chrome)\u3001Firefox</li><li>\u7F16\u8F91\u5668\uFF1AEmacs\uFF0C<code class="">Vim</code>\uFF0CNano\uFF0CAtom\uFF0CVScode\uFF0CIntelliJ IDEA&amp;Webstorm</li><li>\u6587\u6863\uFF1AWPS Office\u3001LibreOffice\u3001Calligra(Ubuntu/Debian)</li><li>\u4E0B\u8F7D\u5DE5\u5177\uFF1A<code class="">Aria2</code>\u3001uGet(Ubuntu/Debian)\u3001XDM\u3001qBittorrent</li><li>\u865A\u62DF\u5316\uFF1AVirtualBox\u3001VMWare\u3001</li><li>\u7CFB\u7EDF\u5DE5\u5177\uFF1A<code class="">git</code>\u3001rsync\u3001sudo\u3001unzip\u3001tar</li><li>\u5176\u4ED6\uFF1A\u97F3\u4E50Netease Music\u3001\u56FE\u7247GIMP\u3001\u804A\u5929Wine QQ\u3001\u64AD\u653E\u5668VLC</li></ul><h3 id="%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95" tabindex="-1"><span class="prefix"></span><span class="content">\u5B89\u88C5\u65B9\u6CD5</span><span class="suffix"></span></h3><h4 id="centos%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95%EF%BC%9A" tabindex="-1"><span class="prefix"></span><span class="content">Centos\u5B89\u88C5\u65B9\u6CD5\uFF1A</span><span class="suffix"></span></h4><ol><li><p>\u4E0B\u8F7D\u955C\u50CF</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145702.png" alt="image-20190602095157756"></figure><p>\u6309\u9700\u9009\u62E9\u4E0B\u8F7D\uFF1A</p><table><thead><tr><th>\u7C7B\u578B</th><th>DVD</th><th>Minimal</th></tr></thead><tbody><tr><td>\u56FE\u5F62\u5B89\u88C5</td><td>\u652F\u6301</td><td>\u652F\u6301</td></tr><tr><td>\u81EA\u5E26\u8F6F\u4EF6\u5305</td><td>\u5168\u5BB6\u6876\uFF0C\u53EF\u9009\u62E9</td><td>\u65E0</td></tr><tr><td>\u955C\u50CF\u5927\u5C0F</td><td>4G+</td><td>800-900M</td></tr></tbody></table></li><li><p>\u5236\u4F5CU\u76D8\u542F\u52A8\u76D8</p><p>Windows\u53C2\u8003\uFF1A<a href="#Windows%E4%B8%AD%E5%88%B6%E4%BD%9CUSB%E5%90%AF%E5%8A%A8%E7%9B%98">Windows\u4E2D\u5236\u4F5CUSB\u542F\u52A8\u76D8</a></p><p>Mac/Linux\u53C2\u8003\uFF1A<a href="#MacOS%E4%B8%AD%E5%88%B6%E4%BD%9CUSB%E5%90%AF%E5%8A%A8%E7%9B%98">MacOS\u4E2D\u5236\u4F5CUSB\u542F\u52A8\u76D8</a></p></li><li><p>\u4FEE\u6539BIOS\u542F\u52A8\u987A\u5E8F\uFF0C\u91CD\u542F</p></li><li><p>\u5B89\u88C5\u914D\u7F6E\u3002\u20AC</p></li></ol><p>\u53C2\u8003\u8D44\u6599</p><ol><li><a href="https://wiki.centos.org/zh/HowTos/InstallFromUSBkey" target="_blank" rel="noopener">\u5B98\u65B9U\u76D8\u5B89\u88C5\u8BF4\u660E</a></li><li><a href="https://www.centos.org/download/" target="_blank" rel="noopener">\u955C\u50CF\u4E0B\u8F7D</a></li><li><a href="https://linux.cn/article-8048-1.html" target="_blank" rel="noopener">Centos7\u5B89\u88C5\u6559\u7A0B</a></li><li><a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0" target="_blank" rel="noopener">Ubuntu\u5B98\u65B9\u5B89\u88C5\u6559\u7A0B</a></li></ol><p>\u5E38\u89C1\u95EE\u9898\uFF1A</p><ol><li><a href="https://blog.jinchuang.org/2062.html" target="_blank" rel="noopener">centos7 U\u76D8\u5B89\u88C5\u5361\u5728 starting dracut initqueue hook </a></li><li><a href="https://blog.csdn.net/zgrjkflmkyc/article/details/78293504" target="_blank" rel="noopener">U\u76D8\u5B89\u88C5CentOS7\u9047\u5230\uFF1AWarning: dracut-initqueue timeout - starting timeout scripts</a></li></ol><h4 id="windows%E4%B8%AD%E5%88%B6%E4%BD%9Cusb%E5%90%AF%E5%8A%A8%E7%9B%98" tabindex="-1"><span class="prefix"></span><span class="content">Windows\u4E2D\u5236\u4F5CUSB\u542F\u52A8\u76D8</span><span class="suffix"></span></h4><p>\u64CD\u4F5C\u6B65\u9AA4\uFF1A</p><ol><li>\u683C\u5F0F\u5316U\u76D8(FAT32\u683C\u5F0F)</li><li>\u4E0B\u8F7DISO\u955C\u50CF</li><li>\u4E0B\u8F7D\u8D44\u6E90\u6587\u4EF6\u4E2D\u7684\u5199\u5165\u7A0B\u5E8F</li><li>\u5199\u5165\u955C\u50CF(\u5DE5\u5177\u89C1\u540E\u6587)</li></ol><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145703.jpeg" alt="1559440057311"></figure><p>\u8D44\u6E90\u4E0B\u8F7D\uFF1A</p><p>Centos\u5B98\u7F51\u63A8\u8350\uFF1A</p><p><a href="https://sourceforge.net/projects/usbwriter/" target="_blank" rel="noopener">USBwriter</a></p><p><a href="https://sourceforge.net/projects/win32diskimager/" target="_blank" rel="noopener">Win32 Disk Imager</a></p><p>Ubuntu\u5B98\u7F51\u63A8\u8350\uFF1A</p><p><a href="https://rufus.ie/" target="_blank" rel="noopener">rufus</a></p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145704.png" alt="rufus"></figure><h4 id="macos%E4%B8%AD%E5%88%B6%E4%BD%9Cusb%E5%90%AF%E5%8A%A8%E7%9B%98" tabindex="-1"><span class="prefix"></span><span class="content">MacOS\u4E2D\u5236\u4F5CUSB\u542F\u52A8\u76D8</span><span class="suffix"></span></h4><ol><li><p>\u683C\u5F0F\u5316U\u76D8</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145705.png" alt="image-20190602094231784"></figure></li><li><p>\u4F7F\u7528 <code class="">diskutil list</code> \u67E5\u770BU\u7684\u8BBE\u5907\u540D</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell">$ diskutil list
/dev/disk0 <span class="token punctuation">(</span>internal<span class="token punctuation">)</span>:
   <span class="token comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   <span class="token number">0</span>:      GUID_partition_scheme                         <span class="token number">500.3</span> GB   disk0
   <span class="token number">1</span>:                        EFI EFI                     <span class="token number">314.6</span> MB   disk0s1
   <span class="token number">2</span>:                 Apple_APFS Container disk1         <span class="token number">500.0</span> GB   disk0s2

/dev/disk1 <span class="token punctuation">(</span>synthesized<span class="token punctuation">)</span>:
   <span class="token comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   <span class="token number">0</span>:      APFS Container Scheme -                      +500.0 GB   disk1
                                 Physical Store disk0s2
   <span class="token number">1</span>:                APFS Volume APPLE SSD               <span class="token number">342.6</span> GB   disk1s1
   <span class="token number">2</span>:                APFS Volume Preboot                 <span class="token number">47.6</span> MB    disk1s2
   <span class="token number">3</span>:                APFS Volume Recovery                <span class="token number">509.7</span> MB   disk1s3
   <span class="token number">4</span>:                APFS Volume VM                      <span class="token number">4.3</span> GB     disk1s4

/dev/disk2 <span class="token punctuation">(</span>external, physical<span class="token punctuation">)</span>:
   <span class="token comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   <span class="token number">0</span>:     FDisk_partition_scheme                        *123.0 GB   disk2
   <span class="token number">1</span>:               Windows_NTFS LIWEI                   <span class="token number">123.0</span> GB   disk2s1

</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>\u4E0A\u56FE\u4E2D\uFF0C/dev/disk2\u5C31\u662FU\u76D8</p></li><li><p>\u5378\u8F7DU\u76D8(\u4E0D\u662F\u63A8\u51FA) : <code class="">diskutil umountDisk /dev/disk2</code> (\u5047\u5982U\u76D8\u662F /dev/disk2)</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell">$ diskutil umountDisk /dev/disk2
Unmount of all volumes on disk1 was successful
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u955C\u50CFDMG\u5199\u5165\u5230U\u76D8: <code class="">sudo dd if=~/Downloads/ubuntu-16.04-desktop-amd64.iso of=/dev/disk2 bs=1m</code> (\u5047\u5982U\u76D8\u662F /dev/disk1, \u5343\u4E07\u522B\u641E\u9519\u4E86)</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell">$ <span class="token function">sudo</span> <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=~</span>/Downloads/ubuntu-17.04-desktop-amd64.iso <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/disk2 <span class="token assign-left variable">bs</span><span class="token operator">=</span>1m
Password:
<span class="token number">2151</span>+1 records <span class="token keyword">in</span>
<span class="token number">2151</span>+1 records out
<span class="token number">2256076800</span> bytes transferred <span class="token keyword">in</span> <span class="token number">90.277905</span> secs <span class="token punctuation">(</span><span class="token number">24990354</span> bytes/sec<span class="token punctuation">)</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u5199\u5165\u5B8C\u6210\u540E\u4F1A\u63D0\u793A:\u201C\u6B64\u7535\u8111\u4E0D\u80FD\u8BFB\u53D6\u80FD\u63D2\u5165\u7684\u78C1\u76D8\u201D, \u8FD9\u91CC\u9009\u62E9\u76F4\u63A5\u63A8\u51FA\u5373\u53EF</p></li></ol><h3 id="linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" tabindex="-1"><span class="prefix"></span><span class="content">Linux\u76EE\u5F55\u7ED3\u6784</span><span class="suffix"></span></h3><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145706.png" alt="Linux\u76EE\u5F55\u7ED3\u6784"></figure><table><thead><tr><th>\u76EE\u5F55</th><th>\u8BF4\u660E</th><th>\u5907\u6CE8</th></tr></thead><tbody><tr><td>/bin</td><td>\u5E38\u7528\u4E8C\u8FDB\u5236\u547D\u4EE4</td><td>ls, cp, rm, mkdir</td></tr><tr><td>/usr</td><td>\u7CFB\u7EDF\u7A0B\u5E8F\u76EE\u5F55</td><td>\u547D\u4EE4\u3001\u5E2E\u52A9\u6587\u4EF6\u3001\u7CFB\u7EDF\u914D\u7F6E</td></tr><tr><td>/var</td><td>\u8FD9\u4E2A\u76EE\u5F55\u4E2D\u5B58\u653E\u7740\u5728\u4E0D\u65AD\u6269\u5145\u7740\u7684\u4E1C\u897F</td><td>\u65E5\u5FD7</td></tr><tr><td>/lib</td><td>\u7CFB\u7EDF\u6700\u57FA\u672C\u7684\u52A8\u6001\u8FDE\u63A5\u5171\u4EAB\u5E93</td><td>\u7C7B\u4F3C\u4E8EWindows\u4E2D\u7684DLL</td></tr><tr><td>/srv</td><td>\u5B58\u653E\u4E00\u4E9B\u670D\u52A1\u542F\u52A8\u4E4B\u540E\u9700\u8981\u63D0\u53D6\u7684\u6570\u636E</td><td>\u901A\u5E38\u662F\u7A7A\u7684</td></tr><tr><td>/home</td><td>\u7528\u6237\u4E3B\u76EE\u5F55</td><td>\u901A\u5E38\u662F\u7A7A\u7684</td></tr><tr><td>/boot</td><td>Linux\u5185\u6838\u53CA\u7CFB\u7EDF\u5F15\u5BFC\u6587\u4EF6\u76EE\u5F55</td><td></td></tr><tr><td>/dev</td><td>\u8BBE\u5907\u6587\u4EF6\u7684\u76EE\u5F55</td><td>\u58F0\u5361\uFF0C\u78C1\u76D8\uFF0C\u5149\u9A71\u7B49</td></tr><tr><td>/etc</td><td>\u4E8C\u8FDB\u5236\u8F6F\u4EF6\u5305\u914D\u7F6E\u6587\u4EF6\u7684\u9ED8\u8BA4\u8DEF\u5F84</td><td>\u7CFB\u7EDF\u4FE1\u606F\uFF0C\u7F51\u7EDC\u914D\u7F6E</td></tr><tr><td>/lost+found</td><td>\u7CFB\u7EDF\u5D29\u6E83\u65F6\uFF0C\u4EA7\u751F\u7684\u4E00\u4E9B\u788E\u7247\u6587\u4EF6</td><td></td></tr><tr><td>/mnt</td><td>\u4E34\u65F6\u6302\u8F7D\u5B58\u50A8\u8BBE\u5907</td><td>U\u76D8</td></tr><tr><td>/opt</td><td>\u8F6F\u4EF6\u53EF\u9009\u7684\u5B89\u88C5\u76EE\u5F55</td><td>\u901A\u5E38\u662F\u7A7A\u7684</td></tr><tr><td>/proc</td><td>\u64CD\u4F5C\u7CFB\u7EDF\u8FDB\u7A0B\u4FE1\u606F\u76EE\u5F55</td><td></td></tr><tr><td>/sbin</td><td>\u7BA1\u7406\u5458\u547D\u4EE4\uFF0C\u7CFB\u7EDF\u7EA7\u547D\u4EE4</td><td>sudo\u7528\u6237</td></tr><tr><td>/tmp</td><td>\u4E34\u65F6\u6587\u4EF6\u76EE\u5F55</td><td>\u91CD\u542F\u540E\uFF0C\u88AB\u6E05\u7A7A</td></tr><tr><td>/run</td><td>\u4E34\u65F6\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5B58\u50A8\u7CFB\u7EDF\u542F\u52A8\u4EE5\u6765\u7684\u4FE1\u606F</td><td>\u91CD\u542F\u540E\uFF0C\u88AB\u6E05\u7A7A</td></tr><tr><td>/sys</td><td>\u7CFB\u7EDF\u4E2D\u7684\u8BBE\u5907\u7EC4\u7EC7\u6210\u5C42\u6B21\u7ED3\u6784</td><td>\u901A\u8FC7\u6587\u4EF6\u67E5\u770B\u786C\u4EF6\u4FE1\u606F</td></tr></tbody></table><p>\u9700\u8981\u638C\u63E1\u7684\u76EE\u5F55\u8DEF\u5F84\u77E5\u8BC6\uFF1A</p><ol><li><p>\u67E5\u770B\u7CFB\u7EDF\u5185\u6838\u4FE1\u606F</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># Centos</span>
$ <span class="token function">cat</span> /proc/version
Linux version <span class="token number">3.10</span>.0-957.10.1.el7.x86_64 <span class="token punctuation">(</span>mockbuild@kbuilder.bsys.centos.org<span class="token punctuation">)</span> <span class="token punctuation">(</span>gcc version <span class="token number">4.8</span>.5 <span class="token number">20150623</span> <span class="token punctuation">(</span>Red Hat <span class="token number">4.8</span>.5-36<span class="token punctuation">)</span> <span class="token punctuation">(</span>GCC<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">#1 SMP Mon Mar 18 15:06:45 UTC 2019</span>

<span class="token comment"># Ubuntu</span>
$ <span class="token function">cat</span> /proc/version
Linux version <span class="token number">4.15</span>.7-041507-generic <span class="token punctuation">(</span>kernel@gloin<span class="token punctuation">)</span> <span class="token punctuation">(</span>gcc version <span class="token number">7.2</span>.0 <span class="token punctuation">(</span>Ubuntu <span class="token number">7.2</span>.0-8ubuntu3.2<span class="token punctuation">))</span> <span class="token comment">#201802280530 SMP Wed Feb 28 10:31:47 UTC 2018</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u67E5\u770B\u7F51\u7EDC\u4FE1\u606F</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># Centos DHCP</span>
$ <span class="token function">cat</span> /etc/sysconfig/network-scripts/ifcfg-eth0
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>eth0
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>dhcp
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes

<span class="token comment"># \u6216\u8005\u6307\u5B9AIP</span>
$ <span class="token function">cat</span> /etc/sysconfig/network-scripts/ifcfg-em1
<span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet
<span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span>none
<span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span>no
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>none
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>no
<span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span>no
<span class="token assign-left variable">IPV6_ADDR_GEN_MODE</span><span class="token operator">=</span>stable-privacy
<span class="token assign-left variable">NAME</span><span class="token operator">=</span>em1
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>fa335568-27db-47fd-a055-424173c42430
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>em1
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.4.252
<span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token number">24</span>
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.4.50
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token number">192.168</span>.4.50
<span class="token assign-left variable">IPV6_PRIVACY</span><span class="token operator">=</span>no
<span class="token assign-left variable">ZONE</span><span class="token operator">=</span>public

<span class="token comment"># Ubuntu</span>
$ <span class="token function">vi</span> /etc/network/interfaces
<span class="token comment"># This file describes the network interfaces available on your system</span>
<span class="token comment"># and how to activate them. For more information, see interfaces(5).</span>

<span class="token builtin class-name">source</span> /etc/network/interfaces.d/*

<span class="token comment"># The loopback network interface</span>
auto lo
iface lo inet loopback

<span class="token comment"># The primary network interface</span>
auto ens3
iface ens3 inet static
        address <span class="token number">192.168</span>.4.60
        netmask <span class="token number">255.255</span>.255.0
        network <span class="token number">192.168</span>.4.0
        broadcast <span class="token number">192.168</span>.4.255
        gateway <span class="token number">192.168</span>.4.50
        <span class="token comment"># dns-* options are implemented by the resolvconf package, if installed</span>
        dns-nameservers <span class="token number">192.168</span>.4.50
        dns-search demo
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><p>\u901A\u5E38\u4F7F\u7528<code class="">ifconfig</code>\u6765\u67E5\u770B\u7F51\u5361\u7684\u4FE1\u606F</p></li><li><p>DNS\u914D\u7F6E</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">$ <span class="token function">cat</span> /etc/resolv.conf
options timeout:2 attempts:3 rotate single-request-reopen
<span class="token punctuation">;</span> generated by /usr/sbin/dhclient-script
nameserver <span class="token number">100.100</span>.2.136
nameserver <span class="token number">100.100</span>.2.138
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>host\u6587\u4EF6</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">$ <span class="token function">cat</span> /etc/hosts
<span class="token number">127.0</span>.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u7528\u6237/\u7EC4</p><p>\u67E5\u770B\u7528\u6237\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">$ <span class="token function">cat</span> /etc/passwd
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
<span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u67E5\u770B\u7EC4\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">$ <span class="token function">cat</span> /etc/group
root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:syslog,bttech
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
<span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>\u67E5\u770B\u5185\u5B58/CPU</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># \u67E5\u770BCPU</span>
$ <span class="token function">cat</span> /proc/cpuinfo
processor	<span class="token builtin class-name">:</span> <span class="token number">0</span>
vendor_id	<span class="token builtin class-name">:</span> GenuineIntel
cpu family	<span class="token builtin class-name">:</span> <span class="token number">6</span>
model		<span class="token builtin class-name">:</span> <span class="token number">45</span>
model name	<span class="token builtin class-name">:</span> Intel<span class="token punctuation">(</span>R<span class="token punctuation">)</span> Xeon<span class="token punctuation">(</span>R<span class="token punctuation">)</span> CPU E5-2670 <span class="token number">0</span> @ <span class="token number">2</span>.60GHz
stepping	<span class="token builtin class-name">:</span> <span class="token number">7</span>
microcode	<span class="token builtin class-name">:</span> 0x714
cpu MHz		<span class="token builtin class-name">:</span> <span class="token number">2117.419</span>
cache size	<span class="token builtin class-name">:</span> <span class="token number">20480</span> KB
<span class="token punctuation">..</span>.

<span class="token comment"># \u67E5\u770B\u5185\u5B58</span>
$ <span class="token function">cat</span> /proc/meminfo
MemTotal:       <span class="token number">131812048</span> kB
MemFree:          <span class="token number">460820</span> kB
MemAvailable:   <span class="token number">36657836</span> kB
Buffers:               <span class="token number">0</span> kB
Cached:         <span class="token number">34910784</span> kB
SwapCached:      <span class="token number">1051944</span> kB
Active:         <span class="token number">95183532</span> kB
Inactive:       <span class="token number">32382012</span> kB
Active<span class="token punctuation">(</span>anon<span class="token punctuation">)</span>:   <span class="token number">77764844</span> kB
Inactive<span class="token punctuation">(</span>anon<span class="token punctuation">)</span>: <span class="token number">15015220</span> kB
Active<span class="token punctuation">(</span>file<span class="token punctuation">)</span>:   <span class="token number">17418688</span> kB
<span class="token punctuation">..</span>.
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></li><li><p>\u5176\u4ED6</p><ul><li>/etc/fstab\uFF08\u5F00\u673A\u81EA\u52A8\u6302\u8F7D\u5217\u8868\uFF09</li><li>/etc/rc.local\uFF08\u5F00\u673A\u81EA\u542F\u52A8\u6587\u4EF6\uFF0C\u81EA\u542F\u52A8\u547D\u4EE4\uFF0C\u811A\u672C\uFF09</li><li>/etc/init.d(\u670D\u52A1\u542F\u52A8\u547D\u4EE4\u811A\u672C\u76EE\u5F55)</li><li>/etc/profile(\u5168\u5C40\u73AF\u5883\u53D8\u91CF)</li><li>/usr/local(\u7F16\u8BD1\u5B89\u88C5\u8F6F\u4EF6\u9ED8\u8BA4\u5B89\u88C5\u76EE\u5F55)</li><li>/var/log/message\uFF08\u7CFB\u7EDF\u65E5\u5FD7\uFF09</li><li>/var/log/secure\uFF08\u7CFB\u7EDF\u5B89\u5168\u65E5\u5FD7\uFF09</li><li><em>/proc/mounts</em>\uFF08\u7CFB\u7EDF\u6302\u8F7D\u4FE1\u606F\uFF09</li></ul></li></ol><h3 id="linux%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B" tabindex="-1"><span class="prefix"></span><span class="content">Linux\u542F\u52A8\u8FC7\u7A0B</span><span class="suffix"></span></h3><p>Linux\u542F\u52A8\u8FC7\u7A0B\uFF1A</p><ul><li><p>\u5185\u6838\u7684\u5F15\u5BFC</p><p>\u9996\u5148\u662FBIOS\u5F00\u673A\u81EA\u68C0\uFF0C\u6309\u7167BIOS\u4E2D\u8BBE\u7F6E\u7684\u542F\u52A8\u8BBE\u5907\uFF08\u901A\u5E38\u662F\u786C\u76D8\uFF09\u6765\u542F\u52A8\u3002</p><p>\u4E3B\u8981\u662F\u4E00\u4E9B\u9A71\u52A8\u3001\u57FA\u672C\u7684\u64CD\u4F5C\u6307\u4EE4\uFF0C\u7528\u6765\u63A5\u7BA1\u6240\u6709\u7684\u786C\u4EF6</p></li><li><p>\u8FD0\u884C init</p><p>\u5C31\u8DDFmain\u51FD\u6570\u4E00\u6837\uFF0C\u6709\u4E00\u4E2A\u8D77\u70B9\uFF0C\u521D\u59CB\u4E00\u4E2A\u670D\u52A1\u8FDB\u7A0Bdaemon\uFF0C\u8DDFwindows\u4E2D\u7684\u670D\u52A1\u4E00\u6837\u3002</p></li><li><p>\u7CFB\u7EDF\u521D\u59CB\u5316</p><p>\u7528\u6237\u53CA\u8F6F\u4EF6\u670D\u52A1\u81EA\u542F\u52A8</p></li><li><p>\u5EFA\u7ACB\u7EC8\u7AEF</p><p>Linux\u7684\u591A\u7528\u6237\u7BA1\u7406\u3002</p><p>\u9488\u5BF9\u5BF9\u7528\u6237\uFF0C\u767B\u5F55\u65B9\u5F0F\u6709\u4E09\u79CD\uFF1A</p><ul><li>\u547D\u4EE4\u884C\u767B\u5F55</li><li>ssh\u767B\u5F55</li><li>\u56FE\u5F62\u754C\u9762\u767B\u5F55</li></ul></li><li><p>\u7528\u6237\u767B\u5F55\u7CFB\u7EDF</p></li></ul><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145707.jpg" alt="img"></figure><h3 id="%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BB%8B%E7%BB%8D(%E9%87%8D%E7%82%B9)" tabindex="-1"><span class="prefix"></span><span class="content">\u5E38\u7528\u547D\u4EE4\u4ECB\u7ECD(\u91CD\u70B9)</span><span class="suffix"></span></h3><h4 id="%E6%96%87%E4%BB%B6%E7%9B%B8%E5%85%B3" tabindex="-1"><span class="prefix"></span><span class="content">\u6587\u4EF6\u76F8\u5173</span><span class="suffix"></span></h4><ol><li>\u76EE\u5F55\u76F8\u5173 <ul><li><p><code class="">ls</code>: \u5217\u51FA\u76EE\u5F55</p><p>-la \u53EF\u4EE5\u67E5\u770B\u9690\u85CF\u6587\u4EF6\uFF0C\u6587\u4EF6\u4E00\u4E9B\u57FA\u7840\u5C5E\u6027</p></li><li><p><code class="">cd</code>\uFF1A\u5207\u6362\u76EE\u5F55</p><p>\u4F7F\u7528\u7EDD\u5BF9\u8DEF\u5F84<code class="">/</code>\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528<code class="">./</code>\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u56DE\u5230\u4E0A\u7EA7\u76EE\u5F55<code class="">cd ..</code></p></li><li><p><code class="">pwd</code>\uFF1A\u663E\u793A\u76EE\u524D\u7684\u76EE\u5F55</p></li><li><p><code class="">mkdir</code>\uFF1A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u76EE\u5F55</p></li><li><p><code class="">rmdir</code>\uFF1A\u5220\u9664\u4E00\u4E2A\u7A7A\u7684\u76EE\u5F55</p></li><li><p><code class="">cp</code>: \u590D\u5236\u6587\u4EF6\u6216\u76EE\u5F55</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">cp</span> <span class="token builtin class-name">source</span> target
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p><code class="">rm</code>: \u79FB\u9664\u6587\u4EF6\u6216\u76EE\u5F55</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># \u5220\u9664\u76EE\u5F55</span>
<span class="token function">rm</span> -r dirpath

<span class="token comment"># \u5F3A\u5236\u5220\u9664\uFF0C\u8981\u7279\u522B\u6CE8\u610F</span>
<span class="token function">rm</span> -rf dirpath\u20AC
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p><code class="">mv</code>: \u79FB\u52A8\u6587\u4EF6\u4E0E\u76EE\u5F55\uFF0C\u6216\u4FEE\u6539\u6587\u4EF6\u4E0E\u76EE\u5F55\u7684\u540D\u79F0</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell"><span class="token function">mv</span> <span class="token builtin class-name">source</span> target
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p><code class="">cat</code>\u7528\u6765\u67E5\u770B\u6587\u4EF6\u5185\u7684\u5185\u5BB9\uFF0C<code class="">touch</code>\u547D\u4EE4\u6765\u521B\u5EFA\u6587\u4EF6\uFF0C<code class="">echo</code>\u547D\u4EE4\u5F80\u6587\u4EF6\u91CC\u9762\u5199\u5165\u5185\u5BB9\uFF0C<code class="">more</code>\u547D\u4EE4\u6765\u67E5\u770B\u663E\u793A\u957F\u6587\u4EF6\u5185\u5BB9</p></li></ul></li><li>\u57FA\u672C\u5C5E\u6027\uFF1A <ul><li><p>\u6743\u9650\u7BA1\u7406<code class="">chmod</code></p><p>\u6587\u4EF6\u57FA\u672C\u5C5E\u6027\u5206\u4E3A10\u4E2A\u5B57\u7B26 <code class="">drwxrwxrwx</code></p><p><code class="">r</code> \u4EE3\u8868\u7740read\u8BFB\u6743\u9650</p><p><code class="">w</code>\u4EE3\u8868\u7740write\u5199\u6743\u9650</p><p><code class="">x</code>\u4EE3\u8868\u7740execute\u6267\u884C\u6743\u9650</p><p><code class="">d</code>\u4EE3\u8868\u7740\u76EE\u5F55</p><p><code class="">chmod -R</code>\u9012\u5F52\u6267\u884C\uFF0C\u76F8\u5F53\u4E8E\u662F\u628A\u76EE\u5F55\u4E0B\u6240\u6709\u7684\u6587\u4EF6\u90FD\u4FEE\u6539\u5BF9\u5E94\u7684\u6743\u9650</p><p><code class="">chmod +x</code> \u7ED9\u6587\u4EF6\u4E00\u4E2A\u6267\u884C/\u8BFB/\u5199\u6743\u9650</p><p>\u4FEE\u6539\u6743\u9650\u7684\u4E24\u79CD\u65B9\u5F0F\uFF1A</p><p><strong>\u65B9\u5F0F1\uFF1A \u6570\u5B57\u65B9\u5F0F</strong></p><p><code class="">7</code>-<code class="">rwx</code></p><p><code class="">6</code>-<code class="">-rw-</code></p><p><code class="">4</code>-<code class="">r--</code></p><p><code class="">0</code>-<code class="">---</code> \u4EC0\u4E48\u6743\u9650\u90FD\u6CA1\u6709\uFF0C</p><p>\u524D\u9762\u76843\u4E2A\u662F\u6240\u6709\u8005\u7528\u6237\u7684\u6743\u9650\uFF0C</p><p>\u4E2D\u95F4\u76843\u4E2A\u662F\u7EC4\u7528\u6237\u7684\u6743\u9650\uFF0C</p><p>\u540E\u9762\u76843\u4E2A\u662F\u5176\u4ED6\u7528\u6237\u7684\u6743\u9650\u3002</p><p>\u4E3E\u4F8B\u8BF4\u660E\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># \u5BF9\u6240\u5C5E\u7528\u6237\u6709\u8BFB\u5199\u6743\u9650</span>
<span class="token function">chmod</span> <span class="token number">600</span> <span class="token punctuation">..</span>.

<span class="token comment"># \u5BF9\u5E94 -rwxrw-rw-\uFF0C\u76F8\u5F53\u4E8E\u662F\u53D6\u6D88\u4E86\u7EC4\u4E0E\u5176\u4ED6\u7528\u6237\u7684\u6267\u884C\u6743\u9650</span>
<span class="token function">chmod</span> <span class="token number">755</span> <span class="token punctuation">..</span>.
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>\u65B9\u5F0F2\uFF1A</strong></p><p><code class="">a</code>\u4EE3\u8868all\u6240\u6709\uFF0C<code class="">u</code>\u4EE3\u8868user\uFF0C<code class="">g</code>\u4EE3\u8868group\uFF0C<code class="">o</code>\u4EE3\u8868other\u3002</p><p><code class="">+</code>\u4EE3\u8868\u589E\u52A0\uFF0C<code class="">-</code>\u4EE3\u8868\u51CF\u5C11</p><p>\u4E3E\u4F8B\u8BF4\u660E\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># \u589E\u52A0\u6240\u6709\u7528\u6237\u7684\u8BFB\u7684\u6743\u9650</span>
<span class="token function">chmod</span> a+r <span class="token punctuation">..</span>.

<span class="token comment"># \u589E\u52A0\u7528\u6237\u4E0E\u7EC4\u7684\u5199\u7684\u6743\u9650</span>
<span class="token function">chmod</span> ug+w <span class="token punctuation">..</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u4E2A\u4EBA\u6BD4\u8F83\u63A8\u8350\u6570\u5B57\u7684\u65B9\u5F0F\uFF0C\u6BD4\u8F83\u597D\u8BB0\uFF01\uFF01</p></blockquote></li><li><p>\u7528\u6237/\u7EC4\u6743\u9650\u7BA1\u7406<code class="">chown</code></p><p>\u4FEE\u6539\u6587\u4EF6/\u6587\u6863\u6240\u5C5E/\u6240\u5C5E\u7EC4</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell"><span class="token function">chown</span> <span class="token operator">&lt;</span>\u6240\u5C5E\u7528\u6237<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>\u6240\u5C5E\u7EC4<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>\u6587\u4EF6<span class="token operator">&gt;</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u76EE\u5F55\uFF1A</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell"><span class="token function">chown</span> -R <span class="token operator">&lt;</span>\u6240\u5C5E\u7528\u6237<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>\u6240\u5C5E\u7EC4<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>\u6587\u4EF6<span class="token operator">&gt;</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code class="">-R</code> \u4EE3\u8868\u7740\u9012\u5F52</p></li></ul></li></ol><h4 id="%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%2F%E7%99%BB%E5%BD%95" tabindex="-1"><span class="prefix"></span><span class="content">\u7528\u6237\u7BA1\u7406/\u767B\u5F55</span><span class="suffix"></span></h4><ol><li>\u6DFB\u52A0\u7528\u6237<code class="">useradd</code></li><li>\u5220\u9664\u7528\u6237<code class="">userdel</code></li><li>\u7528\u6237\u53E3\u4EE4\u4FEE\u6539 <code class="">passwd</code></li><li>\uFF08\u6269\u5C55\uFF09\u7528\u6237\u7EC4<code class="">groupadd</code>/<code class="">groupdel</code>/<code class="">groupmod</code></li></ol><h4 id="%E7%BD%91%E7%BB%9C" tabindex="-1"><span class="prefix"></span><span class="content">\u7F51\u7EDC</span><span class="suffix"></span></h4><ol><li><p>\u8FDC\u7A0B\u8FDE\u63A5<code class="">ssh</code></p><p>\u914D\u7F6E\u6587\u4EF6\u7684\u8DEF\u5F84\u662F\u5728<code class="">/etc/ssh/sshd_config</code>\u76EE\u5F55\u4E0B</p><p>\u5982\u679C\u9700\u8981\u4FEE\u6539port\uFF1A</p><ul><li>\u4FEE\u6539<code class="">sshd_config</code>\u4E2D\u7684<code class="">Port</code>\u53C2\u6570</li><li>(Centos)\u8FD8\u9700\u8981\u4F7F\u7528<code class="">semanage port -a -t ssh_port_t -p tcp &lt;Port&gt;</code></li><li><code class="">service sshd restart</code> (Centos) / <code class="">service ssh restart</code> (Debian\u3001Ubuntu)</li></ul><blockquote><p>\u5728\u6D4B\u8BD5\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u5173\u95ED\u670D\u52A1\u5668\u7684\u9632\u706B\u5899\uFF0C\u4F46\u662F\u751F\u4EA7\u7CFB\u7EDF\u4E2D\u4E0D\u63A8\u8350\u8FD9\u4E48\u53BB\u505A\u3002</p><p>\u5982\u679C\u63D0\u793A\u6CA1\u6709semanage\u8FD9\u4E2A\u547D\u4EE4\uFF0C\u5219\u53EF\u4EE5\u4F7F\u7528\u5982\u4E0B\u65B9\u5F0F\u6765\u5B89\u88C5\uFF1A</p><p><code class="">sudo yum install -y policecoreutils-python</code></p><p>\u6216\u8005\u4F7F\u7528<code class="">yum whatprovides semange</code>\u6765\u53CD\u67E5</p></blockquote><p>ssh\u767B\u5F55\u547D\u4EE4\u7684\u683C\u5F0F\uFF1A<code class="">ssh -p Port &lt;\u7528\u6237\u540D&gt;@&lt;\u670D\u52A1\u5668\u7684\u5730\u5740&gt;</code></p><p>\u5982\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">$ <span class="token function">ssh</span> -p <span class="token number">10022</span> root@192.168.0.1
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>window\u63A8\u8350\u4F7F\u7528<a href="https://www.netsarang.com/zh/xftp/" target="_blank" rel="noopener">xftp</a>\u7EC8\u7AEF</p><p>mac\u63A8\u8350\u4F7F\u7528<a href="https://www.iterm2.com/" target="_blank" rel="noopener">iterm</a></p></blockquote></li><li><p>\u67E5\u770B\u7F51\u5361\u914D\u7F6E<code class="">ifconfig</code></p><p>\u5982\u679C\u8BF4\u6CA1\u6709\u8FD9\u4E2A\u547D\u4EE4\uFF0C\u53EF\u4EE5\u4F7F\u7528<code class="">yum install net-tools</code>\u8FDB\u884C\u5B89\u88C5</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">ifconfig</span> eth0 <span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span> netmask <span class="token number">255.255</span>.255.0
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u5BF9\u7F51\u53E3\u8FDB\u884C\u7981\u7528/\u542F\u7528</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">ifconfig</span> eth0 down/up
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>\u67E5\u770B\u7F51\u7EDC<code class="">netstat</code></p><ul><li><code class="">-t</code>\uFF1A\u5217\u51FATCP\u534F\u8BAE\u7AEF\u53E3</li><li><code class="">-u</code>\uFF1A\u5217\u51FAUDP\u534F\u8BAE\u7AEF\u53E3</li><li><code class="">-n</code>:\u4E0D\u4F7F\u7528\u57DF\u540D\u4E0E\u670D\u52A1\u540D\uFF0C\u800C\u4F7F\u7528IP\u5730\u5740\u548C\u7AEF\u53E3\u53F7</li><li><code class="">-l</code>\uFF1A\u4EC5\u5217\u51FA\u5728\u76D1\u542C\u72B6\u6001\u7F51\u7EDC\u670D\u52A1</li><li><code class="">-a</code>\uFF1A\u5217\u51FA\u6240\u6709\u7684\u7F51\u7EDC\u8FDE\u63A5</li><li><code class="">-p</code>\uFF1A\u5217\u51FA\u6240\u5BF9\u5E94\u7684\u8FDB\u7A0B\u4FE1\u606F</li></ul><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">netstat</span> -anpl <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">ssh</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u5F53\u4F7F\u7528<code class="">netstat | more</code>\u8FDB\u884C\u6EDA\u5C4F\uFF0C<code class="">ctrl+f/b</code>\u8FDB\u884C\u7FFB\u4E0A/\u4E0B\u9875</p></li><li><p>\u8DEF\u7531\u547D\u4EE4<code class="">route</code></p><p>route\u67E5\u770B\u8DEF\u7531</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># add/del\u6DFB\u52A0\u5220\u9664\u8DEF\u7531</span>

route <span class="token function">add</span> -net <span class="token number">192.168</span>.0.0 netmask <span class="token number">255.255</span>.0.0 dev etho

<span class="token comment"># del\u5220\u9664</span>
route del -net <span class="token number">192.168</span>.0.0 netmask <span class="token number">255.255</span>.0.0

<span class="token comment"># reject</span>
route <span class="token function">add</span> -net <span class="token number">192.168</span>.0.0 netmask <span class="token number">255.255</span>.0.0 reject
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>IP\u547D\u4EE4<code class="">ip</code></p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell"><span class="token function">ip</span> addr show
<span class="token function">ip</span> route show
<span class="token function">ip</span> <span class="token function">link</span> <span class="token builtin class-name">set</span> eth0 up/down
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code class="">ip &lt;\u547D\u4EE4&gt; help</code>\u53BB\u67E5\u770B\u547D\u4EE4\u7684\u4E00\u4E9B\u53C2\u6570</p></li><li><p>DNS\u89E3\u6790\uFF1A<code class="">nslookup</code></p><p>Centos\u4E2D\u5982\u679C\u6CA1\u6709\u8BE5\u547D\u4EE4\uFF0C\u53EF\u4EE5\u4F7F\u7528\u5982\u4E0B\u7684\u65B9\u5F0F\u8FDB\u884C\u5B89\u88C5</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell"><span class="token function">sudo</span> yum <span class="token function">install</span> bind-utils
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>\u67E5\u770B\u672C\u673AIP</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">curl</span> <span class="token punctuation">[</span>\u94FE\u63A5<span class="token punctuation">]</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u51E0\u4E2A\u7F51\u5740\u4E5F\u975E\u5E38\u597D\u8BB0\u5FC6</p><ul><li><a href="http://ip.cn/" target="_blank" rel="noopener">ip.cn</a> (\u63A8\u8350)</li><li><a href="http://ipinfo.io/" target="_blank" rel="noopener">ipinfo.io</a> (\u63A8\u8350)</li><li><a href="http://cip.cc/" target="_blank" rel="noopener">cip.cc</a> (\u63A8\u8350)</li><li><a href="http://ifconfig.me/" target="_blank" rel="noopener">ifconfig.me</a></li><li><a href="http://myip.ipip.net/" target="_blank" rel="noopener">myip.ipip.net</a></li></ul></li></ol><p>GUI\u7F51\u7EDC\u914D\u7F6E\u64CD\u4F5C\uFF08\u56FE\u5F62\u5316\u5927\u6CD5\u597D\u554A\uFF09\uFF1A</p><p><code class="">nmtui</code></p><blockquote><p>\u5982\u679C\u63D0\u793A<code class="">not found</code>\u547D\u4EE4\u7684\u8BDD\uFF0C\u53EF\u4EE5<code class="">yum install -y NetworkManager-tui</code>\u8FDB\u884C\u5B89\u88C5</p></blockquote><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145708.jpg" alt="nmtui"></figure><h4 id="%E6%80%A7%E8%83%BD%2F%E7%A1%AC%E4%BB%B6" tabindex="-1"><span class="prefix"></span><span class="content">\u6027\u80FD/\u786C\u4EF6</span><span class="suffix"></span></h4><ol><li><p><code class="">top</code>\u547D\u4EE4\uFF1A</p><p>top\u547D\u4EE4\u66FF\u4EE3\u547D\u4EE4\uFF1A<a href="https://linux.cn/article-10323-1.html" target="_blank" rel="noopener">\u53C2\u80031</a>\u3001<a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0" target="_blank" rel="noopener">\u53C2\u80032</a></p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell"><span class="token function">top</span>

<span class="token comment"># m\u5207\u6362\u663E\u793A\u5185\u5B58\u4FE1\u606F</span>
<span class="token comment"># t\u5207\u6362\u663E\u793ACPU\u4FE1\u606F</span>
<span class="token comment"># M\u5BF9\u5185\u5B58\u5012\u5E8F\u6392\u5E8F\u663E\u793A</span>
<span class="token comment"># P\u6839\u636ECPU\u7684\u4F7F\u7528\u767E\u5206\u6BD4\u8FDB\u884C\u6392\u5E8F</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u6027\u80FD\u6D4B\u8BD5</p><ul><li><p>Bench.sh:</p><p>\u4F7F\u7528\u65B9\u6CD5\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">wget</span> -qO- bench.sh <span class="token operator">|</span> <span class="token function">bash</span>

<span class="token comment"># \u6216\u8005 </span>

<span class="token function">curl</span> -Lso- bench.sh <span class="token operator">|</span> <span class="token function">bash</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Github\u5730\u5740\uFF1A<a href="https://github.com/teddysun/across/blob/master/bench.sh" target="_blank" rel="noopener">https://github.com/teddysun/across/blob/master/bench.sh</a></p></li><li><p>LemonBench</p><p>\u4F7F\u7528\u65B9\u6CD5\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">wget</span> -qO- https://ilemonrain.com/download/shell/LemonBench.sh <span class="token operator">|</span> <span class="token function">bash</span>

<span class="token comment"># \u6216\u8005</span>

<span class="token function">curl</span> -fsSL https://ilemonrain.com/download/shell/LemonBench.sh <span class="token operator">|</span> <span class="token function">bash</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li></ol><h2 id="nginx%E6%9C%8D%E5%8A%A1" tabindex="-1"><span class="prefix"></span><span class="content">Nginx\u670D\u52A1</span><span class="suffix"></span></h2><p>nginx [\u53D1\u97F3\uFF1Aengine x]\u662F\u4E00\u4E2AHTTP\u548C\u53CD\u5411\u4EE3\u7406\u670D\u52A1\u5668\uFF0C\u4E00\u4E2A\u90AE\u4EF6\u4EE3\u7406\u670D\u52A1\u5668\u548C\u4E00\u4E2A\u901A\u7528\u7684TCP / UDP\u4EE3\u7406\u670D\u52A1\u5668\uFF0C\u6700\u521D\u7531<a href="http://sysoev.ru/en/" target="_blank" rel="noopener">Igor Sysoev</a>\u7F16\u5199\u3002</p><p>\u636ENetcraft\u79F0\uFF0Cnginx \u57282019\u5E745\u6708\u670D\u52A1\u6216\u4EE3\u7406\u4E86 26.43\uFF05\u6700\u7E41\u5FD9\u7684\u7F51\u7AD9\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u6210\u529F\u6848\u4F8B\uFF1A Dropbox\uFF0C Netflix\uFF0C Wordpress.com\uFF0C FastMail.FM\u3002</p><blockquote><p>nginx [engine x] is an HTTP and reverse proxy server, a mail proxy server, and a generic TCP/UDP proxy server, originally written by Igor Sysoev. For a long time, it has been running on many heavily loaded Russian sites including Yandex, Mail.Ru, VK, and Rambler. According to Netcraft, nginx served or proxied 26.43% busiest sites in May 2019. Here are some of the success stories: <a href="https://blogs.dropbox.com/tech/2017/09/optimizing-web-servers-for-high-throughput-and-low-latency/" target="_blank" rel="noopener">Dropbox</a>, <a href="https://openconnect.netflix.com/en/software/" target="_blank" rel="noopener">Netflix</a>,<a href="https://www.nginx.com/case-studies/nginx-wordpress-com/" target="_blank" rel="noopener">Wordpress.com</a>, <a href="http://blog.fastmail.fm/2007/01/04/webimappop-frontend-proxies-changed-to-nginx/" target="_blank" rel="noopener">FastMail.FM</a>.</p></blockquote><p>\u4ECE\u4E0B\u9762\u7684\u5F53\u4E0B\u6280\u672F\u67B6\u6784\u56FE\u4E2D\uFF0C\u53EF\u4EE5\u770B\u51FANginx\u5728\u7F51\u7EDC\u4E2D\u7684\u4F4D\u7F6E\u4E0E\u91CD\u8981\u6027\u3002Nginx\u7684\u8F7B\u91CF\u7EA7\u3001\u5185\u5B58\u5360\u7528\u5C11\u3001\u542F\u52A8\u6781\u5FEB\uFF0C\u9AD8\u5E76\u53D1\u80FD\u529B\u5F3A\u7684\u7279\u6027\uFF0C\u4F7F\u5B83\u5728\u4E92\u8054\u7F51\u9879\u76EE\u4E2D\u5E7F\u6CDB\u5E94\u7528\u3002</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145709.jpg" alt="img"></figure><blockquote><p>Service-Oriented Architecture\uFF0C<strong>SOA</strong>\u9762\u5411\u670D\u52A1\u7684\u67B6\u6784</p></blockquote><h3 id="nginx%E7%AE%80%E4%BB%8B" tabindex="-1"><span class="prefix"></span><span class="content">Nginx\u7B80\u4ECB</span><span class="suffix"></span></h3><h4 id="%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86" tabindex="-1"><span class="prefix"></span><span class="content">\u4EC0\u4E48\u662F\u53CD\u5411\u4EE3\u7406</span><span class="suffix"></span></h4><p>\u6B63\u5411\u4EE3\u7406 \uFF1A</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145710.jpg" alt="img"></figure><p>\u7531\u4E8E\u9632\u706B\u5899\u7684\u539F\u56E0\uFF0C\u6211\u4EEC\u5E76\u4E0D\u80FD\u76F4\u63A5\u8BBF\u95EE\u8C37\u6B4C\uFF0C\u90A3\u4E48\u6211\u4EEC\u53EF\u4EE5\u501F\u52A9VPN\u6765\u5B9E\u73B0\uFF0C\u8FD9\u5C31\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u6B63\u5411\u4EE3\u7406\u7684\u4F8B\u5B50\u3002\u8FD9\u91CC\u4F60\u80FD\u591F\u53D1\u73B0\uFF0C<strong>\u6B63\u5411\u4EE3\u7406\u201C\u4EE3\u7406\u201D\u7684\u662F\u5BA2\u6237\u7AEF</strong>\uFF0C\u800C\u4E14\u5BA2\u6237\u7AEF\u662F\u77E5\u9053\u76EE\u6807\u7684\uFF0C\u800C\u76EE\u6807\u662F\u4E0D\u77E5\u9053\u5BA2\u6237\u7AEF\u662F\u901A\u8FC7VPN\u8BBF\u95EE\u7684\u3002</p><p>\u53CD\u5411\u4EE3\u7406\uFF1A</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145711.jpg" alt="img"></figure><p>\u5F53\u6211\u4EEC\u5728\u5916\u7F51\u8BBF\u95EE\u767E\u5EA6\u7684\u65F6\u5019\uFF0C\u5176\u5B9E\u4F1A\u8FDB\u884C\u4E00\u4E2A\u8F6C\u53D1\uFF0C\u4EE3\u7406\u5230\u5185\u7F51\u53BB\uFF0C\u8FD9\u5C31\u662F\u6240\u8C13\u7684\u53CD\u5411\u4EE3\u7406\uFF0C\u5373<strong>\u53CD\u5411\u4EE3\u7406\u201C\u4EE3\u7406\u201D\u7684\u662F\u670D\u52A1\u5668\u7AEF</strong>\uFF0C\u800C\u4E14\u8FD9\u4E00\u4E2A\u8FC7\u7A0B\u5BF9\u4E8E\u5BA2\u6237\u7AEF\u800C\u8A00\u662F\u900F\u660E\u7684\u3002</p><h4 id="nginx%E7%9A%84%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84" tabindex="-1"><span class="prefix"></span><span class="content">Nginx\u7684\u6280\u672F\u67B6\u6784</span><span class="suffix"></span></h4><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145712.png" alt="img"></figure><p>Master\u8FDB\u7A0B\u7684\u4F5C\u7528\u662F<strong>\u8BFB\u53D6\u5E76\u9A8C\u8BC1\u914D\u7F6E\u6587\u4EF6nginx.conf\uFF1B\u7BA1\u7406worker\u8FDB\u7A0B\uFF1B</strong></p><p>Worker\u8FDB\u7A0B\u7684\u4F5C\u7528:<strong>\u6BCF\u4E00\u4E2AWorker\u8FDB\u7A0B\u90FD\u7EF4\u62A4\u4E00\u4E2A\u7EBF\u7A0B\uFF08\u907F\u514D\u7EBF\u7A0B\u5207\u6362\uFF09\uFF0C\u5904\u7406\u8FDE\u63A5\u548C\u8BF7\u6C42\uFF1B</strong></p><blockquote><p>\u6CE8\u610FWorker\u8FDB\u7A0B\u7684\u4E2A\u6570\u7531\u914D\u7F6E\u6587\u4EF6\u51B3\u5B9A\uFF0C\u4E00\u822C\u548CCPU\u4E2A\u6570\u76F8\u5173\uFF08\u6709\u5229\u4E8E\u8FDB\u7A0B\u5207\u6362\uFF09\uFF0C\u914D\u7F6E\u51E0\u4E2A\u5C31\u6709\u51E0\u4E2AWorker\u8FDB\u7A0B\u3002</p></blockquote><p>\u7279\u70B9\uFF1A</p><ul><li><p>\u4E3B\u8FDB\u7A0BMaster</p><p><code class="">Nginx</code> \u542F\u52A8\u65F6\uFF0C\u4F1A\u751F\u6210\u4E24\u79CD\u7C7B\u578B\u7684 <strong>\u8FDB\u7A0B</strong>*\uFF0C\u4E00\u4E2A\u662F <strong>\u4E3B\u8FDB\u7A0B</strong>\uFF08<code class="">master</code>\uFF09\uFF0C<strong>\u4E00\u4E2A</strong>\uFF08<code class="">windows</code> \u7248\u672C\u7684\u76EE\u524D\u53EA\u6709\u4E00\u4E2A\uFF09\u6216 <strong>\u591A\u4E2A\u5DE5\u4F5C\u8FDB\u7A0B</strong>\uFF08<code class="">worker</code>\uFF09\u3002<strong>\u4E3B\u8FDB\u7A0B</strong> \u5E76\u4E0D\u5904\u7406\u7F51\u7EDC\u8BF7\u6C42\uFF0C\u4E3B\u8981\u8D1F\u8D23 <strong>\u8C03\u5EA6\u5DE5\u4F5C\u8FDB\u7A0B</strong>\uFF0C\u4E5F\u5C31\u662F\u56FE\u793A\u7684 <code class="">3</code> \u9879\uFF1A<strong>\u52A0\u8F7D\u914D\u7F6E</strong>\u3001<strong>\u542F\u52A8\u5DE5\u4F5C\u8FDB\u7A0B</strong> \u53CA <strong>\u975E\u505C\u5347\u7EA7</strong>\u3002\u6240\u4EE5\uFF0C<code class="">Nginx</code> \u542F\u52A8\u4EE5\u540E\uFF0C\u67E5\u770B\u64CD\u4F5C\u7CFB\u7EDF\u7684\u8FDB\u7A0B\u5217\u8868\uFF0C\u6211\u4EEC\u5C31\u80FD\u770B\u5230 <strong>\u81F3\u5C11\u6709\u4E24\u4E2A</strong> <code class="">Nginx</code> \u8FDB\u7A0B\u3002</p></li><li><p>\u5DE5\u4F5C\u8FDB\u7A0BWorker</p><p>\u670D\u52A1\u5668\u5B9E\u9645 <strong>\u5904\u7406\u7F51\u7EDC\u8BF7\u6C42</strong> \u53CA <strong>\u54CD\u5E94</strong> \u7684\u662F <strong>\u5DE5\u4F5C\u8FDB\u7A0B</strong>\uFF08<code class="">worker</code>\uFF09\uFF0C\u5728\u7C7B <code class="">unix</code> \u7CFB\u7EDF\u4E0A\uFF0C<code class="">Nginx</code> \u53EF\u4EE5\u914D\u7F6E <strong>\u591A\u4E2A</strong> <code class="">worker</code>\uFF0C\u800C\u6BCF\u4E2A <code class="">worker</code> <strong>\u8FDB\u7A0B</strong> \u90FD\u53EF\u4EE5\u540C\u65F6\u5904\u7406 <strong>\u6570\u4EE5\u5343\u8BA1</strong> \u7684 <strong>\u7F51\u7EDC\u8BF7\u6C42</strong>\u3002</p></li><li><p>\u6A21\u5757\u5316\u8BBE\u8BA1</p><p>\u6807\u51C6HTTP\u6A21\u5757\u3001\u53EF\u9009\u7684HTTP\u6A21\u5757(gzip\u7B49)\u3001\u90AE\u4EF6\u670D\u52A1\u3001\u7B2C\u4E09\u65B9(Lua)</p><p><code class="">Nginx</code> \u7684 <code class="">worker</code> \u8FDB\u7A0B\uFF0C\u5305\u62EC <strong>\u6838\u5FC3</strong> \u548C <strong>\u529F\u80FD\u6027\u6A21\u5757</strong>\uFF0C<strong>\u6838\u5FC3\u6A21\u5757</strong> \u8D1F\u8D23\u7EF4\u6301\u4E00\u4E2A <strong>\u8FD0\u884C\u5FAA\u73AF</strong>\uFF08<code class="">run-loop</code>\uFF09\uFF0C\u6267\u884C\u7F51\u7EDC\u8BF7\u6C42\u5904\u7406\u7684 <strong>\u4E0D\u540C\u9636\u6BB5</strong> \u7684\u6A21\u5757\u529F\u80FD\uFF0C\u6BD4\u5982\uFF1A<strong>\u7F51\u7EDC\u8BFB\u5199</strong>\u3001<strong>\u5B58\u50A8\u8BFB\u5199</strong>\u3001<strong>\u5185\u5BB9\u4F20\u8F93</strong>\u3001<strong>\u5916\u51FA\u8FC7\u6EE4</strong>\uFF0C\u4EE5\u53CA <strong>\u5C06\u8BF7\u6C42\u53D1\u5F80\u4E0A\u6E38\u670D\u52A1\u5668</strong> \u7B49\u3002\u800C\u5176\u4EE3\u7801\u7684 <strong>\u6A21\u5757\u5316\u8BBE\u8BA1</strong>\uFF0C\u4E5F\u4F7F\u5F97\u6211\u4EEC\u53EF\u4EE5\u6839\u636E\u9700\u8981\u5BF9 <strong>\u529F\u80FD\u6A21\u5757</strong> \u8FDB\u884C\u9002\u5F53\u7684 <strong>\u9009\u62E9</strong> \u548C <strong>\u4FEE\u6539</strong>\uFF0C\u7F16\u8BD1\u6210\u5177\u6709 <strong>\u7279\u5B9A\u529F\u80FD</strong> \u7684\u670D\u52A1\u5668\u3002</p></li><li><p>\u4E8B\u4EF6\u9A71\u52A8\u6A21\u578B</p><p>\u57FA\u4E8E <strong>\u5F02\u6B65\u53CA\u975E\u963B\u585E</strong> \u7684 <strong>\u4E8B\u4EF6\u9A71\u52A8\u6A21\u578B</strong>\uFF0C\u53EF\u4EE5\u8BF4\u662F <code class="">Nginx</code> \u5F97\u4EE5\u83B7\u5F97 <strong>\u9AD8\u5E76\u53D1</strong>\u3001<strong>\u9AD8\u6027\u80FD</strong> \u7684\u5173\u952E\u56E0\u7D20\uFF0C\u540C\u65F6\u4E5F\u5F97\u76CA\u4E8E\u5BF9 <code class="">Linux</code>\u3001<code class="">Solaris</code> \u53CA\u7C7B <code class="">BSD</code> \u7B49\u64CD\u4F5C\u7CFB\u7EDF\u5185\u6838\u4E2D <strong>\u4E8B\u4EF6\u901A\u77E5</strong> \u53CA <code class="">I/O</code> <strong>\u6027\u80FD\u589E\u5F3A\u529F\u80FD</strong> \u7684\u91C7\u7528\uFF0C\u5982 <code class="">kqueue</code>\u3001<code class="">epoll</code> \u53CA <code class="">event ports</code>\u3002</p></li><li><p>\u4EE3\u7406\u8BBE\u8BA1</p></li></ul><p>\u53C2\u8003\u8D44\u6599\uFF1A</p><ol><li><p><a href="https://juejin.im/post/5b4bdb54e51d45191e0cd774" target="_blank" rel="noopener">\u6D45\u8C08Nginx\u670D\u52A1\u5668\u7684\u5185\u90E8\u6838\u5FC3\u67B6\u6784\u8BBE\u8BA1</a></p></li><li><p><a href="https://nginx.org/en/#architecture_and_scalability" target="_blank" rel="noopener">Architecture and scalability</a></p></li></ol><h4 id="nginx%E9%AB%98%E5%8F%AF%E7%94%A8" tabindex="-1"><span class="prefix"></span><span class="content">Nginx\u9AD8\u53EF\u7528</span><span class="suffix"></span></h4><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145713.png" alt="img"></figure><p><strong>VRRP\uFF08Virtual Router Redundancy Protocol\uFF09</strong>\uFF0C\u5373<a href="https://link.jianshu.com?t=http://en.wikipedia.org/wiki/VRRP" target="_blank" rel="noopener">\u865A\u62DF\u8DEF\u7531\u5197\u4F59\u534F\u8BAE</a>\u3002\u53EF\u4EE5\u8BA4\u4E3A\u5B83\u662F\u5B9E\u73B0\u8DEF\u7531\u5668\u9AD8\u53EF\u7528\u7684\u5BB9\u9519\u534F\u8BAE\uFF0C\u5373\u5C06\u591A\u53F0\u63D0\u4F9B\u76F8\u540C\u529F\u80FD\u7684\u8DEF\u7531\u5668\u7EC4\u6210\u4E00\u4E2A\u8DEF\u7531\u5668\u7EC4(Router Group)\uFF0C\u8FD9\u4E2A\u7EC4\u91CC\u9762\u6709\u4E00\u4E2Amaster\u548C\u591A\u4E2Abackup\uFF0C\u4F46\u5728\u5916\u754C\u770B\u6765\u5C31\u50CF\u4E00\u53F0\u4E00\u6837\uFF0C\u6784\u6210\u865A\u62DF\u8DEF\u7531\u5668\uFF0C\u62E5\u6709\u4E00\u4E2A\u865A\u62DFIP\uFF08vip\uFF0C\u4E5F\u5C31\u662F\u8DEF\u7531\u5668\u6240\u5728\u5C40\u57DF\u7F51\u5185\u5176\u4ED6\u673A\u5668\u7684\u9ED8\u8BA4\u8DEF\u7531\uFF09\uFF0C\u5360\u6709\u8FD9\u4E2AIP\u7684master\u5B9E\u9645\u8D1F\u8D23ARP\u76F8\u5E94\u548C\u8F6C\u53D1IP\u6570\u636E\u5305\uFF0C\u7EC4\u4E2D\u7684\u5176\u5B83\u8DEF\u7531\u5668\u4F5C\u4E3A\u5907\u4EFD\u7684\u89D2\u8272\u5904\u4E8E\u5F85\u547D\u72B6\u6001\u3002master\u4F1A\u53D1\u7EC4\u64AD\u6D88\u606F\uFF0C\u5F53backup\u5728\u8D85\u65F6\u65F6\u95F4\u5185\u6536\u4E0D\u5230vrrp\u5305\u65F6\u5C31\u8BA4\u4E3Amaster\u5B95\u6389\u4E86\uFF0C\u8FD9\u65F6\u5C31\u9700\u8981\u6839\u636EVRRP\u7684\u4F18\u5148\u7EA7\u6765\u9009\u4E3E\u4E00\u4E2Abackup\u5F53master\uFF0C\u4FDD\u8BC1\u8DEF\u7531\u5668\u7684\u9AD8\u53EF\u7528\u3002</p><p>Keepalived\u662F\u4E00\u4E2A\u57FA\u4E8EVRRP\u534F\u8BAE\u6765\u5B9E\u73B0\u7684\u670D\u52A1\u9AD8\u53EF\u7528\u65B9\u6848\uFF0C\u53EF\u4EE5\u5229\u7528\u5176\u6765\u907F\u514DIP\u5355\u70B9\u6545\u969C\uFF0C\u7C7B\u4F3C\u7684\u5DE5\u5177\u8FD8\u6709heartbeat\u3001corosync\u3001pacemaker\u3002\u4F46\u662F\u5B83\u4E00\u822C\u4E0D\u4F1A\u5355\u72EC\u51FA\u73B0\uFF0C\u800C\u662F\u4E0E\u5176\u5B83\u8D1F\u8F7D\u5747\u8861\u6280\u672F\uFF08\u5982lvs\u3001haproxy\u3001nginx\uFF09\u4E00\u8D77\u5DE5\u4F5C\u6765\u8FBE\u5230\u96C6\u7FA4\u7684\u9AD8\u53EF\u7528\u3002</p><p>KeepAlived + Nginx\u6765\u7EC4\u6210\u9AD8\u53EF\u7528\u7684\u65B9\u6848\uFF1A</p><p>\u7B2C\u4E00\uFF1A\u8BF7\u6C42\u4E0D\u8981\u76F4\u63A5\u6253\u5230Nginx\u4E0A\uFF0C\u5E94\u8BE5\u5148\u901A\u8FC7Keepalived\uFF08\u8FD9\u5C31\u662F\u6240\u8C13\u865A\u62DFIP\uFF0CVIP\uFF09</p><p>\u7B2C\u4E8C\uFF1AKeepalived\u5E94\u8BE5\u80FD\u76D1\u63A7Nginx\u7684\u751F\u547D\u72B6\u6001\uFF08\u63D0\u4F9B\u4E00\u4E2A\u7528\u6237\u81EA\u5B9A\u4E49\u7684\u811A\u672C\uFF0C\u5B9A\u671F\u68C0\u67E5Nginx\u8FDB\u7A0B\u72B6\u6001\uFF0C\u8FDB\u884C\u6743\u91CD\u53D8\u5316,\uFF0C\u4ECE\u800C\u5B9E\u73B0Nginx\u6545\u969C\u5207\u6362\uFF09</p><h3 id="nginx%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85" tabindex="-1"><span class="prefix"></span><span class="content">Nginx\u670D\u52A1\u5B89\u88C5</span><span class="suffix"></span></h3><h4 id="centos%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F" tabindex="-1"><span class="prefix"></span><span class="content">Centos\u5B89\u88C5\u65B9\u5F0F</span><span class="suffix"></span></h4><p>\u63A8\u8350\u4F7F\u7528\u5728\u7EBF\u5B89\u88C5\u65B9\u5F0F\uFF1A</p><table><thead><tr><th>\u5206\u7C7B</th><th>yum\u65B9\u5F0F</th><th>\u6E90\u7801\u5B89\u88C5</th></tr></thead><tbody><tr><td>\u7F51\u7EDC</td><td>\u9700\u8981</td><td>\u53EF\u4EE5\u4E0D\u9700\u8981</td></tr><tr><td>\u5B89\u88C5\u4F4D\u7F6E</td><td>/etc/nginx\u914D\u7F6E\u6587\u4EF6\uFF0C/usr/sbin/nginx</td><td>/usr/local/nginx\u76EE\u5F55</td></tr><tr><td>\u7BA1\u7406\u547D\u4EE4</td><td>\u63D0\u4F9B</td><td>\u4E0D\u63D0\u4F9B</td></tr><tr><td>\u542F\u52A8</td><td>service nginx start</td><td>\u6267\u884C\u7EDD\u5BF9\u8DEF\u5F84/usr/local/nginx/sbin/nginx</td></tr><tr><td>\u5220\u9664</td><td>yum remove nginx\u6216\u8005rpm -e nginx</td><td>rm -rf /usr/local/nginx</td></tr></tbody></table><ol><li><p>\u5728\u7EBF\u5B89\u88C5</p><p>\u6DFB\u52A0nginx\u7684repo\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">$ <span class="token function">vim</span> /etc/yum.repos.d/nginx.repo
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u8F93\u5165\u4EE5\u4E0B\u5185\u5BB9\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token punctuation">[</span>nginx<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>nginx repo
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://nginx.org/packages/centos/<span class="token variable">$releasever</span>/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code class="">:wq</code>\u4FDD\u5B58\u540E\uFF0C\u4F7F\u7528<code class="">yum update</code>\uFF0C\u63A5\u4E0B\u6765\u5C31\u662F\u5B89\u88C5\u4E86\u3002</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">yum <span class="token function">install</span> -y nginx

<span class="token comment"># \u7BA1\u7406\u547D\u4EE4:</span>
<span class="token comment"># \u542F\u52A8/\u505C\u6B62/\u91CD\u542F</span>
<span class="token function">service</span> nginx start/stop/restart

<span class="token comment"># \u5378\u8F7D</span>
yum remove -y nginx
<span class="token comment"># \u6216\u8005\u5F3A\u5236\u5378\u8F7D\uFF0C\u4E0D\u8003\u8651\u4F9D\u8D56</span>
<span class="token function">rpm</span> -e nginx
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u6E90\u7801\u5B89\u88C5</p></li></ol><ul><li><p>\u5B89\u88C5\u5BF9\u5E94\u7684\u4F9D\u8D56\uFF1A</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell">yum -y <span class="token function">install</span> gcc gcc-c++ <span class="token function">make</span> libtool zlib zlib-devel openssl openssl-devel pcre pcre-devel
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>\u4E0B\u8F7D\u6E90\u7801\u5305\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">wget</span> -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>.tar.gz
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u6BD4\u5982\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">wget</span> -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-1.17.0.tar.gz
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>\u89E3\u538B</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token builtin class-name">cd</span> /tmp/
<span class="token function">tar</span> zxvf nginx.tar.gz
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u7F16\u8BD1</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">$ ./configure
Configuration summary

- using system PCRE library
- OpenSSL library is not used
- using system zlib library

  nginx path prefix: <span class="token string">&quot;/usr/local/nginx&quot;</span>
  nginx binary file: <span class="token string">&quot;/usr/local/nginx/sbin/nginx&quot;</span>
  nginx modules path: <span class="token string">&quot;/usr/local/nginx/modules&quot;</span>
  nginx configuration prefix: <span class="token string">&quot;/usr/local/nginx/conf&quot;</span>
  nginx configuration file: <span class="token string">&quot;/usr/local/nginx/conf/nginx.conf&quot;</span>
  nginx pid file: <span class="token string">&quot;/usr/local/nginx/logs/nginx.pid&quot;</span>
  nginx error log file: <span class="token string">&quot;/usr/local/nginx/logs/error.log&quot;</span>
  nginx http access log file: <span class="token string">&quot;/usr/local/nginx/logs/access.log&quot;</span>
  nginx http client request body temporary files: <span class="token string">&quot;client_body_temp&quot;</span>
  nginx http proxy temporary files: <span class="token string">&quot;proxy_temp&quot;</span>
  nginx http fastcgi temporary files: <span class="token string">&quot;fastcgi_temp&quot;</span>
  nginx http uwsgi temporary files: <span class="token string">&quot;uwsgi_temp&quot;</span>
  nginx http scgi temporary files: <span class="token string">&quot;scgi_temp&quot;</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></li><li><p>\u5B89\u88C5</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>\u7BA1\u7406\u65B9\u6CD5\uFF1A</p><p>\u76F4\u63A5\u53EF\u4EE5\u4F7F\u7528\u53EF\u6267\u884C\u6587\u4EF6\u8FDB\u884C\u542F\u52A8/\u505C\u6B62/\u91CD\u542F</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># \u542F\u52A8</span>
/usr/local/nginx/sbin/nginx

<span class="token comment"># \u505C\u6B62</span>
/usr/local/nginx/sbin/nginx -s stop

<span class="token comment"># \u91CD\u542F</span>
/usr/local/nginx/sbin/nginx -s reload
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u7BA1\u7406\u811A\u672C</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">$ <span class="token function">vi</span> /etc/init.d/nginx
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u8F93\u5165\u5982\u4E0B\u5185\u5BB9:</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span>
<span class="token comment">#</span>
<span class="token comment"># nginx - this script starts and stops the nginx daemon</span>
<span class="token comment">#</span>
<span class="token comment"># chkconfig:   - 85 15</span>
<span class="token comment"># description:  NGINX is an HTTP(S) server, HTTP(S) reverse \\</span>
<span class="token comment">#               proxy and IMAP/POP3 proxy server</span>
<span class="token comment"># processname: nginx</span>
<span class="token comment"># config:      /usr/local/nginx/conf/nginx.conf</span>
<span class="token comment"># config:      /etc/sysconfig/nginx</span>
<span class="token comment"># pidfile:     /usr/local/nginx/logs/nginx.pid</span>
<span class="token comment"># Source function library.</span>
<span class="token builtin class-name">.</span> /etc/rc.d/init.d/functions
<span class="token comment"># Source networking configuration.</span>
<span class="token builtin class-name">.</span> /etc/sysconfig/network
<span class="token comment"># Check that networking is up.</span>
<span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$NETWORKING</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;no&quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token assign-left variable">nginx</span><span class="token operator">=</span><span class="token string">&quot;/usr/local/nginx/sbin/nginx&quot;</span>
<span class="token assign-left variable">prog</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> $nginx<span class="token variable">)</span></span>
<span class="token assign-left variable">NGINX_CONF_FILE</span><span class="token operator">=</span><span class="token string">&quot;/usr/local/nginx/conf/nginx.conf&quot;</span>
<span class="token punctuation">[</span> -f /etc/sysconfig/nginx <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">.</span> /etc/sysconfig/nginx
<span class="token assign-left variable">lockfile</span><span class="token operator">=</span>/var/lock/subsys/nginx
<span class="token function-name function">make_dirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment"># make required directories</span>
   <span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span>$nginx -V <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;configure arguments:&quot;</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">&#39;s/[^*]*--user=\\([^ ]*\\).*/\\1/g&#39;</span> -<span class="token variable">\`</span></span>
   <span class="token keyword">if</span> <span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable"><span class="token variable">\`</span><span class="token function">grep</span> $user /etc/passwd<span class="token variable">\`</span></span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
       <span class="token function">useradd</span> -M -s /bin/nologin <span class="token variable">$user</span>
   <span class="token keyword">fi</span>
   <span class="token assign-left variable">options</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span>$nginx -V <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;configure arguments:&#39;</span><span class="token variable">\`</span></span>
   <span class="token keyword">for</span> <span class="token for-or-select variable">opt</span> <span class="token keyword">in</span> <span class="token variable">$options</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
       <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $opt <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;.*-temp-path&#39;</span><span class="token variable">\`</span></span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
           <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $opt <span class="token operator">|</span> <span class="token function">cut</span> -d <span class="token string">&quot;=&quot;</span> -f <span class="token number">2</span><span class="token variable">\`</span></span>
           <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">&quot;<span class="token variable">$value</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
               <span class="token comment"># echo &quot;creating&quot; $value</span>
               <span class="token function">mkdir</span> -p <span class="token variable">$value</span> <span class="token operator">&amp;&amp;</span> <span class="token function">chown</span> -R <span class="token variable">$user</span> <span class="token variable">$value</span>
           <span class="token keyword">fi</span>
       <span class="token keyword">fi</span>
   <span class="token keyword">done</span>
<span class="token punctuation">}</span>
<span class="token function-name function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span> -x <span class="token variable">$nginx</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">5</span>
    <span class="token punctuation">[</span> -f <span class="token variable">$NGINX_CONF_FILE</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">6</span>
    make_dirs
    <span class="token builtin class-name">echo</span> -n $<span class="token string">&quot;Starting <span class="token variable">$prog</span>: &quot;</span>
    daemon <span class="token variable">$nginx</span> -c <span class="token variable">$NGINX_CONF_FILE</span>
    <span class="token assign-left variable">retval</span><span class="token operator">=</span><span class="token variable">$?</span>
    <span class="token builtin class-name">echo</span>
    <span class="token punctuation">[</span> <span class="token variable">$retval</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">touch</span> <span class="token variable">$lockfile</span>
    <span class="token builtin class-name">return</span> <span class="token variable">$retval</span>
<span class="token punctuation">}</span>
<span class="token function-name function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> -n $<span class="token string">&quot;Stopping <span class="token variable">$prog</span>: &quot;</span>
    killproc <span class="token variable">$prog</span> -QUIT
    <span class="token assign-left variable">retval</span><span class="token operator">=</span><span class="token variable">$?</span>
    <span class="token builtin class-name">echo</span>
    <span class="token punctuation">[</span> <span class="token variable">$retval</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> -f <span class="token variable">$lockfile</span>
    <span class="token builtin class-name">return</span> <span class="token variable">$retval</span>
<span class="token punctuation">}</span>
<span class="token function-name function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    configtest <span class="token operator">||</span> <span class="token builtin class-name">return</span> <span class="token variable">$?</span>
    stop
    <span class="token function">sleep</span> <span class="token number">1</span>
    start
<span class="token punctuation">}</span>
<span class="token function-name function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    configtest <span class="token operator">||</span> <span class="token builtin class-name">return</span> <span class="token variable">$?</span>
    <span class="token builtin class-name">echo</span> -n $<span class="token string">&quot;Reloading <span class="token variable">$prog</span>: &quot;</span>
    killproc <span class="token variable">$nginx</span> -HUP
    <span class="token assign-left variable">RETVAL</span><span class="token operator">=</span><span class="token variable">$?</span>
    <span class="token builtin class-name">echo</span>
<span class="token punctuation">}</span>
<span class="token function-name function">force_reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    restart
<span class="token punctuation">}</span>
<span class="token function-name function">configtest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$nginx</span> -t -c <span class="token variable">$NGINX_CONF_FILE</span>
<span class="token punctuation">}</span>
<span class="token function-name function">rh_status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    status <span class="token variable">$prog</span>
<span class="token punctuation">}</span>
<span class="token function-name function">rh_status_q</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    rh_status <span class="token operator">&gt;</span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token punctuation">}</span>
<span class="token keyword">case</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token keyword">in</span>
    start<span class="token punctuation">)</span>
        rh_status_q <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span>
        <span class="token variable">$1</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    stop<span class="token punctuation">)</span>
        rh_status_q <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span>
        <span class="token variable">$1</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    restart<span class="token operator">|</span>configtest<span class="token punctuation">)</span>
        <span class="token variable">$1</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    reload<span class="token punctuation">)</span>
        rh_status_q <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">7</span>
        <span class="token variable">$1</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    force-reload<span class="token punctuation">)</span>
        force_reload
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    status<span class="token punctuation">)</span>
        rh_status
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    condrestart<span class="token operator">|</span>try-restart<span class="token punctuation">)</span>
        rh_status_q <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>
        <span class="token builtin class-name">echo</span> $<span class="token string">&quot;Usage: <span class="token variable">$0</span> {start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest}&quot;</span>
        <span class="token builtin class-name">exit</span> <span class="token number">2</span>
<span class="token keyword">esac</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br></div></div><p>\u6DFB\u52A0\u5F00\u673A\u542F\u52A8\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># \u7ED9\u4E88\u6267\u884C\u6743\u9650</span>
<span class="token function">chmod</span> a+x /etc/init.d/nginx

<span class="token comment"># \u8BBE\u7F6E\u5F00\u673A\u542F\u52A8</span>
<span class="token function">chkconfig</span> nginx on

<span class="token comment"># \u542F\u52A8</span>
systemctl start nginx
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul><h4 id="ubuntu%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F" tabindex="-1"><span class="prefix"></span><span class="content">Ubuntu\u5B89\u88C5\u65B9\u5F0F</span><span class="suffix"></span></h4><ol><li><p>\u5728\u7EBF\u65B9\u5F0F</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> nginx
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>\u6E90\u7801\u65B9\u5F0F</p><p>\u5B89\u88C5\u4F9D\u8D56</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># \u5B89\u88C5gcc g++</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> build-essential
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libtool

<span class="token comment"># \u5B89\u88C5pcre\u4F9D\u8D56\u5E93\uFF08http://www.pcre.org/\uFF09</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libpcre3 libpcre3-dev

<span class="token comment"># \u5B89\u88C5zlib\u4F9D\u8D56\u5E93\uFF08http://www.zlib.net\uFF09</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> zlib1g-dev

<span class="token comment"># \u5B89\u88C5SSL\u4F9D\u8D56\u5E93\uFF0816.04\u9ED8\u8BA4\u5DF2\u7ECF\u5B89\u88C5\u4E86\uFF09</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> openssl
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u4E0B\u8F7D\u6E90\u7801\u542F\u52A8:</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># \u4E0B\u8F7D\u6700\u65B0\u7248\u672C\uFF1A</span>
<span class="token comment"># \u4E0B\u9762\u7684version\u53EF\u4EE5\u6539\u4E3A\u5BF9\u5E94\u7684\u7248\u672C</span>
<span class="token comment"># http://nginx.org/download/nginx-1.17.0.tar.gz</span>
<span class="token function">wget</span> -O /tmp/nginx.tar.gz http://nginx.org/download/nginx-<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>.tar.gz

<span class="token comment"># \u89E3\u538B\uFF1A</span>
<span class="token builtin class-name">cd</span> /tmp/
<span class="token function">tar</span> -zxvf nginx.tar.gz

<span class="token comment"># \u8FDB\u5165\u89E3\u538B\u76EE\u5F55\uFF1A</span>
<span class="token builtin class-name">cd</span> nginx-1.13.6

<span class="token comment"># \u914D\u7F6E\uFF1A</span>
./configure --prefix<span class="token operator">=</span>/usr/local/nginx 

<span class="token comment"># \u7F16\u8BD1\uFF1A</span>
<span class="token function">make</span>

<span class="token comment"># \u5B89\u88C5\uFF1A</span>
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>

<span class="token comment"># \u542F\u52A8\uFF1A</span>
<span class="token comment">#\u6CE8\u610F\uFF1A-c \u6307\u5B9A\u914D\u7F6E\u6587\u4EF6\u7684\u8DEF\u5F84\uFF0C\u4E0D\u52A0\u7684\u8BDD\uFF0Cnginx\u4F1A\u81EA\u52A8\u52A0\u8F7D\u9ED8\u8BA4\u8DEF\u5F84\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u53EF\u4EE5\u901A\u8FC7-h\u67E5\u770B\u5E2E\u52A9\u547D\u4EE4\u3002</span>
<span class="token comment">#\u67E5\u770B\u8FDB\u7A0B\uFF1A</span>
<span class="token function">sudo</span> /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf

<span class="token comment"># \u67E5\u770B\u8FDB\u7A0B\u542F\u52A8\u72B6\u6001</span>
<span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> nginx
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></li></ol><h3 id="nginx%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BC%98%E5%8C%96" tabindex="-1"><span class="prefix"></span><span class="content">Nginx\u914D\u7F6E\u53CA\u4F18\u5316</span><span class="suffix"></span></h3><ol><li>\u914D\u7F6E\u6587\u4EF6\u7ED3\u6784</li></ol><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token punctuation">..</span>.              <span class="token comment">#\u5168\u5C40\u5757</span>

events <span class="token punctuation">{</span>         <span class="token comment">#events\u5757</span>
   <span class="token punctuation">..</span>.
<span class="token punctuation">}</span>

http      <span class="token comment">#http\u5757</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">..</span>.   <span class="token comment">#http\u5168\u5C40\u5757--start</span>
    server        <span class="token comment">#server\u5757</span>
    <span class="token punctuation">{</span> 
        <span class="token punctuation">..</span>.       <span class="token comment">#server\u5168\u5C40\u5757</span>
        location <span class="token punctuation">[</span>PATTERN<span class="token punctuation">]</span>   <span class="token comment">#location\u5757</span>
        <span class="token punctuation">{</span>
            <span class="token punctuation">..</span>.
        <span class="token punctuation">}</span>
        location <span class="token punctuation">[</span>PATTERN<span class="token punctuation">]</span> 
        <span class="token punctuation">{</span>
            <span class="token punctuation">..</span>.
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    server
    <span class="token punctuation">{</span>
      <span class="token punctuation">..</span>.
    <span class="token punctuation">}</span>
    <span class="token punctuation">..</span>.     <span class="token comment">#http\u5168\u5C40\u5757--end</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ul><li><strong>\u5168\u5C40\u5757</strong>\uFF1A\u914D\u7F6E\u5F71\u54CDnginx\u5168\u5C40\u7684\u6307\u4EE4\u3002\u4E00\u822C\u6709\u8FD0\u884Cnginx\u670D\u52A1\u5668\u7684\u7528\u6237\u7EC4\uFF0Cnginx\u8FDB\u7A0Bpid\u5B58\u653E\u8DEF\u5F84\uFF0C\u65E5\u5FD7\u5B58\u653E\u8DEF\u5F84\uFF0C\u914D\u7F6E\u6587\u4EF6\u5F15\u5165\uFF0C\u5141\u8BB8\u751F\u6210worker process\u6570\u7B49\u3002</li><li><strong>events\u5757</strong>\uFF1A\u914D\u7F6E\u5F71\u54CDnginx\u670D\u52A1\u5668\u6216\u4E0E\u7528\u6237\u7684\u7F51\u7EDC\u8FDE\u63A5\u3002\u6709\u6BCF\u4E2A\u8FDB\u7A0B\u7684\u6700\u5927\u8FDE\u63A5\u6570\uFF0C\u9009\u53D6\u54EA\u79CD\u4E8B\u4EF6\u9A71\u52A8\u6A21\u578B\u5904\u7406\u8FDE\u63A5\u8BF7\u6C42\uFF0C\u662F\u5426\u5141\u8BB8\u540C\u65F6\u63A5\u53D7\u591A\u4E2A\u7F51\u8DEF\u8FDE\u63A5\uFF0C\u5F00\u542F\u591A\u4E2A\u7F51\u7EDC\u8FDE\u63A5\u5E8F\u5217\u5316\u7B49\u3002</li><li><strong>http\u5757</strong>\uFF1A\u53EF\u4EE5\u5D4C\u5957\u591A\u4E2Aserver\uFF0C\u914D\u7F6E\u4EE3\u7406\uFF0C\u7F13\u5B58\uFF0C\u65E5\u5FD7\u5B9A\u4E49\u7B49\u7EDD\u5927\u591A\u6570\u529F\u80FD\u548C\u7B2C\u4E09\u65B9\u6A21\u5757\u7684\u914D\u7F6E\u3002\u5982\u6587\u4EF6\u5F15\u5165\uFF0Cmime-type\u5B9A\u4E49\uFF0C\u65E5\u5FD7\u81EA\u5B9A\u4E49\uFF0C\u662F\u5426\u4F7F\u7528sendfile\u4F20\u8F93\u6587\u4EF6\uFF0C\u8FDE\u63A5\u8D85\u65F6\u65F6\u95F4\uFF0C\u5355\u8FDE\u63A5\u8BF7\u6C42\u6570\u7B49\u3002</li><li><strong>server\u5757</strong>\uFF1A\u914D\u7F6E\u865A\u62DF\u4E3B\u673A\u7684\u76F8\u5173\u53C2\u6570\uFF0C\u4E00\u4E2Ahttp\u4E2D\u53EF\u4EE5\u6709\u591A\u4E2Aserver\u3002</li><li><strong>location\u5757</strong>\uFF1A\u914D\u7F6E\u8BF7\u6C42\u7684\u8DEF\u7531\uFF0C\u4EE5\u53CA\u5404\u79CD\u9875\u9762\u7684\u5904\u7406\u60C5\u51B5\u3002</li></ul><ol start="2"><li><p>\u914D\u7F6E\u4F18\u5316</p><p>\u914D\u7F6E\u6587\u4EF6\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">user www-data<span class="token punctuation">;</span>
pid /run/nginx.pid<span class="token punctuation">;</span>

<span class="token comment"># worker_processes\u7528\u6765\u8BBE\u7F6ENginx\u670D\u52A1\u7684\u8FDB\u7A0B\u6570\u3002\u63A8\u8350\u662FCPU\u5185\u6838\u6570\u6216\u8005\u5185\u6838\u6570\u7684\u500D\u6570\uFF0C\u63A8\u8350\u4F7F\u7528CPU\u5185\u6838\u6570</span>
worker_processes <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token comment"># \u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CNginx\u7684\u591A\u4E2A\u8FDB\u7A0B\u6709\u53EF\u80FD\u8DD1\u5728\u67D0\u4E00\u4E2ACPU\u6216CPU\u7684\u67D0\u4E00\u6838\u4E0A\uFF0C\u5BFC\u81F4Nginx\u8FDB\u7A0B\u4F7F\u7528\u786C\u4EF6\u7684\u8D44\u6E90\u4E0D\u5747</span>
worker_cpu_affinity 0001 0010 0100 <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token comment"># \u8BBE\u7F6E\u4E00\u4E2A\u8FDB\u7A0B\u7406\u8BBA\u5141\u8BB8\u7684\u6700\u5927\u8FDE\u63A5\u6570\uFF0C\u7406\u8BBA\u4E0A\u8D8A\u5927\u8D8A\u597D\uFF0C\u4F46\u4E0D\u53EF\u4EE5\u8D85\u8FC7worker_rlimit_nofile\u7684\u503C</span>
worker_rlimit_nofile <span class="token number">65535</span><span class="token punctuation">;</span>

events <span class="token punctuation">{</span>
				<span class="token comment"># \u8BBE\u7F6E\u4E8B\u4EF6\u9A71\u52A8\u6A21\u578B\uFF0C\u662F\u5185\u68382.6\u4EE5\u4E0A\u652F\u6301</span>
        use epoll<span class="token punctuation">;</span>
        worker_connections <span class="token number">65535</span><span class="token punctuation">;</span>
        accept_mutex off<span class="token punctuation">;</span>
        multi_accept off<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

http <span class="token punctuation">{</span>
        <span class="token comment">##</span>
        <span class="token comment"># Basic Settings</span>
        <span class="token comment">##</span>
        sendfile on<span class="token punctuation">;</span>
        tcp_nopush on<span class="token punctuation">;</span>
        tcp_nodelay on<span class="token punctuation">;</span>
        keepalive_timeout <span class="token number">60</span> <span class="token number">50</span><span class="token punctuation">;</span>
        send_timeout 10s<span class="token punctuation">;</span>
        types_hash_max_size <span class="token number">2048</span><span class="token punctuation">;</span>
        client_header_buffer_size 4k<span class="token punctuation">;</span>
        client_max_body_size 8m<span class="token punctuation">;</span>
        include /etc/nginx/mime.types<span class="token punctuation">;</span>
        default_type application/octet-stream<span class="token punctuation">;</span>

        <span class="token comment">##</span>
        <span class="token comment"># Logging Settings</span>
        <span class="token comment">##</span>
        access_log /var/log/nginx/access.log<span class="token punctuation">;</span>
        error_log /var/log/nginx/error.log<span class="token punctuation">;</span>

        <span class="token comment">##</span>
        <span class="token comment"># Gzip Settings</span>
        <span class="token comment">##</span>
        <span class="token function">gzip</span> on<span class="token punctuation">;</span>
        gzip_disable <span class="token string">&quot;msie6&quot;</span><span class="token punctuation">;</span>
        gzip_min_length <span class="token number">1024</span><span class="token punctuation">;</span>
        gzip_vary on<span class="token punctuation">;</span>
        gzip_comp_level <span class="token number">2</span><span class="token punctuation">;</span>
        gzip_buffers <span class="token number">32</span> 4k<span class="token punctuation">;</span>
        gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript<span class="token punctuation">;</span>


        <span class="token comment">##</span>
        <span class="token comment"># Virtual Host Configs</span>
        <span class="token comment">##</span>
        include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span>
        include /etc/nginx/sites-enabled/*<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div></li></ol><p>nginxs\u914D\u7F6E\u8BF4\u660E\uFF1A</p><ul><li><code class="">worker_connections</code></li></ul><p>\u8BBE\u7F6E\u4E00\u4E2A\u8FDB\u7A0B\u7406\u8BBA\u5141\u8BB8\u7684\u6700\u5927\u8FDE\u63A5\u6570\uFF0C\u7406\u8BBA\u4E0A\u8D8A\u5927\u8D8A\u597D\uFF0C\u4F46\u4E0D\u53EF\u4EE5\u8D85\u8FC7worker_rlimit_nofile\u7684\u503C\u3002\u8FD8\u6709\u4E2A\u95EE\u9898\uFF0Clinux\u7CFB\u7EDF\u4E2D\u6709\u4E2A\u6307\u4EE4open file resource limit\uFF0C\u5B83\u8BBE\u7F6E\u4E86\u8FDB\u7A0B\u53EF\u4EE5\u6253\u5F00\u7684\u6587\u4EF6\u53E5\u67C4\u6570\u91CF\uFF0C\u53EF\u4EE5\u7528\u4E0B\u9762\u7684\u6307\u4EE4\u67E5\u770B\u4F60\u7684linux\u7CFB\u7EDF\u4E2Dopen file resource limit\u6307\u4EE4\u7684\u503C\uFF0C<code class="">cat /proc/sys/fs/file-max</code> \u53EF\u4EE5\u5C06\u8BE5\u6307\u4EE4\u8BBE\u7F6E\u4E3A23900251</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">   <span class="token builtin class-name">echo</span> <span class="token string">&quot;2390251&quot;</span> <span class="token operator">&gt;</span> /proc/sys/fs/file-max
   
   sysctl -p
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li><p>\u538B\u6D4B\u5DE5\u5177Apache ab</p><p>\u6211\u4EEC\u8981\u6D4B\u8BD5 nginx \u7684\u8D1F\u8F7D\u80FD\u529B\uFF0C\u9700\u8981\u501F\u52A9\u538B\u529B\u6D4B\u8BD5\u5DE5\u5177\u3002\u672C\u535A\u5BA2\u662F\u4F7F\u7528 Apache \u670D\u52A1\u5668\u81EA\u5E26\u7684\u4E00\u4E2A web \u538B\u529B\u6D4B\u8BD5\u5DE5\u5177 ApacheBench \uFF0C\u7B80\u79F0 ab\u3002ab \u662F\u4E00\u4E2A\u547D\u4EE4\u884C\u5DE5\u5177\uFF0C\u5373\u901A\u8FC7 <code class="">ab</code> \u547D\u4EE4\u884C\uFF0C\u6A21\u62DF\u591A\u4E2A\u8BF7\u6C42\u540C\u65F6\u5BF9\u67D0\u4E00 URL \u5730\u5740\u8FDB\u884C\u8BBF\u95EE\uFF0C\u56E0\u6B64\u53EF\u4EE5\u7528\u6765\u6D4B\u8BD5\u76EE\u6807\u670D\u52A1\u5668\u7684\u8D1F\u8F7D\u538B\u529B\u3002</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">yum -y <span class="token function">install</span> httpd-tools

<span class="token comment"># \u67E5\u770B\u5B89\u88C5\u7ED3\u679C</span>
ab -V

<span class="token comment"># \u7B80\u5355\u7684\u4F7F\u7528</span>
<span class="token comment"># -c\uFF1A\u4E00\u6B21\u5E76\u53D1\u8BF7\u6C42\u7684\u6570\u91CF\uFF1B-n\uFF1A\u8BF7\u6C42\u603B\u6B21\u6570</span>
ab -c <span class="token number">5000</span> -n <span class="token number">200000</span> http://10.211.55.6\uFF1A80/index.html
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u5176\u4ED6\u4F18\u5316</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">net.ipv4.ip_forward <span class="token operator">=</span> <span class="token number">0</span>
net.ipv4.conf.default.rp_filter <span class="token operator">=</span> <span class="token number">1</span>
net.ipv4.conf.default.accept_source_route <span class="token operator">=</span> <span class="token number">0</span>
kernel.sysrq <span class="token operator">=</span> <span class="token number">0</span>
kernel.core_uses_pid <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># \u5F00\u542FSYN Cookies\uFF0C\u5F53\u51FA\u73B0SYN\u7B49\u5F85\u961F\u5217\u6EA2\u51FA\u65F6\uFF0C\u542F\u7528cookies\u6765\u5904\u7406\u3002</span>
net.ipv4.tcp_syncookies <span class="token operator">=</span> <span class="token number">1</span>
kernel.msgmnb <span class="token operator">=</span> <span class="token number">65536</span>
kernel.msgmax <span class="token operator">=</span> <span class="token number">65536</span>
kernel.shmmax <span class="token operator">=</span> <span class="token number">68719476736</span>
kernel.shmall <span class="token operator">=</span> <span class="token number">4294967296</span>

<span class="token comment"># timewait\u7684\u6570\u91CF\uFF0C\u9ED8\u8BA4\u662F180000</span>
net.ipv4.tcp_max_tw_buckets <span class="token operator">=</span> <span class="token number">6000</span>
net.ipv4.tcp_sack <span class="token operator">=</span> <span class="token number">1</span>
net.ipv4.tcp_window_scaling <span class="token operator">=</span> <span class="token number">1</span>
net.ipv4.tcp_rmem <span class="token operator">=</span> <span class="token number">4096</span>        <span class="token number">87380</span>   <span class="token number">4194304</span>
net.ipv4.tcp_wmem <span class="token operator">=</span> <span class="token number">4096</span>        <span class="token number">16384</span>   <span class="token number">4194304</span>
net.core.wmem_default <span class="token operator">=</span> <span class="token number">8388608</span>
net.core.rmem_default <span class="token operator">=</span> <span class="token number">8388608</span>
net.core.rmem_max <span class="token operator">=</span> <span class="token number">16777216</span>
net.core.wmem_max <span class="token operator">=</span> <span class="token number">16777216</span>

<span class="token comment"># # \u6BCF\u4E2A\u7F51\u7EDC\u63A5\u53E3\u63A5\u6536\u6570\u636E\u5305\u7684\u901F\u7387\u6BD4\u5185\u6838\u5904\u7406\u8FD9\u4E9B\u5305\u7684\u901F\u7387\u5FEB\u65F6\uFF0C\u5141\u8BB8\u9001\u5230\u961F\u5217\u7684\u6570\u636E\u5305\u7684\u6700\u5927\u6570\u76EE\u3002</span>
net.core.netdev_max_backlog <span class="token operator">=</span> <span class="token number">262144</span>

<span class="token comment"># web\u5E94\u7528\u4E2Dlisten\u51FD\u6570\u7684backlog\u9ED8\u8BA4\u4F1A\u7ED9\u6211\u4EEC\u5185\u6838\u53C2\u6570\u7684net.core.somaxconn\u9650\u5236\u5230128\uFF0C\u800Cnginx\u5B9A\u4E49 \u7684NGX_LISTEN_BACKLOG\u9ED8\u8BA4\u4E3A511\uFF0C\u6240\u4EE5\u6709\u5FC5\u8981\u8C03\u6574\u8FD9\u4E2A\u503C</span>
net.core.somaxconn <span class="token operator">=</span> <span class="token number">262144</span>

<span class="token comment"># \u7CFB\u7EDF\u4E2D\u6700\u591A\u6709\u591A\u5C11\u4E2ATCP\u5957\u63A5\u5B57\u4E0D\u88AB\u5173\u8054\u5230\u4EFB\u4F55\u4E00\u4E2A\u7528\u6237\u6587\u4EF6\u53E5\u67C4\u4E0A\u3002\u5982\u679C\u8D85\u8FC7\u8FD9\u4E2A\u6570\u5B57\uFF0C\u5B64\u513F\u8FDE\u63A5\u5C06\u5373\u523B\u88AB\u590D\u4F4D\u5E76\u6253\u5370\u51FA\u8B66\u544A\u4FE1\u606F\u3002\u8FD9\u4E2A\u9650\u5236\u4EC5\u4EC5 \u662F\u4E3A\u4E86\u9632\u6B62\u7B80\u5355\u7684DoS\u653B\u51FB\uFF0C\u4E0D\u80FD\u8FC7\u5206\u4F9D\u9760\u5B83\u6216\u8005\u4EBA\u4E3A\u5730\u51CF\u5C0F\u8FD9\u4E2A\u503C\uFF0C\u66F4\u5E94\u8BE5\u589E\u52A0\u8FD9\u4E2A\u503C(\u5982\u679C\u589E\u52A0\u4E86\u5185\u5B58\u4E4B\u540E)\u3002</span>
net.ipv4.tcp_max_orphans <span class="token operator">=</span> <span class="token number">3276800</span>

<span class="token comment"># \u8BB0\u5F55\u7684\u90A3\u4E9B\u5C1A\u672A\u6536\u5230\u5BA2\u6237\u7AEF\u786E\u8BA4\u4FE1\u606F\u7684\u8FDE\u63A5\u8BF7\u6C42\u7684\u6700\u5927\u503C\u3002\u5BF9\u4E8E\u6709128M\u5185\u5B58\u7684\u7CFB\u7EDF\u800C\u8A00\uFF0C\u7F3A\u7701\u503C\u662F1024\uFF0C\u5C0F\u5185\u5B58\u7684\u7CFB\u7EDF\u5219\u662F128\u3002</span>
net.ipv4.tcp_max_syn_backlog <span class="token operator">=</span> <span class="token number">262144</span>

<span class="token comment"># \u65F6\u95F4\u6233\u53EF\u4EE5\u907F\u514D\u5E8F\u5217\u53F7\u7684\u5377\u7ED5\u3002\u4E00\u4E2A1Gbps\u7684\u94FE\u8DEF\u80AF\u5B9A\u4F1A\u9047\u5230\u4EE5\u524D\u7528\u8FC7\u7684\u5E8F\u5217\u53F7\u3002\u65F6\u95F4\u6233\u80FD\u591F\u8BA9\u5185\u6838\u63A5\u53D7\u8FD9\u79CD\u201C\u5F02\u5E38\u201D\u7684\u6570\u636E\u5305\u3002\u8FD9\u91CC\u9700\u8981\u5C06\u5176\u5173\u6389\u3002</span>
net.ipv4.tcp_timestamps <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment"># \u4E3A\u4E86\u6253\u5F00\u5BF9\u7AEF\u7684\u8FDE\u63A5\uFF0C\u5185\u6838\u9700\u8981\u53D1\u9001\u4E00\u4E2ASYN\u5E76\u9644\u5E26\u4E00\u4E2A\u56DE\u5E94\u524D\u9762\u4E00\u4E2ASYN\u7684ACK\u3002\u4E5F\u5C31\u662F\u6240\u8C13\u4E09\u6B21\u63E1\u624B\u4E2D\u7684\u7B2C\u4E8C\u6B21\u63E1\u624B\u3002\u8FD9\u4E2A\u8BBE\u7F6E\u51B3\u5B9A\u4E86\u5185\u6838\u653E\u5F03\u8FDE\u63A5\u4E4B\u524D\u53D1\u9001SYN+ACK\u5305\u7684\u6570\u91CF\u3002</span>
net.ipv4.tcp_synack_retries <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># \u5728\u5185\u6838\u653E\u5F03\u5EFA\u7ACB\u8FDE\u63A5\u4E4B\u524D\u53D1\u9001SYN\u5305\u7684\u6570\u91CF\u3002</span>
net.ipv4.tcp_syn_retries <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># \u542F\u7528timewait\u5FEB\u901F\u56DE\u6536</span>
net.ipv4.tcp_tw_recycle <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># \u5F00\u542F\u91CD\u7528\u3002\u5141\u8BB8\u5C06TIME-WAIT sockets\u91CD\u65B0\u7528\u4E8E\u65B0\u7684TCP\u8FDE\u63A5\u3002</span>
net.ipv4.tcp_tw_reuse <span class="token operator">=</span> <span class="token number">1</span>
net.ipv4.tcp_mem <span class="token operator">=</span> <span class="token number">94500000</span> <span class="token number">915000000</span> <span class="token number">927000000</span>

<span class="token comment"># \u5982\u679C\u5957\u63A5\u5B57\u7531\u672C\u7AEF\u8981\u6C42\u5173\u95ED\uFF0C\u8FD9\u4E2A\u53C2\u6570\u51B3\u5B9A\u4E86\u5B83\u4FDD\u6301\u5728FIN-WAIT-2\u72B6\u6001\u7684\u65F6\u95F4\u3002\u5BF9\u7AEF\u53EF\u4EE5\u51FA\u9519\u5E76\u6C38\u8FDC\u4E0D\u5173\u95ED\u8FDE\u63A5\uFF0C\u751A\u81F3\u610F\u5916\u5F53\u673A\u3002\u7F3A\u7701\u503C\u662F60\u79D2\u3002 2.2 \u5185\u6838\u7684\u901A\u5E38\u503C\u662F180\u79D2\uFF0C\u4F60\u53EF\u4EE5\u6309\u8FD9\u4E2A\u8BBE\u7F6E\uFF0C\u4F46\u8981\u8BB0\u4F4F\u7684\u662F\uFF0C\u5373\u4F7F\u4F60\u7684\u673A\u5668\u662F\u4E00\u4E2A\u8F7B\u8F7D\u7684WEB\u670D\u52A1\u5668\uFF0C\u4E5F\u6709\u56E0\u4E3A\u5927\u91CF\u7684\u6B7B\u5957\u63A5\u5B57\u800C\u5185\u5B58\u6EA2\u51FA\u7684\u98CE\u9669\uFF0CFIN- WAIT-2\u7684\u5371\u9669\u6027\u6BD4FIN-WAIT-1\u8981\u5C0F\uFF0C\u56E0\u4E3A\u5B83\u6700\u591A\u53EA\u80FD\u5403\u63891.5K\u5185\u5B58\uFF0C\u4F46\u662F\u5B83\u4EEC\u7684\u751F\u5B58\u671F\u957F\u4E9B\u3002</span>
net.ipv4.tcp_fin_timeout <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># \u5F53keepalive\u8D77\u7528\u7684\u65F6\u5019\uFF0CTCP\u53D1\u9001keepalive\u6D88\u606F\u7684\u9891\u5EA6\u3002\u7F3A\u7701\u662F2\u5C0F\u65F6</span>
net.ipv4.tcp_keepalive_time <span class="token operator">=</span> <span class="token number">30</span>

<span class="token comment"># \u5141\u8BB8\u7CFB\u7EDF\u6253\u5F00\u7684\u7AEF\u53E3\u8303\u56F4</span>
net.ipv4.ip_local_port_range <span class="token operator">=</span> <span class="token number">1024</span>   <span class="token number">65000</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div></li></ol><h3 id="http(s)" tabindex="-1"><span class="prefix"></span><span class="content">HTTP(s)</span><span class="suffix"></span></h3><h4 id="http%2Fhttps%E5%8D%8F%E8%AE%AE" tabindex="-1"><span class="prefix"></span><span class="content">HTTP/HTTPS\u534F\u8BAE</span><span class="suffix"></span></h4><p><strong>\u8D85\u6587\u672C\u4F20\u8F93\u534F\u8BAE</strong>\uFF08\u82F1\u8BED\uFF1A<strong>H</strong>yper<strong>T</strong>ext <strong>T</strong>ransfer <strong>P</strong>rotocol\uFF0C\u7F29\u5199\uFF1A<strong>HTTP</strong>\uFF09\u662F\u4E00\u79CD\u7528\u4E8E\u5206\u5E03\u5F0F\u3001\u534F\u4F5C\u5F0F\u548C\u8D85\u5A92\u4F53\u4FE1\u606F\u7CFB\u7EDF\u7684\u5E94\u7528\u5C42\u534F\u8BAE\uFF0CHTTP\u662F\u4E07\u7EF4\u7F51\u7684\u6570\u636E\u901A\u4FE1\u7684\u57FA\u7840\u3002</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145714.png" alt="A basic HTTP request"></figure><p>\u8BF7\u6C42\u4FE1\u606F\u5305\u62EC\uFF1A\u8BF7\u6C42\u884C\u3001\u8BF7\u6C42\u5934\u3001\u7A7A\u884C\u8FD8\u6709\u5176\u4ED6\u6D88\u606F\u4F53</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145715.png" alt="image-20190605153656594"></figure><p>HTTP\u7684\u7279\u70B9\uFF1A</p><ul><li><p>\u5BA2\u6237\u7AEF&amp;\u670D\u52A1\u7AEF</p></li><li><p>\u7B80\u5355(\u8DEF\u5F84+\u65B9\u6CD5+\u4F20\u9012\u7684\u7C7B\u578B)</p><p>\u5BA2\u6237\u5411\u670D\u52A1\u5668\u8BF7\u6C42\u670D\u52A1\u65F6\uFF0C\u53EA\u9700\u4F20\u9001\u8BF7\u6C42\u65B9\u6CD5\u548C\u8DEF\u5F84\u3002\u8BF7\u6C42\u65B9\u6CD5\u5E38\u7528\u7684\u6709GET\u3001HEAD\u3001POST\u3002\u6BCF\u79CD\u65B9\u6CD5\u89C4\u5B9A\u4E86\u5BA2\u6237\u4E0E\u670D\u52A1\u5668\u8054\u7CFB\u7684\u7C7B\u578B\u4E0D\u540C\u3002\u7531\u4E8EHTTP\u534F\u8BAE\u7B80\u5355\uFF0C\u4F7F\u5F97HTTP\u670D\u52A1\u5668\u7684\u7A0B\u5E8F\u89C4\u6A21\u5C0F\uFF0C\u56E0\u800C\u901A\u4FE1\u901F\u5EA6\u5F88\u5FEB\u3002</p></li><li><p>\u7075\u6D3B</p><p>HTTP\u5141\u8BB8\u4F20\u8F93\u4EFB\u610F\u7C7B\u578B\u7684\u6570\u636E\u5BF9\u8C61\u3002\u6B63\u5728\u4F20\u8F93\u7684\u7C7B\u578B\u7531Content-Type\uFF08Content-Type\u662FHTTP\u5305\u4E2D\u7528\u6765\u8868\u793A\u5185\u5BB9\u7C7B\u578B\u7684\u6807\u8BC6\uFF09\u52A0\u4EE5\u6807\u8BB0\u3002</p></li><li><p>\u65E0\u8FDE\u63A5</p><p>\u65E0\u8FDE\u63A5\u7684\u542B\u4E49\u662F\u9650\u5236\u6BCF\u6B21\u8FDE\u63A5\u53EA\u5904\u7406\u4E00\u4E2A\u8BF7\u6C42\u3002\u670D\u52A1\u5668\u5904\u7406\u5B8C\u5BA2\u6237\u7684\u8BF7\u6C42\uFF0C\u5E76\u6536\u5230\u5BA2\u6237\u7684\u5E94\u7B54\u540E\uFF0C\u5373\u65AD\u5F00\u8FDE\u63A5\u3002\u91C7\u7528\u8FD9\u79CD\u65B9\u5F0F\u53EF\u4EE5\u8282\u7701\u4F20\u8F93\u65F6\u95F4\u3002</p></li><li><p>\u65E0\u72B6\u6001\u6709\u4F1A\u8BDD</p><p>HTTP\u534F\u8BAE\u662F\u65E0\u72B6\u6001\u534F\u8BAE\uFF0C\u65E0\u72B6\u6001\u662F\u6307\u534F\u8BAE\u5BF9\u4E8E\u4E8B\u52A1\u5904\u7406\u6CA1\u6709\u8BB0\u5FC6\u80FD\u529B\u3002</p><p>\u7F3A\u5C11\u72B6\u6001\u610F\u5473\u7740\u5982\u679C\u540E\u7EED\u5904\u7406\u9700\u8981\u524D\u9762\u7684\u4FE1\u606F\uFF0C\u5219\u5B83\u5FC5\u987B\u91CD\u4F20\uFF0C\u8FD9\u6837\u53EF\u80FD\u5BFC\u81F4\u6BCF\u6B21\u8FDE\u63A5\u4F20\u9001\u7684\u6570\u636E\u91CF\u589E\u5927\u3002\u53E6\u4E00\u65B9\u9762\uFF0C\u5728\u670D\u52A1\u5668\u4E0D\u9700\u8981\u5148\u524D\u4FE1\u606F\u65F6\u5B83\u7684\u5E94\u7B54\u5C31\u8F83\u5FEB\u3002</p><blockquote><p>\u6CE8\u610F\uFF0CHTTP\u672C\u8D28\u662F\u65E0\u72B6\u6001\u7684\uFF0C\u4F7F\u7528Cookies\u53EF\u4EE5\u521B\u5EFA\u6709\u72B6\u6001\u7684\u4F1A\u8BDD\u3002</p></blockquote></li></ul><p>HTTP \u7684\u4E0D\u8DB3\u4E4B\u5904</p><ul><li>\u901A\u4FE1\u5185\u5BB9\u4F7F\u7528\u660E\u6587\u2014\u2014\u5185\u5BB9\u53EF\u80FD\u88AB\u7A83\u542C</li><li>\u4E0D\u9A8C\u8BC1\u901A\u4FE1\u65B9\u7684\u8EAB\u4EFD\u2014\u2014\u53EF\u80FD\u906D\u9047\u4F2A\u88C5</li><li>\u65E0\u6CD5\u9A8C\u8BC1\u62A5\u6587\u7684\u5B8C\u6574\u6027\u2014\u2014\u62A5\u6587\u6709\u53EF\u80FD\u5DF2\u906D\u7BE1\u6539</li></ul><p>HTTPS\u534F\u8BAE\uFF1A</p><p><strong>\u8D85\u6587\u672C\u4F20\u8F93\u5B89\u5168\u534F\u8BAE</strong>\uFF08\u82F1\u8BED\uFF1A<strong>H</strong>yper<strong>T</strong>ext <strong>T</strong>ransfer <strong>P</strong>rotocol <strong>S</strong>ecure\uFF0C\u7F29\u5199\uFF1A<strong>HTTPS</strong>\uFF1B\u5E38\u79F0\u4E3AHTTP over TLS\u3001HTTP over SSL\u6216HTTP Secure\uFF09\u662F\u4E00\u79CD\u901A\u8FC7\u8BA1\u7B97\u673A\u7F51\u7EDC\u8FDB\u884C\u5B89\u5168\u901A\u4FE1\u7684\u4F20\u8F93\u534F\u8BAE\u3002HTTPS\u7ECF\u7531HTTP\u8FDB\u884C\u901A\u4FE1\uFF0C\u4F46\u5229\u7528SSL/TLS\u6765\u52A0\u5BC6\u6570\u636E\u5305\u3002HTTPS\u5F00\u53D1\u7684\u4E3B\u8981\u76EE\u7684\uFF0C\u662F\u63D0\u4F9B\u5BF9\u7F51\u7AD9\u670D\u52A1\u5668\u7684\u8EAB\u4EFD\u8BA4\u8BC1\uFF0C\u4FDD\u62A4\u4EA4\u6362\u6570\u636E\u7684\u9690\u79C1\u4E0E\u5B8C\u6574\u6027\u3002\u8FD9\u4E2A\u534F\u8BAE\u7531\u7F51\u666F\u516C\u53F8\uFF08Netscape\uFF09\u57281994\u5E74\u9996\u6B21\u63D0\u51FA\uFF0C\u968F\u540E\u6269\u5C55\u5230\u4E92\u8054\u7F51\u4E0A\u3002</p><p>\u4E3B\u8981\u4F5C\u7528\uFF1A\u5728\u4E0D\u5B89\u5168\u7684\u7F51\u7EDC\u4E0A\u521B\u5EFA\u4E00\u4E2A\u5B89\u5168\u4FE1\u9053\u3002</p><h4 id="https%E8%AE%A4%E8%AF%81%E5%8E%9F%E7%90%86" tabindex="-1"><span class="prefix"></span><span class="content">HTTPS\u8BA4\u8BC1\u539F\u7406</span><span class="suffix"></span></h4><p>\u8BA4\u8BC1\u65B9\u5F0F\uFF1A\u6570\u5B57\u8BC1\u4E66</p><p>\u8BA4\u8BC1\u673A\u6784\uFF1A\u6570\u5B57\u8BC1\u4E66\u8BA4\u8BC1\u673A\u6784\uFF08Certificate Authority CA\uFF09\uFF0CEV SSL\uFF08Extended Validation SSL Certificate\uFF09\u8BC1\u4E66\uFF0COpenSSL\u81EA\u8BA4\u8BC1\u3002</p><p>\u8BC1\u4E66\u4FE1\u4EFB\u65B9\u5F0F\uFF1A</p><ul><li>\u64CD\u4F5C\u7CFB\u7EDF\u548C\u6D4F\u89C8\u5668\u5185\u7F6E</li><li>\u8BC1\u4E66\u9881\u53D1\u673A\u6784</li><li>\u624B\u52A8\u6307\u5B9A\u8BC1\u4E66</li></ul><p>SSL\u63E1\u624B\u8FC7\u7A0B\uFF1A</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145716.png" alt="SSL"></figure><h4 id="%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AEhttps" tabindex="-1"><span class="prefix"></span><span class="content">\u5982\u4F55\u914D\u7F6EHTTPS</span><span class="suffix"></span></h4><ol><li><p><a href="https://letsencrypt.org/" target="_blank" rel="noopener">Let\u2019s Encrypt</a>\u7EC4\u7EC7\u4ECB\u7ECD</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145717.png" alt="image-20190605160738126"></figure></li><li><p>acme\u6765\u81EA\u52A8\u5316\u7533\u8BF7</p><p><a href="https://github.com/Neilpang/acme.sh" target="_blank" rel="noopener">https://github.com/Neilpang/acme.sh</a></p><p>\u524D\u63D0\uFF1A\u9700\u8981\u57DF\u540D</p></li></ol><p>\u524D\u7F6E\u6761\u4EF6\uFF1A</p><ol><li><p>\u57DF\u540D, \u914D\u7F6EDNS\u89E3\u6790\uFF0C\u652F\u6301\u5217\u8868\u89C1\u4E0B\u65B9</p><p><a href="https://github.com/Neilpang/acme.sh/wiki/dnsapi" target="_blank" rel="noopener">https://github.com/Neilpang/acme.sh/wiki/dnsapi</a></p></li><li><p>\u6709<strong>\u516C\u7F51IP</strong>\u7684\u670D\u52A1\u5668(\u53EF\u9009)</p></li><li><p>\u5B89\u88C5nginx, acme.sh</p></li></ol><p>\u914D\u7F6E\u8FC7\u7A0B\uFF1A</p><ol><li><p>\u5B89\u88C5nginx\u4E0Eacme.sh</p><p>\u5B89\u88C5\u5F88\u7B80\u5355, \u4E00\u4E2A\u547D\u4EE4:</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token function">curl</span>  https://get.acme.sh <span class="token operator">|</span> <span class="token function">sh</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>\u666E\u901A\u7528\u6237\u548C root \u7528\u6237\u90FD\u53EF\u4EE5\u5B89\u88C5\u4F7F\u7528. \u5B89\u88C5\u8FC7\u7A0B\u8FDB\u884C\u4E86\u4EE5\u4E0B\u51E0\u6B65:</p><p>\u628A acme.sh \u5B89\u88C5\u5230\u4F60\u7684 <strong>home</strong> \u76EE\u5F55\u4E0B:</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell">~/.acme.sh/
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u5E76\u521B\u5EFA \u4E00\u4E2A bash \u7684 alias, \u65B9\u4FBF\u4F60\u7684\u4F7F\u7528: <code class="">alias acme.sh=~/.acme.sh/acme.sh</code></p><p>\u81EA\u52A8\u4E3A\u4F60\u521B\u5EFA cronjob, \u6BCF\u5929 0:00 \u70B9\u81EA\u52A8\u68C0\u6D4B\u6240\u6709\u7684\u8BC1\u4E66, \u5982\u679C\u5FEB\u8FC7\u671F\u4E86, \u9700\u8981\u66F4\u65B0, \u5219\u4F1A\u81EA\u52A8\u66F4\u65B0\u8BC1\u4E66</p></blockquote><p>\u4F7F\u7528<code class="">source</code>\u547D\u4EE4\uFF0C\u4F7F\u4E0A\u9762\u7684\u5B89\u88C5\u751F\u6548</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token builtin class-name">source</span> ~/.bashrc
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>\u4E24\u79CD\u65B9\u5F0F\uFF0C\u6FC0\u6D3BSSL\u8BC1\u4E66(\u63A8\u8350DNS)</p><ul><li><p><strong>http \u65B9\u5F0F</strong></p><p>\u9700\u8981\u5728\u4F60\u7684\u7F51\u7AD9\u6839\u76EE\u5F55\u4E0B\u653E\u7F6E\u4E00\u4E2A\u6587\u4EF6, \u6765\u9A8C\u8BC1\u4F60\u7684\u57DF\u540D\u6240\u6709\u6743,\u5B8C\u6210\u9A8C\u8BC1. \u7136\u540E\u5C31\u53EF\u4EE5\u751F\u6210\u8BC1\u4E66\u4E86</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">acme.sh  --issue  -d mydomain.com -d www.mydomain.com  --webroot  /home/wwwroot/mydomain.com/
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u53EA\u9700\u8981\u6307\u5B9A\u57DF\u540D, \u5E76\u6307\u5B9A\u57DF\u540D\u6240\u5728\u7684\u7F51\u7AD9\u6839\u76EE\u5F55. <strong>acme.sh</strong> \u4F1A\u5168\u81EA\u52A8\u7684\u751F\u6210\u9A8C\u8BC1\u6587\u4EF6, \u5E76\u653E\u5230\u7F51\u7AD9\u7684\u6839\u76EE\u5F55, \u7136\u540E\u81EA\u52A8\u5B8C\u6210\u9A8C\u8BC1. \u6700\u540E\u4F1A\u806A\u660E\u7684\u5220\u9664\u9A8C\u8BC1\u6587\u4EF6. \u6574\u4E2A\u8FC7\u7A0B\u6CA1\u6709\u4EFB\u4F55\u526F\u4F5C\u7528.</p><p>\u5982\u679C\u4F60\u7528\u7684 <strong>apache</strong>\u670D\u52A1\u5668, <strong>acme.sh</strong> \u8FD8\u53EF\u4EE5\u667A\u80FD\u7684\u4ECE <strong>apache</strong>\u7684\u914D\u7F6E\u4E2D\u81EA\u52A8\u5B8C\u6210\u9A8C\u8BC1, \u4F60\u4E0D\u9700\u8981\u6307\u5B9A\u7F51\u7AD9\u6839\u76EE\u5F55:</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">acme.sh --issue  -d mydomain.com   --apache
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u5982\u679C\u4F60\u7528\u7684 <strong>nginx</strong>\u670D\u52A1\u5668, \u6216\u8005\u53CD\u4EE3, <strong>acme.sh</strong> \u8FD8\u53EF\u4EE5\u667A\u80FD\u7684\u4ECE <strong>nginx</strong>\u7684\u914D\u7F6E\u4E2D\u81EA\u52A8\u5B8C\u6210\u9A8C\u8BC1, \u4F60\u4E0D\u9700\u8981\u6307\u5B9A\u7F51\u7AD9\u6839\u76EE\u5F55:</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">acme.sh --issue  -d mydomain.com   --nginx
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p><strong>dns \u65B9\u5F0F</strong>(\u63A8\u8350)</p><p>\u5728\u57DF\u540D\u4E0A\u6DFB\u52A0\u4E00\u6761 txt \u89E3\u6790\u8BB0\u5F55, \u9A8C\u8BC1\u57DF\u540D\u6240\u6709\u6743\u3002</p><p>\u8FD9\u79CD\u65B9\u5F0F\u7684\u597D\u5904\u662F, \u4F60\u4E0D\u9700\u8981\u4EFB\u4F55\u670D\u52A1\u5668, <strong>\u4E0D\u9700\u8981\u4EFB\u4F55\u516C\u7F51 ip, \u53EA\u9700\u8981 dns \u7684\u89E3\u6790\u8BB0\u5F55\u5373\u53EF\u5B8C\u6210\u9A8C\u8BC1</strong>. \u574F\u5904\u662F\uFF0C\u5982\u679C\u4E0D\u540C\u65F6\u914D\u7F6E Automatic DNS API\uFF0C\u4F7F\u7528\u8FD9\u79CD\u65B9\u5F0F acme.sh \u5C06\u65E0\u6CD5\u81EA\u52A8\u66F4\u65B0\u8BC1\u4E66\uFF0C\u6BCF\u6B21\u90FD\u9700\u8981\u624B\u52A8\u518D\u6B21\u91CD\u65B0\u89E3\u6790\u9A8C\u8BC1\u57DF\u540D\u6240\u6709\u6743\u3002</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">acme.sh  --issue  --dns   -d mydomain.com
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u7136\u540E, <strong>acme.sh</strong> \u4F1A\u751F\u6210\u76F8\u5E94\u7684\u89E3\u6790\u8BB0\u5F55\u663E\u793A\u51FA\u6765, \u4F60\u53EA\u9700\u8981\u5728\u4F60\u7684\u57DF\u540D\u7BA1\u7406\u9762\u677F\u4E2D\u6DFB\u52A0\u8FD9\u6761 txt \u8BB0\u5F55\u5373\u53EF.</p><p>\u7B49\u5F85\u89E3\u6790\u5B8C\u6210\u4E4B\u540E, \u91CD\u65B0\u751F\u6210\u8BC1\u4E66:</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell">acme.sh  --renew   -d mydomain.com
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u6CE8\u610F\u7B2C\u4E8C\u6B21\u8FD9\u91CC\u7528\u7684\u662F <code class="">--renew</code></p><p>dns \u65B9\u5F0F\u7684\u771F\u6B63\u5F3A\u5927\u4E4B\u5904\u5728\u4E8E\u53EF\u4EE5\u4F7F\u7528\u57DF\u540D\u89E3\u6790\u5546\u63D0\u4F9B\u7684 api \u81EA\u52A8\u6DFB\u52A0 txt \u8BB0\u5F55\u5B8C\u6210\u9A8C\u8BC1.</p><p><strong>acme.sh</strong> \u76EE\u524D\u652F\u6301 cloudflare, dnspod, cloudxns, godaddy \u4EE5\u53CA ovh \u7B49\u6570\u5341\u79CD\u89E3\u6790\u5546\u7684\u81EA\u52A8\u96C6\u6210.</p><p>\u4EE5 dnspod \u4E3A\u4F8B, \u4F60\u9700\u8981\u5148\u767B\u5F55\u5230 dnspod \u8D26\u53F7, \u751F\u6210\u4F60\u7684 api id \u548C api key, \u90FD\u662F\u514D\u8D39\u7684. \u7136\u540E:</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell"><span class="token builtin class-name">export</span> <span class="token assign-left variable">DP_Id</span><span class="token operator">=</span><span class="token string">&quot;1234&quot;</span>

<span class="token builtin class-name">export</span> <span class="token assign-left variable">DP_Key</span><span class="token operator">=</span><span class="token string">&quot;sADDsdasdgdsf&quot;</span>

acme.sh   --issue   --dns dns_dp   -d aa.com  -d www.aa.com
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u8BC1\u4E66\u5C31\u4F1A\u81EA\u52A8\u751F\u6210\u4E86. \u8FD9\u91CC\u7ED9\u51FA\u7684 api id \u548C api key \u4F1A\u88AB\u81EA\u52A8\u8BB0\u5F55\u4E0B\u6765, \u5C06\u6765\u4F60\u5728\u4F7F\u7528 dnspod api \u7684\u65F6\u5019, \u5C31\u4E0D\u9700\u8981\u518D\u6B21\u6307\u5B9A\u4E86. \u76F4\u63A5\u751F\u6210\u5C31\u597D\u4E86:</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell">acme.sh  --issue   -d  mydomain2.com   --dns  dns_dp
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li><li><p>\u914D\u7F6Enginx\u914D\u7F6E\uFF0C\u8BBE\u7F6E\u5B9A\u65F6\u4EFB\u52A1</p><p>\u751F\u6210dhparam.pem</p><div class="language-shell ext-shell code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-shell line-numbers-mode"><code class="language-shell">$ openssl dhparam -out dhparam.pem <span class="token number">2048</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>nginx\u4E2D\u6B63\u786E\u7684\u4F7F\u7528\u65B9\u6CD5\u662F\u4F7F\u7528 <code class="">--installcert</code> \u547D\u4EE4,\u5E76\u6307\u5B9A\u76EE\u6807\u4F4D\u7F6E, \u7136\u540E\u8BC1\u4E66\u6587\u4EF6\u4F1A\u88ABcopy\u5230\u76F8\u5E94\u7684\u4F4D\u7F6E, \u4F8B\u5982:</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash">acme.sh  --installcert  -d  <span class="token operator">&lt;</span>domain<span class="token operator">&gt;</span>.com   <span class="token punctuation">\\</span>
        --key-file   /etc/nginx/ssl/<span class="token operator">&lt;</span>domain<span class="token operator">&gt;</span>.key <span class="token punctuation">\\</span>
        --fullchain-file /etc/nginx/ssl/fullchain.cer <span class="token punctuation">\\</span>
        --reloadcmd  <span class="token string">&quot;service nginx force-reload&quot;</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u914D\u7F6E\u6587\u4EF6\uFF1A</p><div class="language-bash ext-bash code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-bash line-numbers-mode"><code class="language-bash"><span class="token comment"># server\u90E8\u5206</span>
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
    ssl_prefer_server_ciphers on<span class="token punctuation">;</span>
    ssl on<span class="token punctuation">;</span>
    ssl_certificate         /etc/nginx/ssl/fullchain.cer<span class="token punctuation">;</span>
    ssl_certificate_key     /etc/nginx/ssl/<span class="token operator">&lt;</span>domain<span class="token operator">&gt;</span>.key<span class="token punctuation">;</span>
    <span class="token comment"># ssl_dhparam</span>
    ssl_dhparam             /etc/nginx/ssl/dhparam.pem<span class="token punctuation">;</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u5BF9\u7F51\u7AD9\u7684SSL\u8FDB\u884C\u68C0\u9A8C</p><p>\u63A8\u8350\uFF1A<a href="https://ssllabs.com/ssltest/analyze.html" target="_blank" rel="noopener">https://ssllabs.com/ssltest/analyze.html</a></p></li><li><p>\u5176\u4ED6\u9700\u8981\u6CE8\u610F\u7684\u5730\u65B9\uFF1A</p><ul><li>\u57DF\u540D\u5907\u6848</li><li>\u9632\u706B\u5899</li></ul></li></ol><h2 id="%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8" tabindex="-1"><span class="prefix"></span><span class="content">\u4E91\u670D\u52A1\u5668</span><span class="suffix"></span></h2><h3 id="%E9%98%BF%E9%87%8C%E4%BA%91ecs" tabindex="-1"><span class="prefix"></span><span class="content">\u963F\u91CC\u4E91ECS</span><span class="suffix"></span></h3><h4 id="%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86" tabindex="-1"><span class="prefix"></span><span class="content">\u865A\u62DF\u5316\u6280\u672F\u539F\u7406</span><span class="suffix"></span></h4><p><strong>\u865A\u62DF\u5316</strong>\uFF1A\u5728\u8BA1\u7B97\u673A\u6280\u672F\u4E2D\uFF0C\u865A\u62DF\u5316\uFF08\u6280\u672F\uFF09\u6216\u865A\u62DF\u6280\u672F\uFF08\u82F1\u8BED\uFF1AVirtualization\uFF09\u662F\u4E00\u79CD\u8D44\u6E90\u7BA1\u7406\u6280\u672F\uFF0C\u662F\u5C06\u8BA1\u7B97\u673A\u7684\u5404\u79CD\u5B9E\u4F53\u8D44\u6E90\uFF08CPU\u3001\u5185\u5B58\u3001\u78C1\u76D8\u7A7A\u95F4\u3001\u7F51\u7EDC\u9002\u914D\u5668\u7B49\uFF09\uFF0C\u4E88\u4EE5\u62BD\u8C61\u3001\u8F6C\u6362\u540E\u5448\u73B0\u51FA\u6765\u5E76\u53EF\u4F9B\u5206\u533A\u3001\u7EC4\u5408\u4E3A\u4E00\u4E2A\u6216\u591A\u4E2A\u7535\u8111\u914D\u7F6E\u73AF\u5883\u3002</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145718.png" alt="img"></figure><p>\u4E3B\u8981\u7684\u76EE\u7684\uFF1A\u964D\u4F4E\u6210\u672C\uFF0C\u63D0\u9AD8\u5E94\u7528\u517C\u5BB9\u6027\uFF0C\u63D0\u9AD8\u670D\u52A1\u53EF\u7528\u6027\uFF0C\u63D0\u5347\u8D44\u6E90\u590D\u7528\u7387\u3002</p><p>\u865A\u62DF\u5316\u5206\u7C7B\uFF1A</p><p>\u4E3B\u8981\u6709\u5168\u865A\u62DF\u5316\u548C\u534A\u865A\u62DF\u5316\u3002</p><p>\u5178\u578B\u7684\u5168\u865A\u62DF\u5316\u8F6F\u4EF6\u6709 \u2014\u2014 VMWare\u3001Hyper-V\u3001KVM-x86(\u590D\u6742\u6307\u4EE4\u96C6)\u3002</p><p>\u5178\u578B\u7684\u534A\u865A\u62DF\u5316\u8F6F\u4EF6\u6709\u2014\u2014Xen\u3001KVM-PowerPC(\u7B80\u6613\u6307\u4EE4\u96C6\uFF09</p><p>\u53C2\u8003\u8D44\u6599\uFF1A<a href="https://yq.aliyun.com/articles/48867" target="_blank" rel="noopener">\u865A\u62DF\u5316\u7684\u53D1\u5C55\u5386\u7A0B\u548C\u5B9E\u73B0\u539F\u7406\u2014\u2014\u56FE\u6587\u8BE6\u89E3</a>\uFF0C<a href="http://virtual.51cto.com/art/201803/569228.htm" target="_blank" rel="noopener">\u865A\u62DF\u5316\u7C7B\u578B</a></p><h4 id="%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8" tabindex="-1"><span class="prefix"></span><span class="content">\u5982\u4F55\u9009\u62E9\u4E91\u670D\u52A1\u5668</span><span class="suffix"></span></h4><ol><li><p>\u4ECE\u786C\u4EF6</p><p>\u4F7F\u7528\u963F\u91CC\u4E91\u7684\u5DE5\u5177\u8FDB\u884C\u7B5B\u9009\uFF0C\u9700\u8981\u767B\u5F55\uFF0C\u94FE\u63A5\uFF1A<a href="https://ecs-buy.aliyun.com/instanceTypes" target="_blank" rel="noopener">ECS \u5B9E\u4F8B\u89C4\u683C\u53EF\u8D2D\u4E70\u5730\u57DF\u603B\u89C8</a></p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145719.jpg" alt="image-20190604221840417"></figure></li><li><p>\u4ECE\u7F51\u7EDC</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145720.png" alt="Explanation"></figure><p>\u4E91\u670D\u52A1\u5668 ECS \u7684\u5165\u7F51\u5E26\u5BBD\u548C\u51FA\u7F51\u5E26\u5BBD\u7686\u4EE5\u670D\u52A1\u5668\u89D2\u5EA6\u51FA\u53D1\u3002\u4E0B\u8868\u7ED9\u51FA\u4E86\u5165\u7F51\u5E26\u5BBD\u548C\u51FA\u7F51\u5E26\u5BBD\u7684\u5177\u4F53\u5185\u5BB9\uFF1A</p><table><thead><tr><th style="text-align:left;">\u5E26\u5BBD\u7C7B\u522B \uFF08Mbit/s\uFF09</th><th style="text-align:left;">\u63CF\u8FF0</th></tr></thead><tbody><tr><td style="text-align:left;">\u5165\u7F51\u5E26\u5BBD</td><td style="text-align:left;">\u6D41\u5165\u4E91\u670D\u52A1\u5668 ECS \u7684\u5E26\u5BBD \u4ECE\u4E91\u670D\u52A1\u5668 ECS \u5185\u90E8\u4E0B\u8F7D\u5916\u90E8\u7F51\u7EDC\u8D44\u6E90\uFF0C\u6216\u8005\u4ECE\u5BA2\u6237\u7AEF FTP \u7B49\u65B9\u5F0F\u4E0A\u4F20\u8D44\u6E90\u5230\u4E91\u670D\u52A1\u5668 ECS \u90FD\u662F\u5165\u7F51\u5E26\u5BBD\u3002</td></tr><tr><td style="text-align:left;">\u51FA\u7F51\u5E26\u5BBD</td><td style="text-align:left;">\u6D41\u51FA\u4E91\u670D\u52A1\u5668 ECS \u7684\u5E26\u5BBD \u4ECE\u4E91\u670D\u52A1\u5668 ECS \u5BF9\u5916\u63D0\u4F9B\u8BBF\u95EE\uFF0C\u6216\u8005\u4ECE\u5BA2\u6237\u7AEF FTP \u7B49\u65B9\u5F0F\u4E0B\u8F7D\u4E91\u670D\u52A1\u5668 ECS \u5185\u90E8\u8D44\u6E90\u90FD\u662F\u51FA\u7F51\u5E26\u5BBD\uFF0C\u4E91\u670D\u52A1\u5668 ECS \u51FA\u7F51\u5E26\u5BBD\u5C31\u662F\u8D2D\u4E70\u7684\u5E26\u5BBD\u503C\u3002</td></tr></tbody></table><p>\u63A8\u8350\u516C\u53F8\u4F7F\u7528\u56FA\u5B9A\u5E26\u5BBD\uFF0C\u5BF9\u4E8E\u6D4B\u8BD5\u7528\u6237\u6216\u8005\u6D41\u91CF\u6BD4\u8F83\u5C0F\u7684\u7528\u6237\u4F7F\u7528\u6309\u91CF\u8BA1\u8D39\u5E26\u5BBD\u3002</p><p>\u4E3E\u4F8B\u5E94\u7528\u573A\u666F\uFF1A\u516C\u53F8\u7F51\u7AD9\u5C55\u793A\u7C7B\u578B(\u6309\u91CF\u8BA1\u8D39)\uFF0C\u89C6\u9891(\u56FA\u5B9A\u5E26\u5BBD)</p><p>\u540E\u671F\u8FD8\u53EF\u4EE5\u8D2D\u4E70CDN\u52A0\u901F\uFF0C\u5206\u62C5\u9759\u6001\u8D44\u6E90\u7684\u6D41\u91CF\u3002</p></li><li><p>\u4ECE\u5730\u57DF</p><p>\u6BCF\u4E2A\u5730\u57DF\u5B8C\u5168\u72EC\u7ACB\u3002\u6BCF\u4E2A\u53EF\u7528\u533A\u5B8C\u5168\u9694\u79BB\uFF0C\u4F46\u540C\u4E00\u4E2A\u5730\u57DF\u5185\u7684\u53EF\u7528\u533A\u4E4B\u95F4\u4F7F\u7528\u4F4E\u65F6\u5EF6\u94FE\u8DEF\u76F8\u8FDE\u3002\u5730\u57DF\u548C\u53EF\u7528\u533A\u4E4B\u95F4\u7684\u5173\u7CFB\u5982\u4E0B\u56FE\u6240\u793A\u3002</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145721.png" alt="img"></figure><ul><li><p>\u4E2D\u56FD\u5927\u9646</p><p>\u4E00\u822C\u60C5\u51B5\u4E0B\u5EFA\u8BAE\u9009\u62E9\u548C\u60A8\u76EE\u6807\u7528\u6237\u6240\u5728\u5730\u57DF\u6700\u4E3A\u63A5\u8FD1\u7684\u6570\u636E\u4E2D\u5FC3\uFF0C\u53EF\u4EE5\u8FDB\u4E00\u6B65\u63D0\u5347\u7528\u6237\u8BBF\u95EE\u901F\u5EA6\u3002\u4E0D\u8FC7\uFF0C\u5728\u57FA\u7840\u8BBE\u65BD\u3001BGP \u7F51\u7EDC\u54C1\u8D28\u3001\u670D\u52A1\u8D28\u91CF\u3001\u4E91\u670D\u52A1\u5668\u64CD\u4F5C\u4F7F\u7528\u4E0E\u914D\u7F6E\u7B49\u65B9\u9762\uFF0C\u963F\u91CC\u4E91\u4E2D\u56FD\u5927\u9646\u5730\u57DF\u6CA1\u6709\u592A\u5927\u533A\u522B\u3002BGP \u7F51\u7EDC\u53EF\u4EE5\u4FDD\u8BC1\u4E2D\u56FD\u5927\u9646\u5168\u90E8\u5730\u57DF\u7684\u5FEB\u901F\u8BBF\u95EE\u3002</p></li><li><p>\u5176\u4ED6\u56FD\u5BB6\u53CA\u5730\u533A</p><p>\u5176\u4ED6\u56FD\u5BB6\u53CA\u5730\u533A\u63D0\u4F9B\u56FD\u9645\u5E26\u5BBD\uFF0C\u4E3B\u8981\u9762\u5411\u975E\u4E2D\u56FD\u5927\u9646\u5730\u533A\u7528\u6237\u3002\u5982\u679C\u60A8\u5728\u4E2D\u56FD\u5927\u9646\uFF0C\u4F7F\u7528\u8FD9\u4E9B\u5730\u57DF\u4F1A\u6709\u8F83\u957F\u7684\u8BBF\u95EE\u5EF6\u8FDF\uFF0C\u4E0D\u5EFA\u8BAE\u60A8\u4F7F\u7528\u3002</p><ul><li>\u5BF9\u9999\u6E2F\u3001\u4E1C\u5357\u4E9A\u6709\u9700\u6C42\u7684\u7528\u6237\uFF0C\u53EF\u4EE5\u9009\u62E9\u9999\u6E2F\u5730\u57DF\u3001\u4E9A\u592A\u4E1C\u5357 1 \u5730\u57DF\u3001\u4E9A\u592A\u4E1C\u5357 3 \u5730\u57DF\u6216\u4E9A\u592A\u4E1C\u5357 5 \u5730\u57DF\u3002</li><li>\u5BF9\u65E5\u3001\u97E9\u6709\u9700\u6C42\u7684\u7528\u6237\uFF0C\u53EF\u4EE5\u9009\u62E9\u4E9A\u592A\u4E1C\u5317 1 \u5730\u57DF\u3002</li><li>\u5BF9\u5370\u5EA6\u6709\u9700\u6C42\u7684\u7528\u6237\uFF0C\u53EF\u4EE5\u9009\u62E9\u4E9A\u592A\u5357\u90E8 1 \u5730\u57DF\u3002</li><li>\u5BF9\u6FB3\u5927\u5229\u4E9A\u5730\u533A\u6709\u9700\u6C42\u7684\u7528\u6237\uFF0C\u53EF\u4EE5\u9009\u62E9\u4E9A\u592A\u4E1C\u5357 2 \u5730\u57DF\u3002</li><li>\u5BF9\u7F8E\u6D32\u6709\u9700\u6C42\u7528\u6237\uFF0C\u53EF\u4EE5\u9009\u62E9\u7F8E\u56FD\u5730\u57DF\u3002</li><li>\u5BF9\u6B27\u6D32\u5927\u9646\u6709\u9700\u6C42\u7684\u7528\u6237\uFF0C\u53EF\u4EE5\u9009\u62E9\u6B27\u6D32\u4E2D\u90E8 1 \u5730\u57DF\u3002</li><li>\u5BF9\u4E2D\u4E1C\u5730\u533A\u6709\u9700\u6C42\u7684\u7528\u6237\uFF0C\u53EF\u4EE5\u9009\u62E9\u4E2D\u4E1C\u4E1C\u90E8 1 \u5730\u57DF\u3002</li></ul></li></ul></li><li><p>\u4ECE\u8D39\u7528</p></li></ol><h4 id="%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%B4%AD%E4%B9%B0" tabindex="-1"><span class="prefix"></span><span class="content">\u4E91\u670D\u52A1\u5668\u8D2D\u4E70</span><span class="suffix"></span></h4><h4 id="%E8%AE%A4%E8%AF%86%E6%8E%A7%E5%88%B6%E5%8F%B0" tabindex="-1"><span class="prefix"></span><span class="content">\u8BA4\u8BC6\u63A7\u5236\u53F0</span><span class="suffix"></span></h4><h3 id="%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93rds" tabindex="-1"><span class="prefix"></span><span class="content">\u4E91\u6570\u636E\u5E93RDS</span><span class="suffix"></span></h3><h4 id="%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8B%E7%BB%8D" tabindex="-1"><span class="prefix"></span><span class="content">\u4E91\u6570\u636E\u5E93\u4ECB\u7ECD</span><span class="suffix"></span></h4><ol><li><p>\u57FA\u672C\u6982\u5FF5</p><p>\u963F\u91CC\u4E91\u7CFB\u4EA7\u54C1\uFF1A\u4E91\u6570\u636E\u5E93RDS\uFF08ApsaraDB for RDS\uFF0C\u7B80\u79F0RDS\uFF09\u662F\u4E00\u79CD\u7A33\u5B9A\u53EF\u9760\u3001\u53EF\u5F39\u6027\u4F38\u7F29\u7684\u5728\u7EBF\u6570\u636E\u5E93\u670D\u52A1\u3002\u57FA\u4E8E\u98DE\u5929\u5206\u5E03\u5F0F\u7CFB\u7EDF\u548C\u5168SSD\u76D8\u9AD8\u6027\u80FD\u5B58\u50A8\uFF0C\u652F\u6301MySQL\u3001SQL Server\u3001PostgreSQL\u548CPPAS\uFF08\u9AD8\u5EA6\u517C\u5BB9Oracle)\u5F15\u64CE\uFF0C\u9ED8\u8BA4\u90E8\u7F72\u4E3B\u5907\u67B6\u6784\u4E14\u63D0\u4F9B\u4E86\u5BB9\u707E\u3001\u5907\u4EFD\u3001\u6062\u590D\u3001\u76D1\u63A7\u3001\u8FC1\u79FB\u7B49\u65B9\u9762\u7684\u5168\u5957\u89E3\u51B3\u65B9\u6848\uFF0C\u5F7B\u5E95\u89E3\u51B3\u6570\u636E\u5E93\u8FD0\u7EF4\u7684\u70E6\u607C\uFF01</p><p>\u4E9A\u9A6C\u900A\u7CFB\u4EA7\u54C1\uFF1AAmazon Relational Database Service (Amazon RDS) \u8BA9\u60A8\u80FD\u591F\u5728\u4E91\u4E2D\u8F7B\u677E\u8BBE\u7F6E\u3001\u64CD\u4F5C\u548C\u6269\u5C55\u5173\u7CFB\u6570\u636E\u5E93\u3002\u5B83\u5728\u81EA\u52A8\u6267\u884C\u8017\u65F6\u7684\u7BA1\u7406\u4EFB\u52A1\uFF08\u5982<strong>\u786C\u4EF6\u9884\u7F6E\u3001\u6570\u636E\u5E93\u8BBE\u7F6E\u3001\u4FEE\u8865\u548C\u5907\u4EFD</strong>\uFF09\u7684\u540C\u65F6\uFF0C\u53EF\u63D0\u4F9B\u7ECF\u6D4E\u5B9E\u7528\u7684\u53EF\u8C03\u5BB9\u91CF\u3002\u8FD9\u4F7F\u60A8\u80FD\u591F\u817E\u51FA\u65F6\u95F4\u4E13\u6CE8\u4E8E\u5E94\u7528\u7A0B\u5E8F\uFF0C\u4E3A\u5B83\u4EEC\u63D0\u4F9B\u6240\u9700\u7684\u5FEB\u901F\u6027\u80FD\u3001\u9AD8\u53EF\u7528\u6027\u3001\u5B89\u5168\u6027\u548C\u517C\u5BB9\u6027\u3002</p><p>Amazon RDS \u5728\u591A\u79CD\u7C7B\u578B\u7684\u6570\u636E\u5E93\u5B9E\u4F8B\uFF08\u9488\u5BF9\u5185\u5B58\u3001\u6027\u80FD\u6216 I/O \u8FDB\u884C\u4E86\u4F18\u5316\u7684\u5B9E\u4F8B\uFF09\u4E0A\u5747\u53EF\u7528\uFF0C\u5E76\u63D0\u4F9B\u516D\u79CD\u5E38\u7528\u7684\u6570\u636E\u5E93\u5F15\u64CE\u4F9B\u60A8\u9009\u62E9\uFF0C\u5305\u62EC Amazon Aurora\u3001PostgreSQL\u3001MySQL\u3001MariaDB\u3001Oracle Database \u548C SQL Server\u3002\u60A8\u53EF\u4EE5\u4F7F\u7528 AWS Database Migration Service <strong>\u8F7B\u677E</strong>\u5C06\u60A8\u73B0\u6709\u7684<strong>\u6570\u636E\u5E93\u8FC1\u79FB\u6216\u590D\u5236\u5230 Amazon RDS</strong>\u3002</p></li><li><p>\u7279\u70B9\uFF1A</p><table><thead><tr><th>\u7C7B\u578B</th><th>\u7279\u70B9</th></tr></thead><tbody><tr><td>\u8F7B\u677E\u7BA1\u7406</td><td>GUI\u9875\u9762\uFF0C\u4ECE\u90E8\u7F72\u5230\u751F\u4EA7\u6570\u636E\u5E93</td></tr><tr><td>\u53EF\u6269\u5C55</td><td>\u4FEE\u6539CPU/\u5185\u5B58/\u5B58\u50A8\u8D44\u6E90</td></tr><tr><td>\u9AD8\u53EF\u7528</td><td>\u81EA\u52A8\u5907\u4EFD\u3001\u5FEB\u7167 \u3001\u81EA\u52A8\u4E3B\u673A\u66F4\u6362</td></tr><tr><td>\u901F\u5EA6\u5FEB</td><td>\u53EF\u9009SSD</td></tr><tr><td>\u5B89\u5168</td><td>\u53EF\u5EFA\u7ACB\u4E13\u7F51\uFF0C\u6216\u8005\u8FDE\u63A5\u5230\u4F7F\u7528VPN</td></tr><tr><td>\u7ECF\u6D4E</td><td>\u7F51\u7EDC\u6210\u672C\u3001\u8FD0\u7EF4\u6210\u672C\u90FD\u4F4E</td></tr></tbody></table></li></ol><p><strong>\u4F7F\u7528\u4E9A\u9A6C\u900A\u7684RDS\u4F5C\u4E3A\u6F14\u793A</strong></p><h4 id="%E5%B8%B8%E8%A7%81rds-mysql%E8%B4%AD%E4%B9%B0%E4%B8%8E%E6%93%8D%E4%BD%9C" tabindex="-1"><span class="prefix"></span><span class="content">\u5E38\u89C1RDS-MySQL\u8D2D\u4E70\u4E0E\u64CD\u4F5C</span><span class="suffix"></span></h4><ol><li><p>\u8D2D\u4E70\u5730\u5740</p><p>\u963F\u91CC\u4E91\uFF1A<a href="https://cn.aliyun.com/product/rds" target="_blank" rel="noopener">https://cn.aliyun.com/product/rds</a></p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145722.jpg" alt="image-20190605084317131"></figure><p>\u4E9A\u9A6C\u900A\uFF1A<a href="https://aws.amazon.com/cn/rds/" target="_blank" rel="noopener">https://aws.amazon.com/cn/rds/</a></p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145723.png" alt="image-20190605084341568"></figure></li><li><p>\u64CD\u4F5C\u9762\u677F\u4ECB\u7ECD(\u4EE5\u4E9A\u9A6C\u900A\u4E3A\u4E3B)</p></li></ol><h4 id="%E5%A4%87%E4%BB%BD%E4%B8%8E%E5%BF%AB%E7%85%A7" tabindex="-1"><span class="prefix"></span><span class="content">\u5907\u4EFD\u4E0E\u5FEB\u7167</span><span class="suffix"></span></h4><h3 id="%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1slb" tabindex="-1"><span class="prefix"></span><span class="content">\u8D1F\u8F7D\u5747\u8861SLB</span><span class="suffix"></span></h3><h4 id="%E4%BB%80%E4%B9%88%E6%98%AF%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1" tabindex="-1"><span class="prefix"></span><span class="content">\u4EC0\u4E48\u662F\u8D1F\u8F7D\u5747\u8861</span><span class="suffix"></span></h4><p>\u8D1F\u8F7D\u5747\u8861\uFF08Server Load Balancer\uFF09\u662F\u5BF9\u591A\u53F0\u4E91\u670D\u52A1\u5668\u8FDB\u884C\u6D41\u91CF<strong>\u5206\u53D1</strong>\u7684\u8D1F\u8F7D\u5747\u8861\u670D\u52A1\u3002\u8D1F\u8F7D\u5747\u8861\u53EF\u4EE5\u901A\u8FC7\u6D41\u91CF\u5206\u53D1\u6269\u5C55\u5E94\u7528\u7CFB\u7EDF\u5BF9\u5916\u7684\u670D\u52A1\u80FD\u529B\uFF0C\u901A\u8FC7\u6D88\u9664\u5355\u70B9\u6545\u969C\u63D0\u5347\u5E94\u7528\u7CFB\u7EDF\u7684\u53EF\u7528\u6027\u3002</p><h4 id="slb%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D" tabindex="-1"><span class="prefix"></span><span class="content">SLB\u529F\u80FD\u4ECB\u7ECD</span><span class="suffix"></span></h4><p>\u8D1F\u8F7D\u5747\u8861\u901A\u8FC7\u8BBE\u7F6E\u865A\u62DF\u670D\u52A1\u5730\u5740\uFF0C\u5C06\u6DFB\u52A0\u7684ECS\u5B9E\u4F8B\u865A\u62DF\u6210\u4E00\u4E2A\u9AD8\u6027\u80FD\u3001\u9AD8\u53EF\u7528\u7684\u5E94\u7528\u670D\u52A1\u6C60\uFF0C\u5E76\u6839\u636E\u8F6C\u53D1\u89C4\u5219\uFF0C\u5C06\u6765\u81EA\u5BA2\u6237\u7AEF\u7684\u8BF7\u6C42\u5206\u53D1\u7ED9\u4E91\u670D\u52A1\u5668\u6C60\u4E2D\u7684ECS\u5B9E\u4F8B\u3002</p><p>\u8D1F\u8F7D\u5747\u8861\u9ED8\u8BA4\u68C0\u67E5\u4E91\u670D\u52A1\u5668\u6C60\u4E2D\u7684ECS\u5B9E\u4F8B\u7684\u5065\u5EB7\u72B6\u6001\uFF0C\u81EA\u52A8\u9694\u79BB\u5F02\u5E38\u72B6\u6001\u7684ECS\u5B9E\u4F8B\uFF0C\u6D88\u9664\u4E86\u5355\u53F0ECS\u5B9E\u4F8B\u7684\u5355\u70B9\u6545\u969C\uFF0C\u63D0\u9AD8\u4E86\u5E94\u7528\u7684\u6574\u4F53\u670D\u52A1\u80FD\u529B\u3002\u6B64\u5916\uFF0C\u8D1F\u8F7D\u5747\u8861\u8FD8\u5177\u5907\u6297DDoS\u653B\u51FB\u7684\u80FD\u529B\uFF0C\u589E\u5F3A\u4E86\u5E94\u7528\u670D\u52A1\u7684\u9632\u62A4\u80FD\u529B\u3002</p><p>\u57FA\u672C\u7684\u529F\u80FD\uFF1A</p><ol><li><p><strong>\u8C03\u5EA6</strong></p><p><strong>\u8D1F\u8F7D\u5747\u8861\u652F\u6301\u8F6E\u8BE2\u3001\u52A0\u6743\u8F6E\u8BE2\uFF08WRR\uFF09\u3001\u52A0\u6743\u6700\u5C0F\u8FDE\u63A5\u6570\uFF08WLC\uFF09\u548C\u4E00\u81F4\u6027\u54C8\u5E0C\uFF08CH\uFF09\u8C03\u5EA6\u7B97\u6CD5\u3002</strong></p></li><li><p>\u5065\u5EB7\u68C0\u67E5</p><p>\u8D1F\u8F7D\u5747\u8861\u4F1A\u68C0\u67E5\u540E\u7AEF\u670D\u52A1\u5668\u7684\u8FD0\u884C\u72B6\u51B5\u3002\u5F53\u63A2\u6D4B\u5230\u540E\u7AEF\u670D\u52A1\u5668\u8FD0\u884C\u72B6\u51B5\u4E0D\u4F73\u65F6\uFF0C\u4F1A\u505C\u6B62\u5411\u5176\u53D1\u9001\u6D41\u91CF\uFF0C\u7136\u540E\u5C06\u6D41\u91CF\u8F6C\u53D1\u7ED9\u5176\u4ED6\u6B63\u5E38\u8FD0\u884C\u7684\u540E\u7AEF\u670D\u52A1\u5668\u3002</p></li><li><p>\u4F1A\u8BDD\u4FDD\u6301</p><p>\u8D1F\u8F7D\u5747\u8861\u63D0\u4F9B\u4F1A\u8BDD\u4FDD\u6301\u529F\u80FD\u3002\u5728\u4F1A\u8BDD\u7684\u751F\u547D\u5468\u671F\u5185\uFF0C\u53EF\u4EE5\u5C06\u540C\u4E00\u5BA2\u6237\u7AEF\u7684\u8BF7\u6C42\u8F6C\u53D1\u5230\u540C\u4E00\u53F0\u540E\u7AEF\u670D\u52A1\u5668\u4E0A\u3002</p></li><li><p>\u8BBF\u95EE\u63A7\u5236</p></li><li><p>\u9AD8\u53EF\u7528</p><p>\u8D1F\u8F7D\u5747\u8861\u53EF\u4EE5\u5C06\u6D41\u91CF\u8F6C\u53D1\u7ED9\u591A\u4E2A\u53EF\u7528\u533A\u7684\u540E\u7AEF\u670D\u52A1\u5668\u3002\u5E76\u4E14\uFF0C\u8D1F\u8F7D\u5747\u8861\u5DF2\u7ECF\u5728\u5927\u90E8\u5206\u5730\u57DF\u652F\u6301\u4E86\u591A\u53EF\u7528\u533A\u90E8\u7F72\uFF0C\u5F53\u4E3B\u53EF\u7528\u533A\u51FA\u73B0\u6545\u969C\u65F6\uFF0C\u8D1F\u8F7D\u5747\u8861\u53EF\u81EA\u52A8\u5207\u6362\u5230\u5907\u53EF\u7528\u533A\u4E0A\u63D0\u4F9B\u670D\u52A1\u3002</p><p>\u4E1A\u52A1\u573A\u666F\u4E8C\uFF1A</p><figure><img src="https://gitee.com/artiely/Figure-bed/raw/master/images/20200309145724.png" alt="img"></figure></li><li><p>\u5B89\u5168\u9632\u62A4</p><p>\u7ED3\u5408\u4E91\u76FE\uFF0C\u53EF\u63D0\u4F9B5Gbps\u7684\u9632DDoS\u653B\u51FB\u80FD\u529B\u3002</p></li><li><p>\u76D1\u63A7</p></li><li><p>\u8BC1\u4E66\u7BA1\u7406</p></li><li><p>\u91CD\u5B9A\u5411</p></li><li><p>WS/WSS\u652F\u6301</p></li><li><p>HTTP/2\u652F\u6301</p><p>HTTP/2\uFF08Hypertext Transfer Protocol Version 2\uFF09\u662F\u8D85\u6587\u672C\u4F20\u8F93\u534F\u8BAE\u7684\u7B2C\u4E8C\u7248\uFF0C\u5411\u4E0B\u517C\u5BB9HTTP1.X\u534F\u8BAE\u7248\u672C\uFF0C\u540C\u65F6\u5E26\u6765\u6027\u80FD\u7684\u5927\u5E45\u63D0\u5347\u3002</p></li></ol><h4 id="slb%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84" tabindex="-1"><span class="prefix"></span><span class="content">SLB\u6280\u672F\u67B6\u6784</span><span class="suffix"></span></h4><figure><img src="http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/4091/1551152011936_zh-CN.png" alt="img"></figure><h4 id="%E9%98%BF%E9%87%8C%E4%BA%91slb%E8%B4%AD%E4%B9%B0%E4%B8%8E%E6%93%8D%E4%BD%9C" tabindex="-1"><span class="prefix"></span><span class="content">\u963F\u91CC\u4E91SLB\u8D2D\u4E70\u4E0E\u64CD\u4F5C</span><span class="suffix"></span></h4><h2 id="%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86" tabindex="-1"><span class="prefix"></span><span class="content">\u6269\u5C55\u77E5\u8BC6</span><span class="suffix"></span></h2><h3 id="%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90" tabindex="-1"><span class="prefix"></span><span class="content">\u57DF\u540D\u89E3\u6790</span><span class="suffix"></span></h3><h3 id="shell%E8%84%9A%E6%9C%AC%E5%85%A5%E9%97%A8" tabindex="-1"><span class="prefix"></span><span class="content">shell\u811A\u672C\u5165\u95E8</span><span class="suffix"></span></h3><h3 id="vim%E7%BC%96%E8%BE%91%E5%99%A8%E5%85%A5%E9%97%A8" tabindex="-1"><span class="prefix"></span><span class="content">vim\u7F16\u8F91\u5668\u5165\u95E8</span><span class="suffix"></span></h3>`,205),c=[t],m={title:"Linux \u670D\u52A1\u5668",tag:["linux","centOS","nginx"],author:"Artiely",date:"2019-6-1",cover:"/2022-05-14-22-01-02.png",base64:16517,tinyCover:"/cover/2022-05-14-22-01-02.png",coverWidth:564,coverHeight:743,coverPrimary:"3f3630",coverSecondary:"c0c9cf",meta:[{property:"og:title",content:"Linux \u670D\u52A1\u5668"}]},r={__name:"2019-6-1-linux",setup(i,{expose:n}){return a({title:"Linux \u670D\u52A1\u5668",meta:[{property:"og:title",content:"Linux \u670D\u52A1\u5668"}]}),n({frontmatter:{title:"Linux \u670D\u52A1\u5668",tag:["linux","centOS","nginx"],author:"Artiely",date:"2019-6-1",cover:"/2022-05-14-22-01-02.png",base64:16517,tinyCover:"/cover/2022-05-14-22-01-02.png",coverWidth:564,coverHeight:743,coverPrimary:"3f3630",coverSecondary:"c0c9cf",meta:[{property:"og:title",content:"Linux \u670D\u52A1\u5668"}]}}),(u,b)=>(e(),p("div",null,c))}};typeof s=="function"&&s(r);export{r as default,m as frontmatter};
