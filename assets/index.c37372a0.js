import{i as a,o as p,c as e,j as n,k as o}from"./app.c9769bc0.js";var c="/assets/2022-05-11-11-51-40.58728f1f.png",t="/assets/2022-05-11-11-52-48.ab267cc6.png",l="/assets/2022-05-11-11-53-56.ee8d3b27.png",r="/assets/2022-05-11-11-56-45.944c0b6b.png",i="/assets/2022-05-11-11-59-32.c08d568c.png",u="/assets/2022-05-11-12-01-20.fe08f92d.png",k="/assets/2022-05-11-12-01-40.496b644f.png";const b=o('<h1 id="puppet-master%E9%81%93%E5%85%B7%E7%AF%87" tabindex="-1"><span class="prefix"></span><span class="content">puppet-master\u9053\u5177\u7BC7</span><span class="suffix"></span></h1><p>\u5148\u51C6\u5907\u4E00\u6279\u9053\u5177\u6A21\u578B \u94FE\u63A5: <a href="https://pan.baidu.com/s/1mq9HYDEazUKsN0BP-lD7Bw?pwd=184i" target="_blank" rel="noopener">https://pan.baidu.com/s/1mq9HYDEazUKsN0BP-lD7Bw?pwd=184i</a> \u63D0\u53D6\u7801: 184i</p><ul><li>\u573A\u666F\u4E2D\u65B0\u5EFA\u7A7A\u5BF9\u8C61\u547D\u540D<code class="">Prop</code>-&gt;\u65B0\u5EFA\u5B50\u5BF9\u8C61\u547D\u540D<code class="">Mesh Root</code></li><li>\u5C06\u9053\u5177\u9884\u5236\u4F53<code class="">Ham</code>\u62D6\u5165<code class="">Prop/</code>\u53CA<code class="">Prop/Mesh Root</code></li><li>\u5C06<code class="">Prop/Mesh Root</code>\u4E0B\u7684<code class="">Ham</code>\u53EA\u4FDD\u7559<code class="">Mesh</code>\u7EC4\u4EF6\u5982\u4E0B</li></ul><figure><img src="'+c+'" alt=""></figure><ul><li><p>\u5C06<code class="">Prop</code>\u4E0B\u7684<code class="">Ham</code>\u53EA\u4FDD\u7559<code class="">Collider</code>\u7EC4\u4EF6\u5982\u4E0B <img src="'+t+'" alt=""></p></li><li><p>\u5728<code class="">Prop</code>\u4E0A\u6DFB\u52A0\u5982\u4E0B\u7EC4\u4EF6 <img src="'+l+'" alt=""></p></li></ul><ol><li><code class="">Rigidbody</code>\u9ED8\u8BA4\u503C</li><li><code class="">Collider</code>\u8FD9\u91CC\u6211\u9009\u62E9\u7684<code class="">Mesh Collider</code> ,Mesh\u5C5E\u6027\u9009\u62E9<code class="">Ham</code>\u7684<code class="">Mesh</code>\uFF0C<code class="">Convex</code>\u9009\u62E9<code class="">true</code></li><li><code class="">Puppet Master Prop</code>\u7684 <code class="">Mesh Root</code>\u9009\u62E9<code class="">Prop</code>\u4E0B\u7684\xB7<code class="">Mesh Root</code> \u5982\u4E0B <img src="'+r+'" alt=""></li></ol><ul><li>\u5BF9\u8C61\u7ED3\u6784\u5982\u4E0B <img src="'+i+'" alt=""></li></ul><h2 id="%E5%A6%82%E4%BD%95%E6%8B%BE%E5%8F%96%E9%81%93%E5%85%B7" tabindex="-1"><span class="prefix"></span><span class="content">\u5982\u4F55\u62FE\u53D6\u9053\u5177</span><span class="suffix"></span></h2><p>\u5982\u4E0A\u7ED3\u6784\u6DFB\u52A0\u4E00\u4E2A<code class="">Pick Up Trigger</code><img src="'+u+'" alt=""><img src="'+k+`" alt=""></p><p>\u811A\u672C\u7684\u903B\u8F91</p><div class="language-cs ext-cs code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-cs line-numbers-mode"><code class="language-cs"><span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">RootMotion<span class="token punctuation">.</span>Dynamics</span><span class="token punctuation">;</span>


    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropPickUpTrigger</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span> <span class="token punctuation">{</span>
        <span class="token comment">// \u7528\u6237\u7684\u9053\u5177</span>
        <span class="token keyword">public</span> <span class="token class-name">PuppetMasterProp</span> prop<span class="token punctuation">;</span>
        <span class="token comment">// \u5DE6\u624B</span>
        <span class="token keyword">private</span> <span class="token class-name">PropMuscle</span> propMuscleRight<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> isPickUp<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">Transform</span> Player<span class="token punctuation">;</span>
        <span class="token comment">/**
         * \u5224\u65AD\u62FF\u6B66\u5668\u7684\u4EBA\u662F\u5426\u6B7B\u4EA1
         */</span>
        <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>Player<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token class-name">Redirector</span> redirector <span class="token operator">=</span> Player<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Redirector<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>redirector<span class="token punctuation">.</span>hitController<span class="token punctuation">.</span>IsDead<span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>connectTo<span class="token operator">&amp;&amp;</span>connectTo<span class="token punctuation">.</span>currentProp<span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        connectTo<span class="token punctuation">.</span>currentProp <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    
                    Player <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                    isPickUp <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    redirector<span class="token punctuation">.</span>isProp <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                Player <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                isPickUp <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnTriggerEnter</span><span class="token punctuation">(</span><span class="token class-name">Collider</span> collider<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;\u6709\u78B0\u5230\u6B66\u5668&quot;</span><span class="token operator">+</span>isPickUp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isPickUp<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token comment">// \u5982\u679C\u662F\u4EBA</span>
            <span class="token class-name">Transform</span> player <span class="token operator">=</span> collider<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>root<span class="token punctuation">;</span>
            <span class="token class-name">Transform</span> puppetMaster <span class="token operator">=</span> player<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">&quot;PuppetMaster&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>puppetMaster<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token class-name">Redirector</span> redirector <span class="token operator">=</span> player<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Redirector<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>redirector<span class="token punctuation">.</span>hitController<span class="token punctuation">.</span>IsDead<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>redirector<span class="token punctuation">.</span>isProp<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
                Player <span class="token operator">=</span> player<span class="token punctuation">;</span>
                propMuscleRight <span class="token operator">=</span> puppetMaster
                    <span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">&quot;Prop Muscle RightForearm_end&quot;</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>PropMuscle<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                connectTo<span class="token punctuation">.</span>currentProp <span class="token operator">=</span> prop<span class="token punctuation">;</span>
                redirector<span class="token punctuation">.</span>isProp <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                isPickUp <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">private</span> <span class="token return-type class-name">PropMuscle</span> connectTo <span class="token punctuation">{</span>
            <span class="token keyword">get</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span>  propMuscleRight<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><h2 id="%E6%8B%BE%E5%8F%96%E6%A0%B8%E5%BF%83%E9%80%BB%E8%BE%91%E6%98%AF" tabindex="-1"><span class="prefix"></span><span class="content">\u62FE\u53D6\u6838\u5FC3\u903B\u8F91\u662F</span><span class="suffix"></span></h2><div class="language-cs ext-cs code-wrapper"><div class="cbt-traffic_light"><span></span><span></span><span></span></div><span class="copy"></span><div class="code-inner"><pre class="language-cs line-numbers-mode"><code class="language-cs"><span class="token comment">// \u5224\u65AD\u662F\u4E0D\u662F\u4E0E\u4EBA\u53D1\u751F\u78B0\u649E</span>
<span class="token comment">// \u5224\u65AD\u9053\u5177\u72B6\u6001 (\u5982\u662F\u5426\u5DF2\u88AB\u62FE\u53D6)\u3002\u3002\u3002</span>
<span class="token comment">// \u5224\u65AD\u4EBA\u7269\u72B6\u6001 (\u662F\u5426\u6B7B\u4EA1\uFF0C\u662F\u5426\u5DF2\u6709\u6B66\u5668) \u3002\u3002\u3002</span>
<span class="token comment">// \u83B7\u53D6\u4EBA\u7269\u7684\`Prop Muscle\`\u63D2\u69FD</span>
<span class="token comment">// \u8BBE\u7F6E\`Prop Muscle\`\u63D2\u69FD\u7684\`currentProp\`\u5C5E\u6027</span>
<span class="token comment">// \u8BBE\u7F6E\u4EBA\u7269\u548C\u9053\u5177\u7684\u72B6\u6001</span>
</code></pre></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,13),m=[b],P={tag:["puppet-master","unity"],cover:"/2022-05-11-14-06-50.png",tinyCover:"/cover/2022-05-11-14-06-50.png",coverWidth:399,coverHeight:600,coverPrimary:"4b4d4c",coverSecondary:"b4b2b3",meta:[]},d={__name:"index",setup(g,{expose:s}){return a({meta:[]}),s({frontmatter:{tag:["puppet-master","unity"],cover:"/2022-05-11-14-06-50.png",tinyCover:"/cover/2022-05-11-14-06-50.png",coverWidth:399,coverHeight:600,coverPrimary:"4b4d4c",coverSecondary:"b4b2b3",meta:[]}}),(f,v)=>(p(),e("div",null,m))}};typeof n=="function"&&n(d);export{d as default,P as frontmatter};
